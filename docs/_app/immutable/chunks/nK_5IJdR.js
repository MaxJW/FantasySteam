const P=["winter","summer","fall"],d={winter:{label:"Winter",releaseStart:e=>`${e}-01-01`,releaseEnd:e=>`${e}-04-30`,draftMonth:11},summer:{label:"Summer",releaseStart:e=>`${e}-05-01`,releaseEnd:e=>`${e}-08-31`,draftMonth:3},fall:{label:"Fall",releaseStart:e=>`${e}-09-01`,releaseEnd:e=>`${e}-12-31`,draftMonth:7}};function D(e,t){return`${e}-${t}`}function I(e){const t=e.match(/^(winter|summer|fall)-(\d{4})$/);return t?{phase:t[1],season:t[2]}:null}function $(e){const t=P.indexOf(e);return t<P.length-1?P[t+1]:null}function y(e){const t=e.getMonth();return t<=3?"winter":t<=7?"summer":"fall"}function S(e,t,n=new Date){const a=parseInt(t,10),c=n.getMonth(),s=n.getFullYear(),u=d[e],i=c===u.draftMonth&&(e==="winter"?s===a-1:s===a),[h,l]=e==="winter"?[0,3]:e==="summer"?[4,7]:[8,11],r=c>=h&&c<=l&&s===a;return i||r}function E(e,t,n=new Date){for(const a of P)if(e[a]!=="completed"&&S(a,t,n))return a;return null}function b(e,t){const n=d[e];return{start:n.releaseStart(t),end:n.releaseEnd(t)}}function F(e){const t=parseInt(e,10),n=new Date().getFullYear();return t<n}function M(e){return`${e}-12-31`}function T(e,t){return e==="winter"?t+3:t+1}function N(e,t,n){return e==="winter"?t===1?"hitPick":t===2?"bombPick":t<=2+n?"seasonalPick":"altPick":t<=n?"seasonalPick":"altPick"}const p={2:8,3:6,4:4,5:3,6:2,7:2,8:2};function R(e){return p[e]??2}function Y(e){return`${e}Picks`}function x(e,t=[]){const n=new Set(t),a=[];e.hitPick&&a.push(e.hitPick);const c=["winterPicks","summerPicks","fallPicks"];let s=0;for(const u of c){const i=e[u]??[];for(const h of i)if(n.has(h)){const l=(e.altPicks??[])[s];l&&a.push(l),s++}else a.push(h)}return a}function A(e,t,n,a=0){const c=new Set(n),s=[];if(e.hitPick){const r=t[e.hitPick],o=r?.score??0;s.push({label:"Hit",gameId:e.hitPick,gameName:r?.name??"Unknown",score:o,pickType:"hitPick"})}const u=[["winterPicks","winter"],["summerPicks","summer"],["fallPicks","fall"]];let i=0;for(const[r,o]of u){const k=e[r]??[];for(const g of k)if(c.has(g)){const f=(e.altPicks??[])[i];if(f){const m=t[f],w=m?.score??0;s.push({label:`Alt (${d[o].label})`,gameId:f,gameName:m?.name??"Unknown",score:w,pickType:"altPick",phase:o})}i++}else{const f=t[g],m=f?.score??0;s.push({label:d[o].label,gameId:g,gameName:f?.name??"Unknown",score:m,pickType:"seasonalPick",phase:o})}}const l=s.reduce((r,o)=>r+o.score,0)+a;return{items:s,bombAdjustment:a,total:l}}export{P as D,d as P,x as a,D as b,M as c,$ as d,y as e,R as f,E as g,Y as h,T as i,b as j,S as k,N as l,F as m,A as n,I as p};
