import{p as aa,c as X,a,f as n,t as He,d as ct}from"../chunks/JDNhCKI5.js";import{p as Ie,f as _,a as Ee,g as e,c as r,h as et,r as t,P as f,b as de,i as ot,u as nt,s as u,Q as sa,d as s,$ as oa,n as _e,t as j}from"../chunks/CRJtwtUP.js";import{d as na,s as w,e as lr}from"../chunks/CENLCVTL.js";import{p as xt,i as b,r as Fe,s as vt}from"../chunks/CZ9d2ot9.js";import{a as zt,c as Ft,I as ht,b as ye,i as we,s as dr,d as C,f as cr}from"../chunks/BqPd8eYb.js";import{c as Se}from"../chunks/BXfxr4x3.js";import{h as ia,B as Xe}from"../chunks/DZS8vdCu.js";import{g as la}from"../chunks/IbgcBcyQ.js";import{g as da}from"../chunks/B03JS5rq.js";import{p as ca}from"../chunks/bxu5l41v.js";import{g as va}from"../chunks/X0lcOiIe.js";import{k as Bt,P as Ot,D as Ze,e as fa,b as ua,a as pa}from"../chunks/Gs9gDzk3.js";import{a as Rt,f as ma,s as ga,h as _a,i as xa,k as ha,l as ba}from"../chunks/C54pAvVO.js";import{a as vr,c as ya}from"../chunks/tZeFGYjx.js";import"../chunks/CVdz52PO.js";import{a as wa,P as $a}from"../chunks/m_AqJ5GS.js";import{I as ka}from"../chunks/BhK8jU_V.js";import{L as fr}from"../chunks/6cSMk77i.js";import{B as Pa}from"../chunks/obqS9McF.js";import{T as ur,S as Sa}from"../chunks/CPfEmrtD.js";import{c as Da,G as Ma,D as ja,a as Ca,b as Na,S as Ua}from"../chunks/DxjCRpIe.js";import{s as ze}from"../chunks/BeTfaySi.js";import{b as hr}from"../chunks/CUcS6hAn.js";import{c as La,b as pr,m as Aa}from"../chunks/CAejxoiy.js";import{A as mr,a as gr}from"../chunks/QypeJzNV.js";import{A as _r}from"../chunks/DC3RERal.js";import{A as xr}from"../chunks/CRN-wTr-.js";import{T as Ga}from"../chunks/VfPLy6kn.js";import{C as Ta,a as Ia}from"../chunks/BYKmofQ_.js";import{T as Ea,B as Ba,S as Oa}from"../chunks/DkkG5SyF.js";import{S as Ra}from"../chunks/Cwj0dzs6.js";var Ha=n("<div><!></div>");function za(ue,p){const l=aa();Ie(p,!0);let z=xt(p,"id",19,()=>La(l)),A=xt(p,"ref",15,null),re=Fe(p,["$$slots","$$events","$$legacy","id","children","child","ref"]);const G=Da.create({id:pr(()=>z()),ref:pr(()=>A(),De=>A(De))}),Z=f(()=>Aa(re,G.props));var Ge=X(),ft=_(Ge);{var tt=De=>{var Me=X(),at=_(Me);ze(at,()=>p.child,()=>({props:e(Z)})),a(De,Me)},rt=De=>{var Me=Ha();zt(Me,()=>({...e(Z)}));var at=r(Me);ze(at,()=>p.children??et),t(Me),a(De,Me)};b(ft,De=>{p.child?De(tt):De(rt,!1)})}a(ue,Ge),Ee()}var Fa=n("<div><!></div>");function Wa(ue,p){Ie(p,!0);let l=xt(p,"ref",15,null),z=Fe(p,["$$slots","$$events","$$legacy","ref","class","children"]);var A=Fa();zt(A,G=>({"data-slot":"dialog-footer",class:G,...z}),[()=>Ft("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",p.class)]);var re=r(A);ze(re,()=>p.children??et),t(A),hr(A,G=>l(G),()=>l()),a(ue,A),Ee()}var Va=n("<div><!></div>");function Ja(ue,p){Ie(p,!0);let l=xt(p,"ref",15,null),z=Fe(p,["$$slots","$$events","$$legacy","ref","class","children"]);var A=Va();zt(A,G=>({"data-slot":"dialog-header",class:G,...z}),[()=>Ft("flex flex-col gap-2 text-center sm:text-start",p.class)]);var re=r(A);ze(re,()=>p.children??et),t(A),hr(A,G=>l(G),()=>l()),a(ue,A),Ee()}function Ka(ue,p){Ie(p,!0);let l=xt(p,"ref",15,null),z=Fe(p,["$$slots","$$events","$$legacy","ref","class"]);var A=X(),re=_(A);{let G=f(()=>Ft("text-sm text-muted-foreground",p.class));Se(re,()=>za,(Z,Ge)=>{Ge(Z,vt({"data-slot":"dialog-description",get class(){return e(G)}},()=>z,{get ref(){return l()},set ref(ft){l(ft)}}))})}a(ue,A),Ee()}function Qa(ue,p){Ie(p,!0);let l=Fe(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];ht(ue,vt({name:"settings"},()=>l,{get iconNode(){return z},children:(A,re)=>{var G=X(),Z=_(G);ze(Z,()=>p.children??et),a(A,G)},$$slots:{default:!0}})),Ee()}function Ya(ue,p){Ie(p,!0);let l=Fe(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];ht(ue,vt({name:"trash-2"},()=>l,{get iconNode(){return z},children:(A,re)=>{var G=X(),Z=_(G);ze(Z,()=>p.children??et),a(A,G)},$$slots:{default:!0}})),Ee()}function qa(ue,p){Ie(p,!0);let l=Fe(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];ht(ue,vt({name:"circle-check-big"},()=>l,{get iconNode(){return z},children:(A,re)=>{var G=X(),Z=_(G);ze(Z,()=>p.children??et),a(A,G)},$$slots:{default:!0}})),Ee()}function Xa(ue,p){Ie(p,!0);let l=Fe(p,["$$slots","$$events","$$legacy"]);const z=[["circle",{cx:"12",cy:"12",r:"10"}]];ht(ue,vt({name:"circle"},()=>l,{get iconNode(){return z},children:(A,re)=>{var G=X(),Z=_(G);ze(Z,()=>p.children??et),a(A,G)},$$slots:{default:!0}})),Ee()}function Ht(ue,p){Ie(p,!0);let l=Fe(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];ht(ue,vt({name:"loader"},()=>l,{get iconNode(){return z},children:(A,re)=>{var G=X(),Z=_(G);ze(Z,()=>p.children??et),a(A,G)},$$slots:{default:!0}})),Ee()}var Za=n('<div class="h-32 animate-pulse rounded-xl bg-white/[0.04]"></div>'),es=n('<div class="space-y-4"><div class="h-12 w-48 animate-pulse rounded-lg bg-white/[0.04]"></div> <div class="grid gap-4 sm:grid-cols-3"></div></div>'),ts=n("<!> Back to dashboard",1),rs=n('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">Connection error</h2> <p class="text-sm text-muted-foreground"> </p> <div class="flex gap-3"><!> <!></div></div>'),as=n("<!> Back to dashboard",1),ss=n('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">League not found</h2> <!></div>'),os=n('<p class="text-lg font-semibold text-primary"> </p>'),ns=n("<!> <!>",1),is=n('<div class="overflow-hidden rounded-2xl border border-accent/20 bg-gradient-to-br from-accent/10 via-accent/5 to-transparent"><div class="flex flex-col items-center gap-4 px-6 py-10 text-center sm:flex-row sm:justify-center sm:gap-8 sm:text-left"><div class="flex h-20 w-20 shrink-0 items-center justify-center rounded-2xl bg-accent/20"><!></div> <div class="space-y-1"><p class="text-sm font-medium tracking-wider text-muted-foreground uppercase"> </p> <h2 class="text-2xl font-bold text-foreground md:text-3xl"> </h2> <!></div> <!></div></div>'),ls=n('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-primary/60 via-primary to-primary/60"></div>'),ds=n('<div class="absolute inset-x-0 top-0 h-0.5 bg-accent/40"></div>'),cs=n("<!> ",1),vs=n('<p class="text-center text-xs text-muted-foreground">Draft complete</p>'),fs=n('<p class="text-center text-xs text-muted-foreground">Skipped</p>'),us=n('<p class="text-center text-xs text-muted-foreground"> </p>'),ps=n('<div><!> <div class="p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="font-semibold"> </span></div> <span class="text-[10px] font-medium text-muted-foreground uppercase"> </span></div> <p class="mt-1 text-xs text-muted-foreground"> </p> <div class="mt-3"><!></div></div></div>'),ms=n('<div class="grid gap-3 sm:grid-cols-3"></div>'),gs=n("<!> Delete",1),_s=n("This will permanently delete <strong> </strong>. You cannot undo this.",1),xs=n("<!> <!>",1),hs=n("<!> <!>",1),bs=n("<!> <!>",1),ys=n('<div class="animate-fade-in-up overflow-hidden rounded-xl border border-primary/20 bg-card/60"><div class="border-b border-white/[0.06] bg-white/[0.02] px-5 py-4"><h3 class="font-semibold">League Settings</h3> <p class="text-sm text-muted-foreground">Manage picks per phase and league options.</p></div> <div class="space-y-6 p-5"><div class="flex flex-wrap items-end gap-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <p class="text-sm"> </p></div></div> <!> <div class="rounded-lg border border-destructive/20 bg-destructive/5 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div><p class="text-sm font-medium text-destructive">Delete league</p> <p class="mt-0.5 text-xs text-muted-foreground">This cannot be undone.</p></div> <!></div></div></div></div> <!>',1),ws=n('<div class="flex h-48 items-center justify-center md:h-64"><!></div>'),$s=ct('<line stroke="white" stroke-opacity="0.06" stroke-width="1"></line><text text-anchor="end" fill="#8899aa" font-size="10"> </text>',1),ks=ct('<defs><linearGradient x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-opacity="0.15"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><polygon></polygon><polyline fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></polyline><circle r="3"></circle>',1),Ps=ct('<rect fill="transparent" role="presentation"></rect>'),Ss=ct('<circle r="4" stroke="#111827" stroke-width="2"></circle>'),Ds=ct('<line stroke="white" stroke-opacity="0.15" stroke-width="1" stroke-dasharray="3 3"></line><!>',1),Ms=ct('<text text-anchor="middle" fill="#8899aa" font-size="10"> </text>'),js=n('<div class="flex items-center gap-1.5"><div class="h-2 w-2 rounded-full"></div> <span class="text-xs text-muted-foreground"> </span> <span class="font-mono text-xs font-medium text-foreground"> </span></div>'),Cs=n('<div class="mt-2 rounded-lg border border-white/[0.06] bg-white/[0.03] px-4 py-2.5"><p class="mb-1.5 text-xs font-medium text-muted-foreground"> </p> <div class="flex flex-wrap gap-x-5 gap-y-1"></div></div>'),Ns=n('<div class="flex items-center gap-1.5"><div class="h-2.5 w-2.5 rounded-sm"></div> <span class="text-xs text-muted-foreground"> </span></div>'),Us=n('<div class="overflow-x-auto"><svg class="w-full" style="min-width: 500px" role="img" aria-label="Score history chart"><!><!><!><!><!></svg></div> <!> <div class="mt-3 flex flex-wrap gap-x-4 gap-y-1.5 px-1"></div>',1),Ls=n('<div class="flex h-48 flex-col items-center justify-center gap-2 text-muted-foreground md:h-64"><!> <p class="text-sm">No score data available yet</p></div>'),As=n('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No teams yet. Wait for the draft!</div>'),Gs=n("<!> <!>",1),Ts=n('<img class="aspect-[3/4] w-full object-cover"/>'),Is=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),Es=n('<span class="font-mono text-[9px] font-bold text-white"> </span>'),Bs=n('<span class="text-[9px] text-white/70">—</span>'),Os=n('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-accent/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Hit</span></div> <!></div></button>'),Rs=n('<img class="aspect-[3/4] w-full object-cover"/>'),Hs=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),zs=n('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-destructive/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Bomb</span></div></div></button>'),Fs=n('<div class="flex flex-wrap gap-2.5"><!> <!></div>'),Ws=n('<img class="aspect-[3/4] w-full object-cover"/>'),Vs=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),Js=n('<span class="font-mono text-[9px] font-bold text-white"> </span>'),Ks=n('<span class="text-[9px] text-white/70">—</span>'),Qs=n('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-sky-400/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!> <!></div></button>'),Ys=n('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase"> </p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),qs=n('<img class="aspect-[3/4] w-full object-cover"/>'),Xs=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),Zs=n('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-dashed border-purple-400/20 text-left opacity-60 transition-all hover:border-purple-400/40 hover:opacity-100 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!></div></button>'),eo=n('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Alt (Backup)</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),to=n('<div class="animate-fade-in-up space-y-4 border-t border-white/[0.06] px-4 py-4"><!> <!> <!></div>'),ro=n('<div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 transition-colors hover:border-white/[0.1]"><button class="flex w-full cursor-pointer items-center gap-3 px-4 py-3 text-left"><span></span> <!> <div class="min-w-0 flex-1"><p class="truncate font-medium"> </p> <p class="truncate text-xs text-muted-foreground"> </p></div> <div class="flex items-center gap-3"><span class="font-mono text-lg font-bold text-primary"> </span> <!></div></button> <!></div>'),ao=n('<h2 class="text-lg font-semibold">Season Summary</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 p-4"><div class="space-y-2 text-sm text-muted-foreground"><p> </p> <p> </p></div></div>',1),so=n('<div class="py-10 text-center text-sm text-muted-foreground">No upcoming games</div>'),oo=n('<img class="h-14 w-10 shrink-0 rounded object-cover"/>'),no=n('<div class="flex h-14 w-10 shrink-0 items-center justify-center rounded bg-white/[0.04] text-[8px] text-muted-foreground">N/A</div>'),io=n('<span class="rounded bg-primary/10 px-1.5 py-0.5 text-[9px] font-medium text-primary"> </span>'),lo=n('<span class="text-[10px] text-muted-foreground"> </span> <!>',1),co=n('<span class="rounded bg-white/[0.06] px-1.5 py-0.5 text-[9px] text-muted-foreground"> </span>'),vo=n('<button type="button" class="flex w-full cursor-pointer items-start gap-2.5 rounded-lg p-2.5 text-left transition-colors hover:bg-white/[0.04] focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="min-w-0 flex-1"><h3 class="line-clamp-1 text-sm font-medium"> </h3> <div class="mt-0.5 flex items-center gap-1.5"><!></div> <div class="mt-1 flex flex-wrap gap-1"></div></div></button>'),fo=n('<div class="space-y-1 p-2"><!></div>'),uo=n('<h2 class="text-lg font-semibold">Upcoming Releases</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><!></div>',1),po=n('<div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"><div class="space-y-2"><div class="flex items-center gap-3"><h1 class="text-3xl font-bold tracking-tight md:text-4xl"> </h1> <!></div> <div class="flex flex-wrap items-center gap-2"><span class="text-sm text-muted-foreground"> </span> <span class="rounded-md bg-white/[0.05] px-2 py-0.5 font-mono text-xs text-foreground"> </span> <!></div></div></div> <!> <!> <div class="grid gap-6 lg:grid-cols-[1fr_320px]"><div class="space-y-6"><div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><div class="flex items-center gap-2 border-b border-white/[0.06] px-5 py-3"><!> <h2 class="font-semibold"> </h2></div> <div class="p-4"><!></div></div> <div class="space-y-3"><h2 class="text-lg font-semibold"> </h2> <!></div></div> <div class="space-y-3"><!></div></div>',1),mo=n('<div class="space-y-6"><!></div> <!>',1);function Jo(ue,p){Ie(p,!0);let l=de(null),z=de(ot([])),A=de(ot({})),re=de(ot({})),G=de(!0),Z=de(void 0),Ge=de(!1),ft=de(!1),tt=de(!1),rt=de(!1),De=de(ot(new Set)),Me=de(ot(new Map)),at=de(ot([])),bt=de(!1),$t=de(!1),kt=de(null),ut=de(null),yt=de(!1),We=de(null),pt=de(ot({winter:null,summer:null,fall:null})),Ae=de(null),it=de(null);async function br(){if(e(Z)){u(it,null),u(G,!0);try{const o=await Rt(e(Z));u(l,o,!0)}catch(o){u(it,o instanceof Error?o.message:"Load failed",!0)}finally{u(G,!1)}}}async function mt(o){u(kt,o,!0),u($t,!0),u(ut,null),u(yt,!0);try{const i=await vr(o);u(ut,i?{...i,id:o}:null,!0)}finally{u(yt,!1)}}function yr(){u($t,!1),u(kt,null),u(ut,null)}nt(()=>{const o=la(ca).params?.id;u(Z,o,!0),o&&u(G,!0)}),nt(()=>{const o=e(Z);o&&(u(it,null),Rt(o).then(i=>{u(l,i,!0),u(G,!1)}).catch(i=>{u(it,i instanceof Error?i.message:"Load failed",!0),u(G,!1)}))}),nt(()=>{const o=e(Z),i=e(l)?.season;!o||!i||ma(o,i).then(async I=>{if(u(pt,I,!0),!Bt(i)){await ga(o);const y=await Rt(o);y&&y.currentPhase!==e(l)?.currentPhase&&u(l,y,!0)}})}),nt(()=>{const o=e(Z);o&&_a(o).then(i=>{u(z,i,!0),Promise.all(i.map(I=>wa(I.id))).then(I=>{const y={};I.forEach((E,V)=>{E?y[i[V].id]={displayName:E.displayName||i[V].name,avatarUrl:E.avatarUrl}:y[i[V].id]={displayName:i[V].name,avatarUrl:null}}),u(re,y,!0)})})}),nt(()=>{const o=[],i=new Set;for(const I of e(z)){const y=I.picks;for(const E of[y?.hitPick,y?.bombPick,...y?.winterPicks??[],...y?.summerPicks??[],...y?.fallPicks??[],...y?.altPicks??[]].filter(Boolean))i.has(E)||(i.add(E),o.push(E))}o.length!==0&&Promise.all(o.map(I=>vr(I))).then(I=>{const y={};I.forEach((E,V)=>{E&&(y[o[V]]=E)}),u(A,{...e(A),...y},!0)})}),nt(()=>{const o=e(Z),i=e(l)?.season;!o||e(z).length===0||(u(bt,!0),u(Ae,null),i&&Bt(i)?xa(o,i).then(I=>{u(Ae,I,!0);const y=new Map;for(const E of I.graphData.series){const V=new Map;I.graphData.dates.forEach((Je,st)=>V.set(Je,E.data[st]??0)),y.set(E.teamId,V)}u(Me,y,!0)}).finally(()=>u(bt,!1)):ha(o).then(I=>u(Me,I,!0)).finally(()=>u(bt,!1)))}),nt(()=>{ya().then(o=>u(at,o,!0))});function wr(o){const i=new Set(e(De));i.has(o)?i.delete(o):i.add(o),u(De,i,!0)}function Pt(o){const i=e(l)?.delistedGames??[],I=pa(o.picks,i);let y=0;for(const E of I){const V=e(A)[E]?.score;V!=null&&(y+=V)}return y+(o.bombAdjustment??0)}const je=f(()=>!!e(l)&&!!e(l).season&&Bt(e(l).season)),St=f(()=>e(je)&&e(Ae)?[...e(z)].sort((o,i)=>(e(Ae).finalRanks[o.id]??999)-(e(Ae).finalRanks[i.id]??999)):[...e(z)].sort((o,i)=>Pt(i)-Pt(o))),Dt=f(()=>{if(e(je)&&e(Ae)?.graphData)return{dates:e(Ae).graphData.dates,series:e(Ae).graphData.series.map(y=>({name:e(re)[y.teamId]?.displayName||e(z).find(E=>E.id===y.teamId)?.name||"Unknown",data:y.data}))};if(e(Me).size===0)return null;const o=new Set;e(Me).forEach(y=>{y.forEach((E,V)=>o.add(V))});const i=Array.from(o).sort(),I=e(St).map(y=>{const E=e(Me).get(y.id)||new Map;return{name:e(re)[y.id]?.displayName||y.name,data:i.map(V=>E.get(V)||0)}});return{dates:i,series:I}});function Wt(o){return e(je)&&e(Ae)?e(Ae).finalScores[o.id]??0:Pt(o)}function Vt(o){return o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}function $r(o){if(!o)return"";const i=new Date,y=new Date(o).getTime()-i.getTime(),E=Math.ceil(y/(1e3*60*60*24));return E<=0?"Released":E===1?"Tomorrow":E<=7?`${E}d`:E<=30?`${Math.ceil(E/7)}w`:`${Math.ceil(E/30)}mo`}const Jt=f(()=>!!(e(l)&&va()?.uid===e(l).commissionerId));function Kt(){u(ft,!1)}function kr(){Kt(),u(Ge,!0)}function Pr(){Kt(),u(Ge,!1)}async function Sr(){if(e(Z)){u(rt,!0);try{await ba(e(Z)),u(tt,!1),u(Ge,!1),da("/dashboard")}catch(o){console.error(o)}finally{u(rt,!1)}}}function Dr(o){const i=e(pt)[o];return i==="completed"?qa:i==="active"||i==="pending"?Ht:Xa}function Qt(o){const i=e(pt)[o];if(i==="completed")return"Complete";if(i==="active"||i==="pending")return"In Progress";const I=Ze.indexOf(o),y=Ze.indexOf(e(l)?.currentPhase??"winter");return I<y?"Skipped":e(l)?.currentPhase===o?"Ready":"Upcoming"}function Mr(o){if(!e(l))return!1;const i=Ze.indexOf(o),I=Ze.indexOf(e(l).currentPhase);return i!==I?!1:e(pt)[o]!=="completed"}const Ve=["#5b9bf5","#6ddb7b","#f59e42","#e05d5d","#b47aed","#38bdf8","#f472b6","#facc15"];function jr(o){return o===0?"bg-yellow-500/15 text-yellow-400 ring-1 ring-yellow-500/30":o===1?"bg-slate-400/15 text-slate-300 ring-1 ring-slate-400/30":o===2?"bg-amber-600/15 text-amber-500 ring-1 ring-amber-600/30":"bg-white/[0.05] text-muted-foreground"}var Yt=mo();ia("5wjyo2",o=>{sa(()=>{oa.title=e(l)?.name??"League"??""})});var Mt=_(Yt),Cr=r(Mt);{var Nr=o=>{var i=es(),I=s(r(i),2);ye(I,20,()=>Array(3),we,(y,E)=>{var V=Za();a(y,V)}),t(I),t(i),a(o,i)},Ur=o=>{var i=X(),I=_(i);{var y=V=>{var Je=rs(),st=s(r(Je),2),jt=r(st,!0);t(st);var wt=s(st,2),Be=r(wt);Xe(Be,{onclick:br,variant:"outline",children:(Oe,lt)=>{_e();var Re=He("Retry");a(Oe,Re)},$$slots:{default:!0}});var Ke=s(Be,2);Xe(Ke,{variant:"ghost",href:"/dashboard",class:"gap-2",children:(Oe,lt)=>{var Re=ts(),Qe=_(Re);xr(Qe,{class:"h-4 w-4"}),_e(),a(Oe,Re)},$$slots:{default:!0}}),t(wt),t(Je),j(()=>w(jt,e(it))),a(V,Je)},E=V=>{var Je=X(),st=_(Je);{var jt=Be=>{var Ke=ss(),Oe=s(r(Ke),2);Xe(Oe,{variant:"outline",href:"/dashboard",class:"gap-2",children:(lt,Re)=>{var Qe=as(),Ct=_(Qe);xr(Ct,{class:"h-4 w-4"}),_e(),a(lt,Qe)},$$slots:{default:!0}}),t(Ke),a(Be,Ke)},wt=Be=>{var Ke=po(),Oe=_(Ke),lt=r(Oe),Re=r(lt),Qe=r(Re),Ct=r(Qe,!0);t(Qe);var Ar=s(Qe,2);{var Gr=U=>{Xe(U,{variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-foreground",onclick:()=>e(Ge)?Pr():kr(),children:(N,ae)=>{Qa(N,{class:"h-4 w-4"})},$$slots:{default:!0}})};b(Ar,U=>{e(Jt)&&!e(je)&&U(Gr)})}t(Re);var qt=s(Re,2),Nt=r(qt),Tr=r(Nt);t(Nt);var Ut=s(Nt,2),Ir=r(Ut,!0);t(Ut);var Er=s(Ut,2);{let U=f(()=>e(l).status==="active"?"default":e(l).status==="completed"?"secondary":"outline");Pa(Er,{get variant(){return e(U)},class:"text-[10px]",children:(N,ae)=>{_e();var W=He();j(()=>w(W,e(l).status==="draft"?"Pre-Season":e(l).status==="active"?"Active":"Completed")),a(N,W)},$$slots:{default:!0}})}t(qt),t(lt),t(Oe);var Xt=s(Oe,2);{var Br=U=>{const N=f(()=>e(St)[0]);var ae=is(),W=r(ae),S=r(W),J=r(S);Ga(J,{class:"h-10 w-10 text-accent"}),t(S);var $=s(S,2),ne=r($),k=r(ne);t(ne);var pe=s(ne,2),B=r(pe);t(pe);var ee=s(pe,2);{var ve=te=>{var ie=os(),se=r(ie);t(ie),j(ge=>w(se,`Final score: ${ge??""}`),[()=>Math.round(Wt(e(N))).toLocaleString()]),a(te,ie)};b(ee,te=>{e(N)&&te(ve)})}t($);var $e=s($,2);{var F=te=>{var ie=X(),se=_(ie);Se(se,()=>gr,(ge,K)=>{K(ge,{class:"size-16 shrink-0 ring-2 ring-accent/40 ring-offset-2 ring-offset-background",children:(oe,Le)=>{var xe=ns(),Q=_(xe);{let D=f(()=>e(re)[e(N).id]?.avatarUrl??void 0);Se(Q,()=>_r,(R,P)=>{P(R,{get src(){return e(D)},get alt(){return e(N).name}})})}var Y=s(Q,2);Se(Y,()=>mr,(D,R)=>{R(D,{class:"text-xl",children:(P,d)=>{_e();var c=He();j(x=>w(c,x),[()=>(e(re)[e(N).id]?.displayName||e(N).name).slice(0,2).toUpperCase()]),a(P,c)},$$slots:{default:!0}})}),a(oe,xe)},$$slots:{default:!0}})}),a(te,ie)};b($e,te=>{e(N)&&te(F)})}t(W),t(ae),j(()=>{w(k,`Season ${e(l).season??""} Complete`),w(B,`${(e(N)?e(re)[e(N).id]?.displayName||e(N).name:"—")??""} is the Champion`)}),a(U,ae)},Or=U=>{var N=ms();ye(N,21,()=>Ze,we,(ae,W)=>{const S=f(()=>Ot[e(W)]),J=f(()=>e(pt)[e(W)]),$=f(()=>Qt(e(W))),ne=f(()=>Dr(e(W))),k=f(()=>e(l).currentPhase===e(W)),pe=f(()=>Mr(e(W)));var B=ps(),ee=r(B);{var ve=d=>{var c=ls();a(d,c)},$e=d=>{var c=X(),x=_(c);{var g=v=>{var m=ds();a(v,m)};b(x,v=>{e(J)==="completed"&&v(g)},!0)}a(d,c)};b(ee,d=>{e(k)?d(ve):d($e,!1)})}var F=s(ee,2),te=r(F),ie=r(te),se=r(ie);{let d=f(()=>e(J)==="completed"?"text-accent":e(k)?"animate-spin text-primary":"text-muted-foreground");Se(se,()=>e(ne),(c,x)=>{x(c,{get class(){return`h-4 w-4 ${e(d)??""}`}})})}var ge=s(se,2),K=r(ge,!0);t(ge),t(ie);var oe=s(ie,2),Le=r(oe,!0);t(oe),t(te);var xe=s(te,2),Q=r(xe);t(xe);var Y=s(xe,2),D=r(Y);{var R=d=>{{let c=f(()=>e(l).id),x=f(()=>ua(e(W),e(l).season)),g=f(()=>e(k)?"glow-sm-primary":""),v=f(()=>e(k)?"default":"outline");Xe(d,{get href(){return`/league/${e(c)??""}/draft/${e(x)??""}`},size:"sm",get class(){return`w-full gap-2 ${e(g)??""}`},get variant(){return e(v)},children:(m,h)=>{var T=cs(),H=_(T);$a(H,{class:"h-3.5 w-3.5"});var O=s(H);j(()=>w(O,` ${e(J)==="active"||e(J)==="pending"?"Continue Draft":"Enter Draft Room"}`)),a(m,T)},$$slots:{default:!0}})}},P=d=>{var c=X(),x=_(c);{var g=m=>{var h=vs();a(m,h)},v=m=>{var h=X(),T=_(h);{var H=L=>{var M=fs();a(L,M)},O=L=>{var M=us(),le=r(M);t(M),j(fe=>w(le,`Complete ${fe??""} first`),[()=>Ot[Ze[Ze.indexOf(e(W))-1]]?.label??""]),a(L,M)};b(T,L=>{e($)==="Skipped"?L(H):L(O,!1)},!0)}a(m,h)};b(x,m=>{e(J)==="completed"?m(g):m(v,!1)},!0)}a(d,c)};b(D,d=>{e(pe)?d(R):d(P,!1)})}t(Y),t(F),t(B),j((d,c,x)=>{dr(B,1,`relative overflow-hidden rounded-xl border transition-all ${e(k)?"border-primary/40 bg-primary/[0.04]":e(J)==="completed"?"border-accent/20 bg-accent/[0.03]":e($)==="Skipped"?"border-white/[0.04] bg-white/[0.01] opacity-50":"border-white/[0.06] bg-white/[0.02] opacity-60"}`),w(K,e(S).label),w(Le,d),w(Q,`${c??""} — ${x??""}`)},[()=>Qt(e(W)),()=>e(S).releaseStart(parseInt(e(l).season)).slice(5),()=>e(S).releaseEnd(parseInt(e(l).season)).slice(5)]),a(ae,B)}),t(N),a(U,N)};b(Xt,U=>{e(je)&&e(Ae)?U(Br):U(Or,!1)})}var Zt=s(Xt,2);{var Rr=U=>{var N=ys(),ae=_(N),W=s(r(ae),2),S=r(W),J=r(S),$=r(J);fr($,{for:"editSeason",class:"text-muted-foreground",children:(se,ge)=>{_e();var K=He("Season");a(se,K)},$$slots:{default:!0}});var ne=s($,2);ka(ne,{id:"editSeason",get value(){return e(l).season},readonly:!0,class:"w-28 bg-white/[0.03] font-mono read-only:cursor-default read-only:opacity-100"}),t(J);var k=s(J,2),pe=r(k);fr(pe,{class:"text-muted-foreground",children:(se,ge)=>{_e();var K=He("Picks per phase");a(se,K)},$$slots:{default:!0}});var B=s(pe,2),ee=r(B);t(B),t(k),t(S);var ve=s(S,2);Sa(ve,{class:"opacity-30"});var $e=s(ve,2),F=r($e),te=s(r(F),2);Xe(te,{variant:"destructive",size:"sm",onclick:()=>u(tt,!0),class:"shrink-0 gap-2",children:(se,ge)=>{var K=gs(),oe=_(K);Ya(oe,{class:"h-4 w-4"}),_e(),a(se,K)},$$slots:{default:!0}}),t(F),t($e),t(W),t(ae);var ie=s(ae,2);Se(ie,()=>Na,(se,ge)=>{ge(se,{get open(){return e(tt)},set open(K){u(tt,K,!0)},children:(K,oe)=>{var Le=X(),xe=_(Le);Se(xe,()=>ja,(Q,Y)=>{Y(Q,{children:(D,R)=>{var P=bs(),d=_(P);Se(d,()=>Ja,(x,g)=>{g(x,{children:(v,m)=>{var h=xs(),T=_(h);Se(T,()=>Ca,(O,L)=>{L(O,{children:(M,le)=>{_e();var fe=He("Delete league?");a(M,fe)},$$slots:{default:!0}})});var H=s(T,2);Se(H,()=>Ka,(O,L)=>{L(O,{children:(M,le)=>{_e();var fe=_s(),he=s(_(fe)),be=r(he,!0);t(he),_e(),j(()=>w(be,e(l)?.name)),a(M,fe)},$$slots:{default:!0}})}),a(v,h)},$$slots:{default:!0}})});var c=s(d,2);Se(c,()=>Wa,(x,g)=>{g(x,{class:"gap-2",children:(v,m)=>{var h=hs(),T=_(h);Xe(T,{variant:"outline",onclick:()=>u(tt,!1),get disabled(){return e(rt)},children:(O,L)=>{_e();var M=He("Cancel");a(O,M)},$$slots:{default:!0}});var H=s(T,2);Xe(H,{variant:"destructive",onclick:Sr,get disabled(){return e(rt)},children:(O,L)=>{_e();var M=He();j(()=>w(M,e(rt)?"Deleting...":"Delete league")),a(O,M)},$$slots:{default:!0}}),a(v,h)},$$slots:{default:!0}})}),a(D,P)},$$slots:{default:!0}})}),a(K,Le)},$$slots:{default:!0}})}),j(se=>w(ee,`${se??""} (based on 
								${e(l)?.members.length??0??""} players)`),[()=>e(l)?fa(e(l).members.length):"—"]),a(U,N)};b(Zt,U=>{e(Ge)&&e(Jt)&&!e(je)&&U(Rr)})}var er=s(Zt,2),Lt=r(er),At=r(Lt),Gt=r(At),tr=r(Gt);ur(tr,{class:"h-4 w-4 text-primary"});var rr=s(tr,2),Hr=r(rr,!0);t(rr),t(Gt);var ar=s(Gt,2),zr=r(ar);{var Fr=U=>{var N=ws(),ae=r(N);Ht(ae,{class:"h-5 w-5 animate-spin text-muted-foreground"}),t(N),a(U,N)},Wr=U=>{var N=X(),ae=_(N);{var W=J=>{const $=f(()=>e(Dt)),ne=f(()=>Math.max(...e($).series.map(D=>Math.max(...D.data)),1)),k=f(()=>({top:20,right:20,bottom:30,left:45})),pe=f(()=>800),B=f(()=>280),ee=f(()=>e(pe)-e(k).left-e(k).right),ve=f(()=>e(B)-e(k).top-e(k).bottom);var $e=Us(),F=_($e),te=r(F);C(te,"viewBox",`0 0 ${e(pe)??""} ${e(B)??""}`);var ie=r(te);ye(ie,16,()=>Array(5),we,(D,R,P)=>{const d=f(()=>e(k).top+e(ve)*P/4);var c=$s(),x=_(c),g=s(x),v=r(g,!0);t(g),j(m=>{C(x,"x1",e(k).left),C(x,"y1",e(d)),C(x,"x2",e(pe)-e(k).right),C(x,"y2",e(d)),C(g,"x",e(k).left-8),C(g,"y",e(d)+4),w(v,m)},[()=>Math.round(e(ne)*(1-P/4))]),a(D,c)});var se=s(ie);ye(se,17,()=>e($).series,we,(D,R,P)=>{const d=f(()=>Ve[P%Ve.length]),c=f(()=>e(R).data.map((le,fe)=>{const he=e(k).left+e(ee)*fe/(e($).dates.length-1||1),be=e(k).top+e(ve)-e(ve)*le/e(ne);return{x:he,y:be}})),x=f(()=>e(c).map(le=>`${le.x},${le.y}`).join(" ")),g=f(()=>e(c)[e(c).length-1]);var v=ks(),m=_(v),h=r(m);C(h,"id",`grad-${P}`);var T=r(h),H=s(T);t(h),t(m);var O=s(m);C(O,"fill",`url(#grad-${P})`);var L=s(O),M=s(L);j(()=>{C(T,"stop-color",e(d)),C(H,"stop-color",e(d)),C(O,"points",`${e(k).left??""},${e(k).top+e(ve)} ${e(x)??""} ${e(c)[e(c).length-1].x??""},${e(k).top+e(ve)}`),C(L,"points",e(x)),C(L,"stroke",e(d)),C(M,"cx",e(g).x),C(M,"cy",e(g).y),C(M,"fill",e(d))}),a(D,v)});var ge=s(se);ye(ge,17,()=>e($).dates,we,(D,R,P)=>{const d=f(()=>e(k).left+e(ee)*P/(e($).dates.length-1||1));var c=Ps();j(()=>{C(c,"x",e(d)-e(ee)/(e($).dates.length-1||1)/2),C(c,"y",e(k).top),C(c,"width",e(ee)/(e($).dates.length-1||1)),C(c,"height",e(ve))}),lr("mouseenter",c,()=>u(We,P,!0)),a(D,c)});var K=s(ge);{var oe=D=>{const R=f(()=>e(k).left+e(ee)*e(We)/(e($).dates.length-1||1));var P=Ds(),d=_(P),c=s(d);ye(c,17,()=>e($).series,we,(x,g,v)=>{const m=f(()=>Ve[v%Ve.length]),h=f(()=>e(g).data[e(We)]),T=f(()=>e(k).top+e(ve)-e(ve)*e(h)/e(ne));var H=Ss();j(()=>{C(H,"cx",e(R)),C(H,"cy",e(T)),C(H,"fill",e(m))}),a(x,H)}),j(()=>{C(d,"x1",e(R)),C(d,"y1",e(k).top),C(d,"x2",e(R)),C(d,"y2",e(k).top+e(ve))}),a(D,P)};b(K,D=>{e(We)!==null&&D(oe)})}var Le=s(K);ye(Le,17,()=>e($).dates,we,(D,R,P)=>{const d=f(()=>P%Math.ceil(e($).dates.length/7)===0||P===e($).dates.length-1);var c=X(),x=_(c);{var g=v=>{const m=f(()=>e(k).left+e(ee)*P/(e($).dates.length-1||1));var h=Ms();C(h,"y",e(B)-6);var T=r(h,!0);t(h),j(H=>{C(h,"x",e(m)),w(T,H)},[()=>Vt(e(R))]),a(v,h)};b(x,v=>{e(d)&&v(g)})}a(D,c)}),t(te),t(F);var xe=s(F,2);{var Q=D=>{var R=Cs(),P=r(R),d=r(P,!0);t(P);var c=s(P,2);ye(c,21,()=>e($).series,we,(x,g,v)=>{var m=js(),h=r(m),T=s(h,2),H=r(T,!0);t(T);var O=s(T,2),L=r(O,!0);t(O),t(m),j(M=>{cr(h,`background: ${Ve[v%Ve.length]??""}`),w(H,e(g).name),w(L,M)},[()=>Math.round(e(g).data[e(We)])]),a(x,m)}),t(c),t(R),j(x=>w(d,x),[()=>Vt(e($).dates[e(We)])]),a(D,R)};b(xe,D=>{e(We)!==null&&D(Q)})}var Y=s(xe,2);ye(Y,21,()=>e($).series,we,(D,R,P)=>{var d=Ns(),c=r(d),x=s(c,2),g=r(x,!0);t(x),t(d),j(()=>{cr(c,`background: ${Ve[P%Ve.length]??""}`),w(g,e(R).name)}),a(D,d)}),t(Y),lr("mouseleave",te,()=>u(We,null)),a(J,$e)},S=J=>{var $=Ls(),ne=r($);ur(ne,{class:"h-8 w-8 opacity-30"}),_e(2),t($),a(J,$)};b(ae,J=>{e(Dt)&&e(Dt).dates.length>0?J(W):J(S,!1)},!0)}a(U,N)};b(zr,U=>{e(bt)?U(Fr):U(Wr,!1)})}t(ar),t(At);var sr=s(At,2),Tt=r(sr),Vr=r(Tt,!0);t(Tt);var Jr=s(Tt,2);{var Kr=U=>{var N=As();a(U,N)},Qr=U=>{var N=X(),ae=_(N);ye(ae,17,()=>e(St),we,(W,S,J)=>{var $=ro(),ne=r($);ne.__click=()=>wr(e(S).id);var k=r(ne);k.textContent=J+1;var pe=s(k,2);Se(pe,()=>gr,(Q,Y)=>{Y(Q,{class:"size-9 shrink-0",children:(D,R)=>{var P=Gs(),d=_(P);{let x=f(()=>e(re)[e(S).id]?.avatarUrl??void 0);Se(d,()=>_r,(g,v)=>{v(g,{get src(){return e(x)},get alt(){return e(S).name}})})}var c=s(d,2);Se(c,()=>mr,(x,g)=>{g(x,{class:"text-xs",children:(v,m)=>{_e();var h=He();j(T=>w(h,T),[()=>(e(re)[e(S).id]?.displayName||e(S).name).slice(0,2).toUpperCase()]),a(v,h)},$$slots:{default:!0}})}),a(D,P)},$$slots:{default:!0}})});var B=s(pe,2),ee=r(B),ve=r(ee,!0);t(ee);var $e=s(ee,2),F=r($e,!0);t($e),t(B);var te=s(B,2),ie=r(te),se=r(ie,!0);t(ie);var ge=s(ie,2);{var K=Q=>{Ta(Q,{class:"h-4 w-4 text-muted-foreground"})},oe=Q=>{Ia(Q,{class:"h-4 w-4 text-muted-foreground"})};b(ge,Q=>{e(De).has(e(S).id)?Q(K):Q(oe,!1)})}t(te),t(ne);var Le=s(ne,2);{var xe=Q=>{const Y=f(()=>e(S).picks?.hitPick?e(A)[e(S).picks.hitPick]:null),D=f(()=>e(S).picks?.bombPick?e(A)[e(S).picks.bombPick]:null);var R=to(),P=r(R);{var d=v=>{var m=Fs(),h=r(m);{var T=L=>{var M=Os();M.__click=()=>mt(e(S).picks.hitPick);var le=r(M);{var fe=q=>{var ce=Ts();j(()=>{C(ce,"src",e(Y).coverUrl),C(ce,"alt",e(Y).name)}),a(q,ce)},he=q=>{var ce=Is(),Ne=r(ce),qe=r(Ne,!0);t(Ne),t(ce),j(()=>w(qe,e(Y).name)),a(q,ce)};b(le,q=>{e(Y).coverUrl?q(fe):q(he,!1)})}var be=s(le,2),Te=r(be),Ye=r(Te);Ea(Ye,{class:"h-2.5 w-2.5 text-accent"}),_e(2),t(Te);var me=s(Te,2);{var ke=q=>{var ce=Es(),Ne=r(ce,!0);t(ce),j(qe=>w(Ne,qe),[()=>Math.round(e(Y).score)]),a(q,ce)},Ce=q=>{var ce=X(),Ne=_(ce);{var qe=gt=>{var It=Bs();a(gt,It)};b(Ne,gt=>{e(je)&&gt(qe)},!0)}a(q,ce)};b(me,q=>{!e(je)&&e(Y).score!=null?q(ke):q(Ce,!1)})}t(be),t(M),a(L,M)};b(h,L=>{e(Y)&&L(T)})}var H=s(h,2);{var O=L=>{var M=zs();M.__click=()=>mt(e(S).picks.bombPick);var le=r(M);{var fe=me=>{var ke=Rs();j(()=>{C(ke,"src",e(D).coverUrl),C(ke,"alt",e(D).name)}),a(me,ke)},he=me=>{var ke=Hs(),Ce=r(ke),q=r(Ce,!0);t(Ce),t(ke),j(()=>w(q,e(D).name)),a(me,ke)};b(le,me=>{e(D).coverUrl?me(fe):me(he,!1)})}var be=s(le,2),Te=r(be),Ye=r(Te);Ba(Ye,{class:"h-2.5 w-2.5 text-destructive"}),_e(2),t(Te),t(be),t(M),a(L,M)};b(H,L=>{e(D)&&L(O)})}t(m),a(v,m)};b(P,v=>{(e(Y)||e(D))&&v(d)})}var c=s(P,2);ye(c,17,()=>Ze,we,(v,m)=>{const h=f(()=>e(m)==="winter"?"winterPicks":e(m)==="summer"?"summerPicks":"fallPicks"),T=f(()=>e(S).picks?.[e(h)]??[]);var H=X(),O=_(H);{var L=M=>{var le=Ys(),fe=r(le),he=r(fe,!0);t(fe);var be=s(fe,2);ye(be,21,()=>e(T),we,(Te,Ye)=>{const me=f(()=>e(A)[e(Ye)]);var ke=X(),Ce=_(ke);{var q=ce=>{var Ne=Qs();Ne.__click=()=>mt(e(Ye));var qe=r(Ne);{var gt=Ue=>{var Pe=Ws();j(()=>{C(Pe,"src",e(me).coverUrl),C(Pe,"alt",e(me).name)}),a(Ue,Pe)},It=Ue=>{var Pe=Vs(),dt=r(Pe),_t=r(dt,!0);t(dt),t(Pe),j(()=>w(_t,e(me).name)),a(Ue,Pe)};b(qe,Ue=>{e(me).coverUrl?Ue(gt):Ue(It,!1)})}var nr=s(qe,2),ir=r(nr);Ra(ir,{class:"h-2.5 w-2.5 text-sky-400"});var Zr=s(ir,2);{var ea=Ue=>{var Pe=Js(),dt=r(Pe,!0);t(Pe),j(_t=>w(dt,_t),[()=>Math.round(e(me).score)]),a(Ue,Pe)},ta=Ue=>{var Pe=X(),dt=_(Pe);{var _t=Et=>{var ra=Ks();a(Et,ra)};b(dt,Et=>{e(je)&&Et(_t)},!0)}a(Ue,Pe)};b(Zr,Ue=>{!e(je)&&e(me).score!=null?Ue(ea):Ue(ta,!1)})}t(nr),t(Ne),a(ce,Ne)};b(Ce,ce=>{e(me)&&ce(q)})}a(Te,ke)}),t(be),t(le),j(()=>w(he,Ot[e(m)].label)),a(M,le)};b(O,M=>{e(T).length>0&&M(L)})}a(v,H)});var x=s(c,2);{var g=v=>{var m=eo(),h=s(r(m),2);ye(h,21,()=>e(S).picks?.altPicks??[],we,(T,H)=>{const O=f(()=>e(A)[e(H)]);var L=X(),M=_(L);{var le=fe=>{var he=Zs();he.__click=()=>mt(e(H));var be=r(he);{var Te=Ce=>{var q=qs();j(()=>{C(q,"src",e(O).coverUrl),C(q,"alt",e(O).name)}),a(Ce,q)},Ye=Ce=>{var q=Xs(),ce=r(q),Ne=r(ce,!0);t(ce),t(q),j(()=>w(Ne,e(O).name)),a(Ce,q)};b(be,Ce=>{e(O).coverUrl?Ce(Te):Ce(Ye,!1)})}var me=s(be,2),ke=r(me);Oa(ke,{class:"h-2.5 w-2.5 text-purple-400"}),t(me),t(he),a(fe,he)};b(M,fe=>{e(O)&&fe(le)})}a(T,L)}),t(h),t(m),a(v,m)};b(x,v=>{(e(S).picks?.altPicks??[]).length>0&&v(g)})}t(R),a(Q,R)};b(Le,Q=>{e(De).has(e(S).id)&&Q(xe)})}t($),j((Q,Y)=>{dr(k,1,`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-xs font-bold ${Q??""}`),w(ve,e(re)[e(S).id]?.displayName||e(S).name),w(F,e(S).name),w(se,Y)},[()=>jr(J),()=>Math.round(Wt(e(S)))]),a(W,$)}),a(U,N)};b(Jr,U=>{e(z).length===0?U(Kr):U(Qr,!1)})}t(sr),t(Lt);var or=s(Lt,2),Yr=r(or);{var qr=U=>{var N=ao(),ae=s(_(N),2),W=r(ae),S=r(W),J=r(S);t(S);var $=s(S,2),ne=r($);t($),t(W),t(ae),j(k=>{w(J,`${e(z).length??""} players competed in Season ${e(l).season??""}.`),w(ne,`${k??""} games drafted`)},[()=>e(z).reduce((k,pe)=>{const B=pe.picks,ee=(B?.hitPick?1:0)+(B?.bombPick?1:0)+(B?.winterPicks?.length??0)+(B?.summerPicks?.length??0)+(B?.fallPicks?.length??0)+(B?.altPicks?.length??0);return k+ee},0)]),a(U,N)},Xr=U=>{var N=uo(),ae=s(_(N),2),W=r(ae);Ua(W,{class:"h-[calc(100vh-14rem)]",children:(S,J)=>{var $=fo(),ne=r($);{var k=B=>{var ee=so();a(B,ee)},pe=B=>{var ee=X(),ve=_(ee);ye(ve,17,()=>e(at),we,($e,F)=>{const te=f(()=>e(z).filter(K=>{const oe=K.picks;return oe?.hitPick===e(F).id||oe?.bombPick===e(F).id||oe?.winterPicks?.includes(e(F).id)||oe?.summerPicks?.includes(e(F).id)||oe?.fallPicks?.includes(e(F).id)||oe?.altPicks?.includes(e(F).id)}));var ie=X(),se=_(ie);{var ge=K=>{var oe=vo();oe.__click=()=>mt(e(F).id);var Le=r(oe);{var xe=g=>{var v=oo();j(()=>{C(v,"src",e(F).coverUrl),C(v,"alt",e(F).name)}),a(g,v)},Q=g=>{var v=no();a(g,v)};b(Le,g=>{e(F).coverUrl?g(xe):g(Q,!1)})}var Y=s(Le,2),D=r(Y),R=r(D,!0);t(D);var P=s(D,2),d=r(P);{var c=g=>{const v=f(()=>$r(e(F).releaseDate));var m=lo(),h=_(m),T=r(h,!0);t(h);var H=s(h,2);{var O=L=>{var M=io(),le=r(M,!0);t(M),j(()=>w(le,e(v))),a(L,M)};b(H,L=>{e(v)&&e(v)!=="Released"&&L(O)})}j(L=>w(T,L),[()=>new Date(e(F).releaseDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),a(g,m)};b(d,g=>{e(F).releaseDate&&g(c)})}t(P);var x=s(P,2);ye(x,21,()=>e(te),we,(g,v)=>{var m=co(),h=r(m,!0);t(m),j(()=>w(h,e(re)[e(v).id]?.displayName||e(v).name)),a(g,m)}),t(x),t(Y),t(oe),j(()=>w(R,e(F).name)),a(K,oe)};b(se,K=>{e(te).length>0&&K(ge)})}a($e,ie)}),a(B,ee)};b(ne,B=>{e(at).length===0?B(k):B(pe,!1)})}t($),a(S,$)},$$slots:{default:!0}}),t(ae),a(U,N)};b(Yr,U=>{e(je)?U(qr):U(Xr,!1)})}t(or),t(er),j(()=>{w(Ct,e(l).name),w(Tr,`Season ${e(l).season??""}`),w(Ir,e(l).code),w(Hr,e(je)?"Season score progression":"Score History"),w(Vr,e(je)?"Final Standings":"Standings")}),a(Be,Ke)};b(st,Be=>{e(l)?Be(wt,!1):Be(jt)},!0)}a(V,Je)};b(I,V=>{e(it)?V(y):V(E,!1)},!0)}a(o,i)};b(Cr,o=>{e(G)?o(Nr):o(Ur,!1)})}t(Mt);var Lr=s(Mt,2);{let o=f(()=>e(kt)!=null&&!e(yt)&&e(ut)==null);Ma(Lr,{get open(){return e($t)},onOpenChange:i=>!i&&yr(),get game(){return e(ut)},get loading(){return e(yt)},get showNotFound(){return e(o)}})}a(ue,Yt),Ee()}na(["click"]);export{Jo as component};
