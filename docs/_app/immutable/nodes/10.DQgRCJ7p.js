import{p as Da,c as G,a,f as c,t as rt,d as Yt}from"../chunks/pyPIpmmY.js";import{p as Je,f,a as Ke,g as e,c as r,q as $t,r as t,Q as d,d as o,t as k,n as Te,b as te,v as lt,u as dt,s as u,R as Ca,$ as Ba}from"../chunks/DF867mGY.js";import{d as yr,s as p,e as Ir}from"../chunks/DSAxjhn7.js";import{p as vt,i as g,r as ft,s as Wt}from"../chunks/BKNE1mCW.js";import{a as wr,c as kr,I as Xt,s as Qt,d as E,b as Pe,i as $e,f as jr}from"../chunks/Rpk1U1Qo.js";import{c as Se}from"../chunks/B__RpEuR.js";import{h as Ta,B as Rt}from"../chunks/a5zqx5zQ.js";import{g as Ma}from"../chunks/Ca-ePyvm.js";import{g as Na}from"../chunks/BQJX7u59.js";import{p as La}from"../chunks/CgSaA_hL.js";import{g as Ar}from"../chunks/O3iSBb2n.js";import{P as ir,n as Ga,m as Kt,c as Or,k as sr,D as ct,f as Ia,a as ja,b as Aa}from"../chunks/nK_5IJdR.js";import{a as br,f as Oa,s as Ra,h as Ea,i as Ua,k as Fa,l as Ha,m as Wa,n as Va}from"../chunks/DgKbhG9K.js";import{a as Rr,d as za}from"../chunks/BnIGv0Ow.js";import{a as qa,P as Ja}from"../chunks/D092KXZ4.js";import{d as Ka,D as Kr,a as Qr,b as Yr,g as Qa,G as Ya,r as Xa,c as Za,C as es,e as ts,S as rs}from"../chunks/Cs4YmaMo.js";import{I as as}from"../chunks/DMIQz9XH.js";import{L as Er}from"../chunks/CeXQC5Hb.js";import{B as ss}from"../chunks/-zWuGJ0n.js";import{L as Xr,S as Zr,T as Ur,a as os}from"../chunks/CsNz3rYr.js";import{s as ut}from"../chunks/iQ9SZGQO.js";import{b as ea}from"../chunks/Cr0XGr2S.js";import{c as ns,b as Fr,m as is}from"../chunks/CH54Dsf_.js";import{A as Hr,a as Wr}from"../chunks/Dpu_UEgS.js";import{A as Vr}from"../chunks/BvS2zBqa.js";import{S as ls,B as ta,T as ra}from"../chunks/C4hLVafM.js";import{S as aa}from"../chunks/Be0SUrXb.js";import{A as zr}from"../chunks/D0Pyxr-9.js";import{T as ds}from"../chunks/hJJSPZzi.js";import{I as qr}from"../chunks/DSgLyKwp.js";var cs=c("<div><!></div>");function vs(se,n){const i=Da();Je(n,!0);let D=vt(n,"id",19,()=>ns(i)),x=vt(n,"ref",15,null),U=ft(n,["$$slots","$$events","$$legacy","id","children","child","ref"]);const w=Ka.create({id:Fr(()=>D()),ref:Fr(()=>x(),H=>x(H))}),F=d(()=>is(U,w.props));var Ge=G(),Ue=f(Ge);{var Me=H=>{var _e=G(),Ne=f(_e);ut(Ne,()=>n.child,()=>({props:e(F)})),a(H,_e)},Qe=H=>{var _e=cs();wr(_e,()=>({...e(F)}));var Ne=r(_e);ut(Ne,()=>n.children??$t),t(_e),a(H,_e)};g(Ue,H=>{n.child?H(Me):H(Qe,!1)})}a(se,Ge),Ke()}var us=c("<div><!></div>");function fs(se,n){Je(n,!0);let i=vt(n,"ref",15,null),D=ft(n,["$$slots","$$events","$$legacy","ref","class","children"]);var x=us();wr(x,w=>({"data-slot":"dialog-footer",class:w,...D}),[()=>kr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n.class)]);var U=r(x);ut(U,()=>n.children??$t),t(x),ea(x,w=>i(w),()=>i()),a(se,x),Ke()}var ms=c("<div><!></div>");function gs(se,n){Je(n,!0);let i=vt(n,"ref",15,null),D=ft(n,["$$slots","$$events","$$legacy","ref","class","children"]);var x=ms();wr(x,w=>({"data-slot":"dialog-header",class:w,...D}),[()=>kr("flex flex-col gap-2 text-center sm:text-start",n.class)]);var U=r(x);ut(U,()=>n.children??$t),t(x),ea(x,w=>i(w),()=>i()),a(se,x),Ke()}function sa(se,n){Je(n,!0);let i=vt(n,"ref",15,null),D=ft(n,["$$slots","$$events","$$legacy","ref","class"]);var x=G(),U=f(x);{let w=d(()=>kr("text-sm text-muted-foreground",n.class));Se(U,()=>vs,(F,Ge)=>{Ge(F,Wt({"data-slot":"dialog-description",get class(){return e(w)}},()=>D,{get ref(){return i()},set ref(Ue){i(Ue)}}))})}a(se,x),Ke()}function ps(se,n){Je(n,!0);let i=ft(n,["$$slots","$$events","$$legacy"]);const D=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];Xt(se,Wt({name:"settings"},()=>i,{get iconNode(){return D},children:(x,U)=>{var w=G(),F=f(w);ut(F,()=>n.children??$t),a(x,w)},$$slots:{default:!0}})),Ke()}function _s(se,n){Je(n,!0);let i=ft(n,["$$slots","$$events","$$legacy"]);const D=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Xt(se,Wt({name:"trash-2"},()=>i,{get iconNode(){return D},children:(x,U)=>{var w=G(),F=f(w);ut(F,()=>n.children??$t),a(x,w)},$$slots:{default:!0}})),Ke()}var xs=c('<img class="aspect-[3/4] w-full object-cover"/>'),hs=c('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),bs=c('<span class="font-mono text-xs font-bold text-destructive"> </span>'),ys=c('<span class="font-mono text-xs font-bold text-white"> </span>'),ws=c('<span class="text-xs text-white/70">—</span>'),ks=c('<button type="button"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-2 py-1.5"><div class="flex min-w-0 flex-1 items-center gap-1"><!> <span class="truncate text-xs font-medium text-white"> </span></div> <div class="flex h-4 min-w-6 shrink-0 items-center justify-end"><!></div></div></button>');function or(se,n){Je(n,!0);let i=vt(n,"phase",3,"winter"),D=vt(n,"isPastSeasonView",3,!1);const x=d(()=>n.pickType==="bombPick"&&n.bombReceivedLabel!=null&&n.bombDamageReceived!=null),U=d(()=>{switch(n.pickType){case"hitPick":return{icon:ra,label:"Hit",color:"text-accent",hoverBorder:"hover:border-accent/40",border:"border-white/[0.08]"};case"bombPick":return{icon:ta,label:"Bomb",color:"text-destructive",hoverBorder:"hover:border-destructive/40",border:"border-white/[0.08]"};case"seasonalPick":const Y={winter:aa,summer:Zr,fall:Xr},ue={winter:"text-sky-400",summer:"text-amber-400",fall:"text-amber-600"};return{icon:Y[i()],label:ir[i()].label,color:ue[i()],hoverBorder:"hover:border-sky-400/40",border:"border-white/[0.08]"};case"altPick":return{icon:ls,label:"Alt",color:"text-purple-400",hoverBorder:"hover:border-purple-400/40",border:"border-dashed border-purple-400/20"}}}),w=d(()=>n.pickType==="hitPick"||n.pickType==="seasonalPick"||e(x)),F=d(()=>e(x)?n.bombReceivedLabel:e(U).label),Ge=d(()=>e(U).icon);var Ue=ks();Ue.__click=function(...Y){n.onclick?.apply(this,Y)};var Me=r(Ue);{var Qe=Y=>{var ue=xs();k(()=>{E(ue,"src",n.game.coverUrl),E(ue,"alt",n.game.name)}),a(Y,ue)},H=Y=>{var ue=hs(),De=r(ue),He=r(De,!0);t(De),t(ue),k(()=>p(He,n.game.name)),a(Y,ue)};g(Me,Y=>{n.game.coverUrl?Y(Qe):Y(H,!1)})}var _e=o(Me,2),Ne=r(_e),mt=r(Ne);Se(mt,()=>e(Ge),(Y,ue)=>{ue(Y,{get class(){return`h-3.5 w-3.5 shrink-0 ${e(U).color??""}`}})});var St=o(mt,2),Le=r(St,!0);t(St),t(Ne);var at=o(Ne,2),Et=r(at);{var Fe=Y=>{var ue=G(),De=f(ue);{var He=xe=>{var We=bs(),Ce=r(We,!0);t(We),k((he,Xe)=>{E(We,"title",`${he??""} damage from this bomb`),p(Ce,Xe)},[()=>Math.round(n.bombDamageReceived),()=>Math.round(n.bombDamageReceived)]),a(xe,We)},Ye=xe=>{var We=G(),Ce=f(We);{var he=Be=>{var Ie=ys(),Dt=r(Ie,!0);t(Ie),k(gt=>p(Dt,gt),[()=>Math.round(n.game.score)]),a(Be,Ie)},Xe=Be=>{var Ie=G(),Dt=f(Ie);{var gt=pt=>{var ie=ws();a(pt,ie)};g(Dt,pt=>{D()&&pt(gt)},!0)}a(Be,Ie)};g(Ce,Be=>{!D()&&n.game.score!=null?Be(he):Be(Xe,!1)},!0)}a(xe,We)};g(De,xe=>{e(x)?xe(He):xe(Ye,!1)})}a(Y,ue)};g(Et,Y=>{e(w)&&Y(Fe)})}t(at),t(_e),t(Ue),k(()=>{Qt(Ue,1,`group relative block w-full cursor-pointer overflow-hidden rounded-lg text-left transition-all focus:ring-2 focus:ring-ring focus:outline-none ${e(U).border??""} ${e(U).hoverBorder??""} ${n.pickType==="altPick"?"opacity-60 hover:opacity-100":""} hover:shadow-md`),p(Le,e(F))}),a(se,Ue),Ke()}yr(["click"]);var Ps=c('<p class="text-xs text-muted-foreground"> </p>'),$s=c('<button type="button" class="flex w-full items-center justify-between gap-3 px-3 py-2 text-left transition-colors hover:bg-white/[0.04] focus:ring-2 focus:ring-ring focus:outline-none disabled:pointer-events-none disabled:opacity-50"><div class="min-w-0 flex-1"><p class="truncate text-sm font-medium"> </p> <!></div> <span class="shrink-0 font-mono text-sm font-semibold tabular-nums"> </span></button>'),Ss=c('<div><div><!> <p class="text-sm font-medium"> </p></div> <div class="max-h-40 overflow-y-auto"></div> <div><span class="text-xs font-medium text-muted-foreground">Subtotal</span> <span class="font-mono text-sm font-semibold tabular-nums"> </span></div></div>'),Ds=c('<button type="button" class="flex w-full items-center justify-between gap-3 px-3 py-2 text-left transition-colors hover:bg-destructive/10 focus:ring-2 focus:ring-ring focus:outline-none disabled:pointer-events-none disabled:opacity-50"><div class="min-w-0 flex-1"><p class="truncate text-sm font-medium"> </p> <p class="text-xs text-muted-foreground"> </p></div> <span class="shrink-0 font-mono text-sm font-semibold text-destructive tabular-nums"> </span></button>'),Cs=c('<div class="max-h-40 overflow-y-auto"></div>'),Bs=c(`<div class="overflow-hidden rounded-lg border border-destructive/20 bg-destructive/5"><div class="flex items-center gap-2 border-b border-destructive/10 px-3 py-2.5"><!> <div><p class="text-sm font-medium">Bomb damage received</p> <p class="text-xs text-muted-foreground">From other players' bomb picks</p></div></div> <!> <div class="flex items-center justify-between border-t border-destructive/10 bg-destructive/5 px-3 py-2"><span class="text-xs font-medium text-muted-foreground">Subtotal</span> <span class="font-mono text-sm font-semibold text-destructive tabular-nums"> </span></div></div>`),Ts=c('<div class="space-y-3"><!> <!> <div class="flex items-center justify-between border-t border-white/[0.06] pt-3"><p class="font-semibold">Total</p> <span class="font-mono text-lg font-bold text-primary tabular-nums"> </span></div></div>'),Ms=c('<p class="py-8 text-center text-sm text-muted-foreground">No score data available.</p>'),Ns=c('<div class="border-b border-white/[0.06] px-5 py-4"><!> <!></div> <div class="max-h-[60vh] overflow-y-auto px-5 py-4"><!></div>',1);function Ls(se,n){Je(n,!0);let i=vt(n,"delistedGames",19,()=>[]),D=vt(n,"teamDisplayName",3,""),x=vt(n,"bombBreakdown",19,()=>[]);const U=d(()=>D()||n.team?.name||"Unknown"),w=d(()=>n.team?Ga(n.team.picks,n.games,i(),n.team.bombAdjustment??0):null),F=d(()=>{if(!e(w))return[];const Me=e(w).items.filter(H=>H.score!==0);return[{key:"hit",label:"Hit",items:Me.filter(H=>H.pickType==="hitPick"),border:"border-accent/20",bg:"bg-accent/5",divider:"border-accent/10",iconColor:"text-accent"},{key:"winter",label:"Winter",items:Me.filter(H=>H.phase==="winter"),border:"border-sky-400/20",bg:"bg-sky-400/5",divider:"border-sky-400/10",iconColor:"text-sky-400"},{key:"summer",label:"Summer",items:Me.filter(H=>H.phase==="summer"),border:"border-amber-400/20",bg:"bg-amber-400/5",divider:"border-amber-400/10",iconColor:"text-amber-400"},{key:"fall",label:"Fall",items:Me.filter(H=>H.phase==="fall"),border:"border-amber-600/20",bg:"bg-amber-600/5",divider:"border-amber-600/10",iconColor:"text-amber-600"}].map(H=>({...H,subtotal:H.items.reduce((_e,Ne)=>_e+Ne.score,0)})).filter(H=>H.items.length>0)});var Ge=G(),Ue=f(Ge);Se(Ue,()=>Yr,(Me,Qe)=>{Qe(Me,{get open(){return n.open},get onOpenChange(){return n.onOpenChange},children:(H,_e)=>{var Ne=G(),mt=f(Ne);Se(mt,()=>Kr,(St,Le)=>{Le(St,{class:"gap-0 overflow-hidden p-0 sm:max-w-md",children:(at,Et)=>{var Fe=Ns(),Y=f(Fe),ue=r(Y);Se(ue,()=>Qr,(Ce,he)=>{he(Ce,{class:"text-lg font-semibold",children:(Xe,Be)=>{Te();var Ie=rt("Score breakdown");a(Xe,Ie)},$$slots:{default:!0}})});var De=o(ue,2);Se(De,()=>sa,(Ce,he)=>{he(Ce,{class:"mt-0.5 text-sm text-muted-foreground",children:(Xe,Be)=>{Te();var Ie=rt();k(()=>p(Ie,e(U))),a(Xe,Ie)},$$slots:{default:!0}})}),t(Y);var He=o(Y,2),Ye=r(He);{var xe=Ce=>{var he=Ts(),Xe=r(he);Pe(Xe,17,()=>e(F),$e,(ie,oe)=>{var Ze=Ss(),_t=r(Ze),Ct=r(_t);{var Zt=be=>{ra(be,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})},Ut=be=>{var Oe=G(),je=f(Oe);{var ot=ye=>{aa(ye,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})},nt=ye=>{var ht=G(),Tt=f(ht);{var it=Re=>{Zr(Re,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})},tr=Re=>{var Mt=G(),zt=f(Mt);{var lr=s=>{Xr(s,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})};g(zt,s=>{e(oe).key==="fall"&&s(lr)},!0)}a(Re,Mt)};g(Tt,Re=>{e(oe).key==="summer"?Re(it):Re(tr,!1)},!0)}a(ye,ht)};g(je,ye=>{e(oe).key==="winter"?ye(ot):ye(nt,!1)},!0)}a(be,Oe)};g(Ct,be=>{e(oe).key==="hit"?be(Zt):be(Ut,!1)})}var Bt=o(Ct,2),er=r(Bt,!0);t(Bt),t(_t);var tt=o(_t,2);Pe(tt,21,()=>e(oe).items,$e,(be,Oe)=>{var je=$s();je.__click=()=>n.onGameClick?.(e(Oe).gameId);var ot=r(je),nt=r(ot),ye=r(nt,!0);t(nt);var ht=o(nt,2);{var Tt=Re=>{var Mt=Ps(),zt=r(Mt,!0);t(Mt),k(()=>p(zt,e(Oe).label)),a(Re,Mt)};g(ht,Re=>{e(Oe).label!==e(oe).label&&Re(Tt)})}t(ot);var it=o(ot,2),tr=r(it);t(it),t(je),k(Re=>{je.disabled=!n.onGameClick,p(ye,e(Oe).gameName),p(tr,`+${Re??""}`)},[()=>Math.round(e(Oe).score)]),a(be,je)}),t(tt);var xt=o(tt,2),Vt=o(r(xt),2),st=r(Vt);t(Vt),t(xt),t(Ze),k(be=>{Qt(Ze,1,`overflow-hidden rounded-lg border ${e(oe).border??""} ${e(oe).bg??""}`),Qt(_t,1,`flex items-center gap-2 border-b ${e(oe).divider??""} px-3 py-2.5`),p(er,e(oe).label),Qt(xt,1,`flex items-center justify-between border-t ${e(oe).divider??""} bg-white/[0.02] px-3 py-2`),p(st,`+${be??""}`)},[()=>Math.round(e(oe).subtotal)]),a(ie,Ze)});var Be=o(Xe,2);{var Ie=ie=>{var oe=Bs(),Ze=r(oe),_t=r(Ze);ta(_t,{class:"h-4 w-4 shrink-0 text-destructive"}),Te(2),t(Ze);var Ct=o(Ze,2);{var Zt=tt=>{var xt=Cs();Pe(xt,21,x,$e,(Vt,st)=>{var be=Ds();be.__click=()=>n.onGameClick?.(e(st).gameId);var Oe=r(be),je=r(Oe),ot=r(je,!0);t(je);var nt=o(je,2),ye=r(nt);t(nt),t(Oe);var ht=o(Oe,2),Tt=r(ht,!0);t(ht),t(be),k(it=>{be.disabled=!n.onGameClick,p(ot,e(st).gameName),p(ye,`${e(st).pickerTeamName??""}'s bomb`),p(Tt,it)},[()=>Math.round(e(st).damage)]),a(Vt,be)}),t(xt),a(tt,xt)};g(Ct,tt=>{x().length>0&&tt(Zt)})}var Ut=o(Ct,2),Bt=o(r(Ut),2),er=r(Bt,!0);t(Bt),t(Ut),t(oe),k(tt=>p(er,tt),[()=>Math.round(e(w).bombAdjustment)]),a(ie,oe)};g(Be,ie=>{(n.team?.bombAdjustment??0)!==0&&ie(Ie)})}var Dt=o(Be,2),gt=o(r(Dt),2),pt=r(gt,!0);t(gt),t(Dt),t(he),k(ie=>p(pt,ie),[()=>Math.round(e(w).total)]),a(Ce,he)},We=Ce=>{var he=Ms();a(Ce,he)};g(Ye,Ce=>{e(w)?Ce(xe):Ce(We,!1)})}t(He),a(at,Fe)},$$slots:{default:!0}})}),a(H,Ne)},$$slots:{default:!0}})}),a(se,Ge),Ke()}yr(["click"]);function Jr(se,n){Je(n,!0);let i=ft(n,["$$slots","$$events","$$legacy"]);const D=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];Xt(se,Wt({name:"circle-check-big"},()=>i,{get iconNode(){return D},children:(x,U)=>{var w=G(),F=f(w);ut(F,()=>n.children??$t),a(x,w)},$$slots:{default:!0}})),Ke()}function Gs(se,n){Je(n,!0);let i=ft(n,["$$slots","$$events","$$legacy"]);const D=[["circle",{cx:"12",cy:"12",r:"10"}]];Xt(se,Wt({name:"circle"},()=>i,{get iconNode(){return D},children:(x,U)=>{var w=G(),F=f(w);ut(F,()=>n.children??$t),a(x,w)},$$slots:{default:!0}})),Ke()}function nr(se,n){Je(n,!0);let i=ft(n,["$$slots","$$events","$$legacy"]);const D=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];Xt(se,Wt({name:"loader"},()=>i,{get iconNode(){return D},children:(x,U)=>{var w=G(),F=f(w);ut(F,()=>n.children??$t),a(x,w)},$$slots:{default:!0}})),Ke()}function Is(se,n){Je(n,!0);let i=ft(n,["$$slots","$$events","$$legacy"]);const D=[["line",{x1:"10",x2:"14",y1:"2",y2:"2"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11"}],["circle",{cx:"12",cy:"14",r:"8"}]];Xt(se,Wt({name:"timer"},()=>i,{get iconNode(){return D},children:(x,U)=>{var w=G(),F=f(w);ut(F,()=>n.children??$t),a(x,w)},$$slots:{default:!0}})),Ke()}var js=c('<div class="h-32 animate-pulse rounded-xl bg-white/[0.04]"></div>'),As=c('<div class="space-y-4"><div class="h-12 w-48 animate-pulse rounded-lg bg-white/[0.04]"></div> <div class="grid gap-4 sm:grid-cols-3"></div></div>'),Os=c("<!> Back to dashboard",1),Rs=c('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">Connection error</h2> <p class="text-sm text-muted-foreground"> </p> <div class="flex gap-3"><!> <!></div></div>'),Es=c("<!> Back to dashboard",1),Us=c('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">League not found</h2> <!></div>'),Fs=c('<div class="flex items-center gap-2"><p class="text-lg font-semibold text-primary"> </p> <button type="button" class="rounded p-1 text-muted-foreground transition-colors hover:bg-white/[0.06] hover:text-foreground focus:ring-2 focus:ring-ring focus:outline-none" title="Score breakdown"><!></button></div>'),Hs=c("<!> <!>",1),Ws=c('<div class="overflow-hidden rounded-2xl border border-accent/20 bg-gradient-to-br from-accent/10 via-accent/5 to-transparent"><div class="flex flex-col items-center gap-4 px-6 py-10 text-center sm:flex-row sm:justify-center sm:gap-8 sm:text-left"><div class="flex h-20 w-20 shrink-0 items-center justify-center rounded-2xl bg-accent/20"><!></div> <div class="space-y-1"><p class="text-sm font-medium tracking-wider text-muted-foreground uppercase"> </p> <h2 class="text-2xl font-bold text-foreground md:text-3xl"> </h2> <!></div> <!></div></div>'),Vs=c('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-amber-500/60 via-amber-500 to-amber-500/60"></div>'),zs=c('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-primary/60 via-primary to-primary/60"></div>'),qs=c('<div class="absolute inset-x-0 top-0 h-0.5 bg-accent/40"></div>'),Js=c('<p class="text-center text-xs text-muted-foreground">Loading...</p>'),Ks=c("<!> ",1),Qs=c('<p class="text-center text-xs text-muted-foreground">Draft complete</p>'),Ys=c('<p class="text-center text-xs text-muted-foreground">Skipped</p>'),Xs=c('<p class="text-center text-xs text-muted-foreground"> </p>'),Zs=c('<p class="text-center text-xs text-muted-foreground"> </p>'),eo=c('<p class="text-center text-xs text-muted-foreground"> </p>'),to=c('<div><!> <div class="p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="font-semibold"> </span></div> <span class="text-[10px] font-medium text-muted-foreground uppercase"> </span></div> <p class="mt-1 text-xs text-muted-foreground"> </p> <div class="mt-3"><!></div></div></div>'),ro=c('<div class="grid gap-3 sm:grid-cols-3"></div>'),ao=c("<!> Delete",1),so=c("This will permanently delete <strong> </strong>. You cannot undo this.",1),oo=c("<!> <!>",1),no=c("<!> <!>",1),io=c("<!> <!>",1),lo=c('<div class="animate-fade-in-up overflow-hidden rounded-xl border border-primary/20 bg-card/60"><div class="border-b border-white/[0.06] bg-white/[0.02] px-5 py-4"><h3 class="font-semibold">League Settings</h3> <p class="text-sm text-muted-foreground">Manage picks per phase and league options.</p></div> <div class="space-y-6 p-5"><div class="flex flex-wrap items-end gap-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <p class="text-sm"> </p></div></div> <!> <div class="rounded-lg border border-destructive/20 bg-destructive/5 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div><p class="text-sm font-medium text-destructive">Delete league</p> <p class="mt-0.5 text-xs text-muted-foreground">This cannot be undone.</p></div> <!></div></div></div></div> <!>',1),co=c('<div class="flex h-48 items-center justify-center md:h-64"><!></div>'),vo=Yt('<line stroke="white" stroke-opacity="0.06" stroke-width="1"></line><text text-anchor="end" fill="#8899aa" font-size="10"> </text>',1),uo=Yt('<defs><linearGradient x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-opacity="0.15"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><polygon></polygon><polyline fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></polyline><circle r="3"></circle>',1),fo=Yt('<rect fill="transparent" role="presentation"></rect>'),mo=Yt('<circle r="4" stroke="#111827" stroke-width="2"></circle>'),go=Yt('<line stroke="white" stroke-opacity="0.15" stroke-width="1" stroke-dasharray="3 3"></line><!>',1),po=Yt('<text text-anchor="middle" fill="#8899aa" font-size="10"> </text>'),_o=c('<div class="flex items-center gap-1.5"><div class="h-2 w-2 rounded-full"></div> <span class="text-xs text-muted-foreground"> </span> <span class="font-mono text-xs font-medium text-foreground"> </span></div>'),xo=c('<div class="mt-2 rounded-lg border border-white/[0.06] bg-white/[0.03] px-4 py-2.5"><p class="mb-1.5 text-xs font-medium text-muted-foreground"> </p> <div class="flex flex-wrap gap-x-5 gap-y-1"></div></div>'),ho=c('<div class="flex items-center gap-1.5"><div class="h-2.5 w-2.5 rounded-sm"></div> <span class="text-xs text-muted-foreground"> </span></div>'),bo=c('<div class="overflow-x-auto"><svg class="w-full" style="min-width: 500px" role="img" aria-label="Score history chart"><!><!><!><!><!></svg></div> <!> <div class="mt-3 flex flex-wrap gap-x-4 gap-y-1.5 px-1"></div>',1),yo=c('<div class="flex h-48 flex-col items-center justify-center gap-2 text-muted-foreground md:h-64"><!> <p class="text-sm">No score data available yet</p></div>'),wo=c('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No teams yet. Wait for the draft!</div>'),ko=c("<!> <!>",1),Po=c('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Hit & Bomb</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"><!> <!></div></div>'),$o=c('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase"> </p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),So=c('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Alt (Backup)</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),Do=c('<div class="animate-fade-in-up space-y-4 border-t border-white/[0.06] px-4 py-4"><!> <!> <!></div>'),Co=c('<div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 transition-colors hover:border-white/[0.1]"><div role="button" tabindex="0" class="flex w-full cursor-pointer items-center gap-3 px-4 py-3 text-left"><span></span> <!> <div class="min-w-0 flex-1"><p class="truncate font-medium"> </p> <p class="truncate text-xs text-muted-foreground"> </p></div> <div class="flex items-center gap-3"><span class="font-mono text-lg font-bold text-primary"> </span> <button type="button" class="rounded p-1 text-muted-foreground transition-colors hover:bg-white/[0.06] hover:text-foreground focus:ring-2 focus:ring-ring focus:outline-none" title="Score breakdown"><!></button> <!></div></div> <!></div>'),Bo=c('<h2 class="text-lg font-semibold">Season Summary</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 p-4"><div class="space-y-2 text-sm text-muted-foreground"><p> </p> <p> </p></div></div>',1),To=c('<div class="py-10 text-center text-sm text-muted-foreground">No upcoming games</div>'),Mo=c('<img class="h-14 w-10 shrink-0 rounded object-cover"/>'),No=c('<div class="flex h-14 w-10 shrink-0 items-center justify-center rounded bg-white/[0.04] text-[8px] text-muted-foreground">N/A</div>'),Lo=c('<span class="rounded bg-primary/10 px-1.5 py-0.5 text-[9px] font-medium text-primary"> </span>'),Go=c('<span class="text-[10px] text-muted-foreground"> </span> <!>',1),Io=c('<span class="rounded bg-white/[0.06] px-1.5 py-0.5 text-[9px] text-muted-foreground"> </span>'),jo=c('<button type="button" class="flex w-full cursor-pointer items-start gap-2.5 rounded-lg p-2.5 text-left transition-colors hover:bg-white/[0.04] focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="min-w-0 flex-1"><h3 class="line-clamp-1 text-sm font-medium"> </h3> <div class="mt-0.5 flex items-center gap-1.5"><!></div> <div class="mt-1 flex flex-wrap gap-1"></div></div></button>'),Ao=c('<div class="space-y-1 p-2"><!></div>'),Oo=c('<h2 class="text-lg font-semibold">Upcoming Releases</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><!></div>',1),Ro=c('<div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"><div class="space-y-2"><div class="flex items-center gap-3"><h1 class="text-3xl font-bold tracking-tight md:text-4xl"> </h1> <!></div> <div class="flex flex-wrap items-center gap-2"><span class="text-sm text-muted-foreground"> </span> <span class="rounded-md bg-white/[0.05] px-2 py-0.5 font-mono text-xs text-foreground"> </span> <!></div></div></div> <!> <!> <div class="grid gap-6 lg:grid-cols-[1fr_320px]"><div class="space-y-6"><div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><div class="flex items-center gap-2 border-b border-white/[0.06] px-5 py-3"><!> <h2 class="font-semibold"> </h2></div> <div class="p-4"><!></div></div> <div class="space-y-3"><h2 class="text-lg font-semibold"> </h2> <!></div></div> <div class="space-y-3"><!></div></div>',1),Eo=c('<div class="space-y-6"><!></div> <!> <!>',1);function xn(se,n){Je(n,!0);let i=te(null),D=te(lt([])),x=te(lt({})),U=te(lt({})),w=te(!0),F=te(void 0),Ge=te(!1),Ue=te(!1),Me=te(!1),Qe=te(!1),H=te(lt(new Set)),_e=te(lt(new Map)),Ne=te(lt([])),mt=te(!1),St=te(!1),Le=te(null),at=te(null),Et=te(!1),Fe=te(null),Y=te(lt({winter:null,summer:null,fall:null})),ue=te(!1),De=te(null),He=te(null),Ye=te(lt(new Set)),xe=te(null),We=te(lt([])),Ce=te(lt({}));const he=d(Ar);async function Xe(){if(e(F)){u(He,null),u(w,!0);try{const s=await br(e(F));u(i,s,!0)}catch(s){u(He,s instanceof Error?s.message:"Load failed",!0)}finally{u(w,!1)}}}async function Be(s){u(Le,s,!0),u(St,!0),u(at,null),u(Et,!0);try{const l=await Rr(s);u(at,l?{...l,id:s}:null,!0)}finally{u(Et,!1)}}function Ie(){u(St,!1),u(Le,null),u(at,null)}async function Dt(){if(!e(he)||!e(Le)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(he)),console.log("selectedGameId",e(Le));return}e(Ye).has(e(Le))?(await Xa(e(he).uid,e(Le)),u(Ye,new Set([...e(Ye)].filter(l=>l!==e(Le))),!0)):(await Za(e(he).uid,e(Le)),u(Ye,new Set([...e(Ye),e(Le)]),!0))}dt(()=>{const s=e(he);if(!s){u(Ye,new Set,!0);return}Qa(s.uid).then(l=>u(Ye,l,!0))}),dt(()=>{const s=Ma(La).params?.id;u(F,s,!0),s&&u(w,!0)}),dt(()=>{const s=e(F);s&&(u(He,null),br(s).then(l=>{u(i,l,!0),u(w,!1)}).catch(l=>{u(He,l instanceof Error?l.message:"Load failed",!0),u(w,!1)}))}),dt(()=>{const s=e(F),l=e(i)?.season;!s||!l||(u(ue,!1),Oa(s,l).then(async C=>{if(u(Y,C,!0),u(ue,!0),!Kt(l)){await Ra(s);const b=await br(s);b&&b.currentPhase!==e(i)?.currentPhase&&u(i,b,!0)}}))}),dt(()=>{const s=e(F);s&&Ea(s).then(l=>{u(D,l,!0),Promise.all(l.map(C=>qa(C.id))).then(C=>{const b={};C.forEach((B,X)=>{B?b[l[X].id]={displayName:B.displayName||l[X].name,avatarUrl:B.avatarUrl}:b[l[X].id]={displayName:l[X].name,avatarUrl:null}}),u(U,b,!0)})})}),dt(()=>{const s=[],l=new Set;for(const C of e(D)){const b=C.picks;for(const B of[b?.hitPick,b?.bombPick,...b?.winterPicks??[],...b?.summerPicks??[],...b?.fallPicks??[],...b?.altPicks??[]].filter(Boolean))l.has(B)||(l.add(B),s.push(B))}s.length!==0&&Promise.all(s.map(C=>Rr(C))).then(C=>{const b={};C.forEach((B,X)=>{B&&(b[s[X]]=B)}),u(x,{...e(x),...b},!0)})}),dt(()=>{const s=e(F),l=e(i)?.season;!s||e(D).length===0||(u(mt,!0),u(De,null),l&&Kt(l)?Ua(s,l).then(C=>{u(De,C,!0);const b=new Map;for(const B of C.graphData.series){const X=new Map;C.graphData.dates.forEach((Nt,Ft)=>X.set(Nt,B.data[Ft]??0)),b.set(B.teamId,X)}u(_e,b,!0)}).finally(()=>u(mt,!1)):Fa(s).then(C=>u(_e,C,!0)).finally(()=>u(mt,!1)))}),dt(()=>{za().then(s=>u(Ne,s,!0))}),dt(()=>{const s=e(xe),l=e(F);if(!s||!l||e(D).length===0){u(We,[],!0);return}const C=e(i)?.season&&Kt(e(i).season)?Or(e(i).season):void 0;Ha(l,s,e(D),e(x),C).then(b=>u(We,b,!0))}),dt(()=>{const s=e(F);if(!s||e(D).length===0){u(Ce,{},!0);return}const l=e(i)?.season&&Kt(e(i).season)?Or(e(i).season):void 0;Wa(s,e(D),e(x),l).then(C=>u(Ce,C,!0))});function gt(s){const l=new Set(e(H));l.has(s)?l.delete(s):l.add(s),u(H,l,!0)}function pt(s){const l=e(i)?.delistedGames??[],C=ja(s.picks,l);let b=0;for(const B of C){const X=e(x)[B]?.score;X!=null&&(b+=X)}return b+(s.bombAdjustment??0)}const ie=d(()=>!!e(i)&&!!e(i).season&&Kt(e(i).season)),oe=d(()=>e(ie)&&e(De)?[...e(D)].sort((s,l)=>(e(De).finalRanks[s.id]??999)-(e(De).finalRanks[l.id]??999)):[...e(D)].sort((s,l)=>pt(l)-pt(s))),Ze=d(()=>{if(e(ie)&&e(De)?.graphData)return{dates:e(De).graphData.dates,series:e(De).graphData.series.map(b=>({name:e(D).find(B=>B.id===b.teamId)?.name||e(U)[b.teamId]?.displayName||"Unknown",data:b.data}))};if(e(_e).size===0)return null;const s=new Set;e(_e).forEach(b=>{b.forEach((B,X)=>s.add(X))});const l=Array.from(s).sort(),C=e(oe).map(b=>{const B=e(_e).get(b.id)||new Map;return{name:b.name||e(U)[b.id]?.displayName,data:l.map(X=>B.get(X)||0)}});return{dates:l,series:C}});function _t(s){return e(ie)&&e(De)?e(De).finalScores[s.id]??0:pt(s)}function Ct(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}function Zt(s){if(!s)return"";const l=new Date,b=new Date(s).getTime()-l.getTime(),B=Math.ceil(b/(1e3*60*60*24));return B<=0?"Released":B===1?"Tomorrow":B<=7?`${B}d`:B<=30?`${Math.ceil(B/7)}w`:`${Math.ceil(B/30)}mo`}const Ut=d(()=>!!(e(i)&&Ar()?.uid===e(i).commissionerId));function Bt(){u(Ue,!1)}function er(){Bt(),u(Ge,!0)}function tt(){Bt(),u(Ge,!1)}async function xt(){if(e(F)){u(Qe,!0);try{await Va(e(F)),u(Me,!1),u(Ge,!1),Na("/dashboard")}catch(s){console.error(s)}finally{u(Qe,!1)}}}function Vt(){if(!e(i))return"";if(e(i).status==="completed")return e(i).season&&Kt(e(i).season)?`Season ${e(i).season} Complete`:"Completed";if(e(i).status==="draft"){const s=e(i).currentPhase??"winter";return s!=="winter"?"Scoring":e(i).season&&sr(s,e(i).season)?"Drafting":"Pre-Season"}return"Scoring"}function st(s){if(!e(i))return!1;const l=ct.indexOf(s),C=ct.indexOf(e(i).currentPhase);return l<C}function be(s){return st(s)?"completed":e(Y)[s]}function Oe(s){if(st(s))return Jr;if(!e(ue))return nr;const l=e(Y)[s];return l==="completed"?Jr:l==="active"||l==="pending"?nr:Gs}const je={winter:"Dec",summer:"Apr",fall:"Aug"};function ot(s){if(st(s))return"Complete";if(!e(ue))return"Loading";const l=e(Y)[s];if(l==="completed")return"Complete";if(l==="active"||l==="pending")return e(i)&&!sr(s,e(i).season)?`Opens ${je[s]}`:"In Progress";const C=ct.indexOf(s),b=ct.indexOf(e(i)?.currentPhase??"winter");return C<b?"Skipped":e(i)?.currentPhase===s&&e(i)&&sr(s,e(i).season)?"Ready":`Opens ${je[s]}`}function nt(s){if(!e(i))return!1;const l=ct.indexOf(s),C=ct.indexOf(e(i).currentPhase);return l!==C||e(Y)[s]==="completed"?!1:sr(s,e(i).season)}const ye=["#5b9bf5","#6ddb7b","#f59e42","#e05d5d","#b47aed","#38bdf8","#f472b6","#facc15"];function ht(s){return s===0?"bg-yellow-500/15 text-yellow-400 ring-1 ring-yellow-500/30":s===1?"bg-slate-400/15 text-slate-300 ring-1 ring-slate-400/30":s===2?"bg-amber-600/15 text-amber-500 ring-1 ring-amber-600/30":"bg-white/[0.05] text-muted-foreground"}var Tt=Eo();Ta("5wjyo2",s=>{Ca(()=>{Ba.title=e(i)?.name??"League"??""})});var it=f(Tt),tr=r(it);{var Re=s=>{var l=As(),C=o(r(l),2);Pe(C,20,()=>Array(3),$e,(b,B)=>{var X=js();a(b,X)}),t(C),t(l),a(s,l)},Mt=s=>{var l=G(),C=f(l);{var b=X=>{var Nt=Rs(),Ft=o(r(Nt),2),dr=r(Ft,!0);t(Ft);var rr=o(Ft,2),bt=r(rr);Rt(bt,{onclick:Xe,variant:"outline",children:(yt,qt)=>{Te();var wt=rt("Retry");a(yt,wt)},$$slots:{default:!0}});var Lt=o(bt,2);Rt(Lt,{variant:"ghost",href:"/dashboard",class:"gap-2",children:(yt,qt)=>{var wt=Os(),Gt=f(wt);zr(Gt,{class:"h-4 w-4"}),Te(),a(yt,wt)},$$slots:{default:!0}}),t(rr),t(Nt),k(()=>p(dr,e(He))),a(X,Nt)},B=X=>{var Nt=G(),Ft=f(Nt);{var dr=bt=>{var Lt=Us(),yt=o(r(Lt),2);Rt(yt,{variant:"outline",href:"/dashboard",class:"gap-2",children:(qt,wt)=>{var Gt=Es(),cr=f(Gt);zr(cr,{class:"h-4 w-4"}),Te(),a(qt,Gt)},$$slots:{default:!0}}),t(Lt),a(bt,Lt)},rr=bt=>{var Lt=Ro(),yt=f(Lt),qt=r(yt),wt=r(qt),Gt=r(wt),cr=r(Gt,!0);t(Gt);var oa=o(Gt,2);{var na=I=>{Rt(I,{variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-foreground",onclick:()=>e(Ge)?tt():er(),children:(N,le)=>{ps(N,{class:"h-4 w-4"})},$$slots:{default:!0}})};g(oa,I=>{e(Ut)&&!e(ie)&&I(na)})}t(wt);var Pr=o(wt,2),vr=r(Pr),ia=r(vr);t(vr);var ur=o(vr,2),la=r(ur,!0);t(ur);var da=o(ur,2);{let I=d(()=>e(i).status==="active"?"default":e(i).status==="completed"?"secondary":"outline");ss(da,{get variant(){return e(I)},class:"text-[10px]",children:(N,le)=>{Te();var q=rt();k($=>p(q,$),[Vt]),a(N,q)},$$slots:{default:!0}})}t(Pr),t(qt),t(yt);var $r=o(yt,2);{var ca=I=>{const N=d(()=>e(oe)[0]);var le=Ws(),q=r(le),$=r(q),de=r($);ds(de,{class:"h-10 w-10 text-accent"}),t($);var h=o($,2),ce=r(h),S=r(ce);t(ce);var pe=o(ce,2),J=r(pe);t(pe);var re=o(pe,2);{var me=ve=>{var fe=Fs(),ae=r(fe),ge=r(ae);t(ae);var K=o(ae,2);K.__click=()=>u(xe,e(N).id,!0);var ne=r(K);qr(ne,{class:"h-4 w-4"}),t(K),t(fe),k(Ae=>p(ge,`Final score: ${Ae??""}`),[()=>Math.round(_t(e(N))).toLocaleString()]),a(ve,fe)};g(re,ve=>{e(N)&&ve(me)})}t(h);var Ee=o(h,2);{var Z=ve=>{var fe=G(),ae=f(fe);Se(ae,()=>Wr,(ge,K)=>{K(ge,{class:"size-16 shrink-0 ring-2 ring-accent/40 ring-offset-2 ring-offset-background",children:(ne,Ae)=>{var Ve=Hs(),ze=f(Ve);{let m=d(()=>e(U)[e(N).id]?.avatarUrl??void 0);Se(ze,()=>Vr,(W,T)=>{T(W,{get src(){return e(m)},get alt(){return e(N).name}})})}var qe=o(ze,2);Se(qe,()=>Hr,(m,W)=>{W(m,{class:"text-xl",children:(T,j)=>{Te();var M=rt();k(R=>p(M,R),[()=>(e(N).name||e(U)[e(N).id]?.displayName).slice(0,2).toUpperCase()]),a(T,M)},$$slots:{default:!0}})}),a(ne,Ve)},$$slots:{default:!0}})}),a(ve,fe)};g(Ee,ve=>{e(N)&&ve(Z)})}t(q),t(le),k(()=>{p(S,`Season ${e(i).season??""} Complete`),p(J,`${(e(N)?e(N).name||e(U)[e(N).id]?.displayName:"—")??""} is the Champion`)}),a(I,le)},va=I=>{var N=ro();Pe(N,21,()=>ct,$e,(le,q)=>{const $=d(()=>ir[e(q)]),de=d(()=>be(e(q))),h=d(()=>ot(e(q))),ce=d(()=>Oe(e(q))),S=d(()=>e(i).currentPhase===e(q)),pe=d(()=>nt(e(q))),J=d(()=>e(S)&&!e(pe)&&e(h).startsWith("Opens"));var re=to(),me=r(re);{var Ee=v=>{var _=Vs();a(v,_)},Z=v=>{var _=G(),A=f(_);{var y=P=>{var O=zs();a(P,O)},L=P=>{var O=G(),V=f(O);{var z=ee=>{var Q=qs();a(ee,Q)};g(V,ee=>{e(de)==="completed"&&ee(z)},!0)}a(P,O)};g(A,P=>{e(S)?P(y):P(L,!1)},!0)}a(v,_)};g(me,v=>{e(J)?v(Ee):v(Z,!1)})}var ve=o(me,2),fe=r(ve),ae=r(fe),ge=r(ae);{var K=v=>{Is(v,{class:"h-4 w-4 text-amber-500"})},ne=v=>{var _=G(),A=f(_);{let y=d(()=>e(h)==="Loading"?"animate-spin text-muted-foreground":e(de)==="completed"?"text-accent":e(S)?"animate-spin text-primary":"text-muted-foreground");Se(A,()=>e(ce),(L,P)=>{P(L,{get class(){return`h-4 w-4 ${e(y)??""}`}})})}a(v,_)};g(ge,v=>{e(J)?v(K):v(ne,!1)})}var Ae=o(ge,2),Ve=r(Ae,!0);t(Ae),t(ae);var ze=o(ae,2),qe=r(ze,!0);t(ze),t(fe);var m=o(fe,2),W=r(m);t(m);var T=o(m,2),j=r(T);{var M=v=>{var _=Js();a(v,_)},R=v=>{var _=G(),A=f(_);{var y=P=>{{let O=d(()=>e(i).id),V=d(()=>Aa(e(q),e(i).season)),z=d(()=>e(S)?"glow-sm-primary":""),ee=d(()=>e(S)?"default":"outline");Rt(P,{get href(){return`/league/${e(O)??""}/draft/${e(V)??""}`},size:"sm",get class(){return`w-full gap-2 ${e(z)??""}`},get variant(){return e(ee)},children:(Q,we)=>{var ke=Ks(),It=f(ke);Ja(It,{class:"h-3.5 w-3.5"});var jt=o(It);k(()=>p(jt,` ${e(Y)[e(q)]==="active"||e(Y)[e(q)]==="pending"?"Continue Draft":"Enter Draft Room"}`)),a(Q,ke)},$$slots:{default:!0}})}},L=P=>{var O=G(),V=f(O);{var z=Q=>{var we=Qs();a(Q,we)},ee=Q=>{var we=G(),ke=f(we);{var It=et=>{var kt=Ys();a(et,kt)},jt=et=>{var kt=G(),Jt=f(kt);{var ar=At=>{var Pt=Xs(),xr=r(Pt,!0);t(Pt),k(()=>p(xr,e(h))),a(At,Pt)},_r=At=>{const Pt=d(()=>ct.indexOf(e(q))),xr=d(()=>ct.slice(0,e(Pt))),Lr=d(()=>e(xr).find(Ot=>be(Ot)!=="completed"));var Gr=G(),Pa=f(Gr);{var $a=Ot=>{var Ht=Zs(),hr=r(Ht);t(Ht),k(()=>p(hr,`Opens ${je[e(q)]??""}`)),a(Ot,Ht)},Sa=Ot=>{var Ht=eo(),hr=r(Ht);t(Ht),k(()=>p(hr,`Complete ${ir[e(Lr)]?.label??""??""} first`)),a(Ot,Ht)};g(Pa,Ot=>{e(Lr)==null?Ot($a):Ot(Sa,!1)})}a(At,Gr)};g(Jt,At=>{e(h).startsWith("Opens")?At(ar):At(_r,!1)},!0)}a(et,kt)};g(ke,et=>{e(h)==="Skipped"?et(It):et(jt,!1)},!0)}a(Q,we)};g(V,Q=>{e(de)==="completed"?Q(z):Q(ee,!1)},!0)}a(P,O)};g(A,P=>{e(pe)?P(y):P(L,!1)},!0)}a(v,_)};g(j,v=>{e(h)==="Loading"?v(M):v(R,!1)})}t(T),t(ve),t(re),k((v,_,A)=>{Qt(re,1,`relative overflow-hidden rounded-xl border transition-all ${e(J)?"border-amber-500/40 bg-amber-500/[0.04]":e(S)?"border-primary/40 bg-primary/[0.04]":e(de)==="completed"?"border-accent/20 bg-accent/[0.03]":e(h)==="Loading"?"border-white/[0.06] bg-white/[0.02]":e(h)==="Skipped"?"border-white/[0.04] bg-white/[0.01] opacity-50":"border-white/[0.06] bg-white/[0.02] opacity-60"}`),p(Ve,e($).label),p(qe,v),p(W,`${_??""} — ${A??""}`)},[()=>ot(e(q)),()=>e($).releaseStart(parseInt(e(i).season)).slice(5),()=>e($).releaseEnd(parseInt(e(i).season)).slice(5)]),a(le,re)}),t(N),a(I,N)};g($r,I=>{e(ie)&&e(De)?I(ca):I(va,!1)})}var Sr=o($r,2);{var ua=I=>{var N=lo(),le=f(N),q=o(r(le),2),$=r(q),de=r($),h=r(de);Er(h,{for:"editSeason",class:"text-muted-foreground",children:(ae,ge)=>{Te();var K=rt("Season");a(ae,K)},$$slots:{default:!0}});var ce=o(h,2);as(ce,{id:"editSeason",get value(){return e(i).season},readonly:!0,class:"w-28 bg-white/[0.03] font-mono read-only:cursor-default read-only:opacity-100"}),t(de);var S=o(de,2),pe=r(S);Er(pe,{class:"text-muted-foreground",children:(ae,ge)=>{Te();var K=rt("Picks per phase");a(ae,K)},$$slots:{default:!0}});var J=o(pe,2),re=r(J);t(J),t(S),t($);var me=o($,2);os(me,{class:"opacity-30"});var Ee=o(me,2),Z=r(Ee),ve=o(r(Z),2);Rt(ve,{variant:"destructive",size:"sm",onclick:()=>u(Me,!0),class:"shrink-0 gap-2",children:(ae,ge)=>{var K=ao(),ne=f(K);_s(ne,{class:"h-4 w-4"}),Te(),a(ae,K)},$$slots:{default:!0}}),t(Z),t(Ee),t(q),t(le);var fe=o(le,2);Se(fe,()=>Yr,(ae,ge)=>{ge(ae,{get open(){return e(Me)},set open(K){u(Me,K,!0)},children:(K,ne)=>{var Ae=G(),Ve=f(Ae);Se(Ve,()=>Kr,(ze,qe)=>{qe(ze,{children:(m,W)=>{var T=io(),j=f(T);Se(j,()=>gs,(R,v)=>{v(R,{children:(_,A)=>{var y=oo(),L=f(y);Se(L,()=>Qr,(O,V)=>{V(O,{children:(z,ee)=>{Te();var Q=rt("Delete league?");a(z,Q)},$$slots:{default:!0}})});var P=o(L,2);Se(P,()=>sa,(O,V)=>{V(O,{children:(z,ee)=>{Te();var Q=so(),we=o(f(Q)),ke=r(we,!0);t(we),Te(),k(()=>p(ke,e(i)?.name)),a(z,Q)},$$slots:{default:!0}})}),a(_,y)},$$slots:{default:!0}})});var M=o(j,2);Se(M,()=>fs,(R,v)=>{v(R,{class:"gap-2",children:(_,A)=>{var y=no(),L=f(y);Rt(L,{variant:"outline",onclick:()=>u(Me,!1),get disabled(){return e(Qe)},children:(O,V)=>{Te();var z=rt("Cancel");a(O,z)},$$slots:{default:!0}});var P=o(L,2);Rt(P,{variant:"destructive",onclick:xt,get disabled(){return e(Qe)},children:(O,V)=>{Te();var z=rt();k(()=>p(z,e(Qe)?"Deleting...":"Delete league")),a(O,z)},$$slots:{default:!0}}),a(_,y)},$$slots:{default:!0}})}),a(m,T)},$$slots:{default:!0}})}),a(K,Ae)},$$slots:{default:!0}})}),k(ae=>p(re,`${ae??""} (based on 
								${e(i)?.members.length??0??""} players)`),[()=>e(i)?Ia(e(i).members.length):"—"]),a(I,N)};g(Sr,I=>{e(Ge)&&e(Ut)&&!e(ie)&&I(ua)})}var Dr=o(Sr,2),fr=r(Dr),mr=r(fr),gr=r(mr),Cr=r(gr);Ur(Cr,{class:"h-4 w-4 text-primary"});var Br=o(Cr,2),fa=r(Br,!0);t(Br),t(gr);var Tr=o(gr,2),ma=r(Tr);{var ga=I=>{var N=co(),le=r(N);nr(le,{class:"h-5 w-5 animate-spin text-muted-foreground"}),t(N),a(I,N)},pa=I=>{var N=G(),le=f(N);{var q=de=>{const h=d(()=>e(Ze)),ce=d(()=>Math.max(...e(h).series.map(m=>Math.max(...m.data)),1)),S=d(()=>({top:20,right:20,bottom:30,left:45})),pe=d(()=>800),J=d(()=>280),re=d(()=>e(pe)-e(S).left-e(S).right),me=d(()=>e(J)-e(S).top-e(S).bottom);var Ee=bo(),Z=f(Ee),ve=r(Z);E(ve,"viewBox",`0 0 ${e(pe)??""} ${e(J)??""}`);var fe=r(ve);Pe(fe,16,()=>Array(5),$e,(m,W,T)=>{const j=d(()=>e(S).top+e(me)*T/4);var M=vo(),R=f(M),v=o(R),_=r(v,!0);t(v),k(A=>{E(R,"x1",e(S).left),E(R,"y1",e(j)),E(R,"x2",e(pe)-e(S).right),E(R,"y2",e(j)),E(v,"x",e(S).left-8),E(v,"y",e(j)+4),p(_,A)},[()=>Math.round(e(ce)*(1-T/4))]),a(m,M)});var ae=o(fe);Pe(ae,17,()=>e(h).series,$e,(m,W,T)=>{const j=d(()=>ye[T%ye.length]),M=d(()=>e(W).data.map((ee,Q)=>{const we=e(S).left+e(re)*Q/(e(h).dates.length-1||1),ke=e(S).top+e(me)-e(me)*ee/e(ce);return{x:we,y:ke}})),R=d(()=>e(M).map(ee=>`${ee.x},${ee.y}`).join(" ")),v=d(()=>e(M)[e(M).length-1]);var _=uo(),A=f(_),y=r(A);E(y,"id",`grad-${T}`);var L=r(y),P=o(L);t(y),t(A);var O=o(A);E(O,"fill",`url(#grad-${T})`);var V=o(O),z=o(V);k(()=>{E(L,"stop-color",e(j)),E(P,"stop-color",e(j)),E(O,"points",`${e(S).left??""},${e(S).top+e(me)} ${e(R)??""} ${e(M)[e(M).length-1].x??""},${e(S).top+e(me)}`),E(V,"points",e(R)),E(V,"stroke",e(j)),E(z,"cx",e(v).x),E(z,"cy",e(v).y),E(z,"fill",e(j))}),a(m,_)});var ge=o(ae);Pe(ge,17,()=>e(h).dates,$e,(m,W,T)=>{const j=d(()=>e(S).left+e(re)*T/(e(h).dates.length-1||1));var M=fo();k(()=>{E(M,"x",e(j)-e(re)/(e(h).dates.length-1||1)/2),E(M,"y",e(S).top),E(M,"width",e(re)/(e(h).dates.length-1||1)),E(M,"height",e(me))}),Ir("mouseenter",M,()=>u(Fe,T,!0)),a(m,M)});var K=o(ge);{var ne=m=>{const W=d(()=>e(S).left+e(re)*e(Fe)/(e(h).dates.length-1||1));var T=go(),j=f(T),M=o(j);Pe(M,17,()=>e(h).series,$e,(R,v,_)=>{const A=d(()=>ye[_%ye.length]),y=d(()=>e(v).data[e(Fe)]),L=d(()=>e(S).top+e(me)-e(me)*e(y)/e(ce));var P=mo();k(()=>{E(P,"cx",e(W)),E(P,"cy",e(L)),E(P,"fill",e(A))}),a(R,P)}),k(()=>{E(j,"x1",e(W)),E(j,"y1",e(S).top),E(j,"x2",e(W)),E(j,"y2",e(S).top+e(me))}),a(m,T)};g(K,m=>{e(Fe)!==null&&m(ne)})}var Ae=o(K);Pe(Ae,17,()=>e(h).dates,$e,(m,W,T)=>{const j=d(()=>T%Math.ceil(e(h).dates.length/7)===0||T===e(h).dates.length-1);var M=G(),R=f(M);{var v=_=>{const A=d(()=>e(S).left+e(re)*T/(e(h).dates.length-1||1));var y=po();E(y,"y",e(J)-6);var L=r(y,!0);t(y),k(P=>{E(y,"x",e(A)),p(L,P)},[()=>Ct(e(W))]),a(_,y)};g(R,_=>{e(j)&&_(v)})}a(m,M)}),t(ve),t(Z);var Ve=o(Z,2);{var ze=m=>{var W=xo(),T=r(W),j=r(T,!0);t(T);var M=o(T,2);Pe(M,21,()=>e(h).series,$e,(R,v,_)=>{var A=_o(),y=r(A),L=o(y,2),P=r(L,!0);t(L);var O=o(L,2),V=r(O,!0);t(O),t(A),k(z=>{jr(y,`background: ${ye[_%ye.length]??""}`),p(P,e(v).name),p(V,z)},[()=>Math.round(e(v).data[e(Fe)])]),a(R,A)}),t(M),t(W),k(R=>p(j,R),[()=>Ct(e(h).dates[e(Fe)])]),a(m,W)};g(Ve,m=>{e(Fe)!==null&&m(ze)})}var qe=o(Ve,2);Pe(qe,21,()=>e(h).series,$e,(m,W,T)=>{var j=ho(),M=r(j),R=o(M,2),v=r(R,!0);t(R),t(j),k(()=>{jr(M,`background: ${ye[T%ye.length]??""}`),p(v,e(W).name)}),a(m,j)}),t(qe),Ir("mouseleave",ve,()=>u(Fe,null)),a(de,Ee)},$=de=>{var h=yo(),ce=r(h);Ur(ce,{class:"h-8 w-8 opacity-30"}),Te(2),t(h),a(de,h)};g(le,de=>{e(Ze)&&e(Ze).dates.length>0?de(q):de($,!1)},!0)}a(I,N)};g(ma,I=>{e(mt)?I(ga):I(pa,!1)})}t(Tr),t(mr);var Mr=o(mr,2),pr=r(Mr),_a=r(pr,!0);t(pr);var xa=o(pr,2);{var ha=I=>{var N=wo();a(I,N)},ba=I=>{var N=G(),le=f(N);Pe(le,17,()=>e(oe),$e,(q,$,de)=>{var h=Co(),ce=r(h);ce.__click=()=>gt(e($).id),ce.__keydown=m=>(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),gt(e($).id));var S=r(ce);S.textContent=de+1;var pe=o(S,2);Se(pe,()=>Wr,(m,W)=>{W(m,{class:"size-9 shrink-0",children:(T,j)=>{var M=ko(),R=f(M);{let _=d(()=>e(U)[e($).id]?.avatarUrl??void 0);Se(R,()=>Vr,(A,y)=>{y(A,{get src(){return e(_)},get alt(){return e($).name}})})}var v=o(R,2);Se(v,()=>Hr,(_,A)=>{A(_,{class:"text-xs",children:(y,L)=>{Te();var P=rt();k(O=>p(P,O),[()=>(e($).name||e(U)[e($).id]?.displayName).slice(0,2).toUpperCase()]),a(y,P)},$$slots:{default:!0}})}),a(T,M)},$$slots:{default:!0}})});var J=o(pe,2),re=r(J),me=r(re,!0);t(re);var Ee=o(re,2),Z=r(Ee,!0);t(Ee),t(J);var ve=o(J,2),fe=r(ve),ae=r(fe,!0);t(fe);var ge=o(fe,2);ge.__click=m=>{m.stopPropagation(),u(xe,e($).id,!0)};var K=r(ge);qr(K,{class:"h-4 w-4"}),t(ge);var ne=o(ge,2);{var Ae=m=>{es(m,{class:"h-4 w-4 text-muted-foreground"})},Ve=m=>{ts(m,{class:"h-4 w-4 text-muted-foreground"})};g(ne,m=>{e(H).has(e($).id)?m(Ae):m(Ve,!1)})}t(ve),t(ce);var ze=o(ce,2);{var qe=m=>{const W=d(()=>e($).picks?.hitPick?e(x)[e($).picks.hitPick]:null),T=d(()=>e(Ce)[e($).id]??[]);var j=Do(),M=r(j);{var R=y=>{var L=Po(),P=o(r(L),2),O=r(P);{var V=ee=>{or(ee,{get game(){return e(W)},pickType:"hitPick",get isPastSeasonView(){return e(ie)},onclick:()=>Be(e($).picks.hitPick)})};g(O,ee=>{e(W)&&ee(V)})}var z=o(O,2);Pe(z,17,()=>e(T),$e,(ee,Q)=>{const we=d(()=>e(x)[e(Q).gameId]);var ke=G(),It=f(ke);{var jt=et=>{{let kt=d(()=>({...e(we),id:e(Q).gameId})),Jt=d(()=>`${e(Q).pickerTeamName}'s bomb`);or(et,{get game(){return e(kt)},pickType:"bombPick",get isPastSeasonView(){return e(ie)},get bombReceivedLabel(){return e(Jt)},get bombDamageReceived(){return e(Q).damage},onclick:()=>Be(e(Q).gameId)})}};g(It,et=>{e(we)&&et(jt)})}a(ee,ke)}),t(P),t(L),a(y,L)};g(M,y=>{(e(W)||e(T).length>0)&&y(R)})}var v=o(M,2);Pe(v,17,()=>ct,$e,(y,L)=>{const P=d(()=>e(L)==="winter"?"winterPicks":e(L)==="summer"?"summerPicks":"fallPicks"),O=d(()=>e($).picks?.[e(P)]??[]);var V=G(),z=f(V);{var ee=Q=>{var we=$o(),ke=r(we),It=r(ke,!0);t(ke);var jt=o(ke,2);Pe(jt,21,()=>e(O),$e,(et,kt)=>{const Jt=d(()=>e(x)[e(kt)]);var ar=G(),_r=f(ar);{var At=Pt=>{or(Pt,{get game(){return e(Jt)},pickType:"seasonalPick",get phase(){return e(L)},get isPastSeasonView(){return e(ie)},onclick:()=>Be(e(kt))})};g(_r,Pt=>{e(Jt)&&Pt(At)})}a(et,ar)}),t(jt),t(we),k(()=>p(It,ir[e(L)].label)),a(Q,we)};g(z,Q=>{e(O).length>0&&Q(ee)})}a(y,V)});var _=o(v,2);{var A=y=>{var L=So(),P=o(r(L),2);Pe(P,21,()=>e($).picks?.altPicks??[],$e,(O,V)=>{const z=d(()=>e(x)[e(V)]);var ee=G(),Q=f(ee);{var we=ke=>{or(ke,{get game(){return e(z)},pickType:"altPick",get isPastSeasonView(){return e(ie)},onclick:()=>Be(e(V))})};g(Q,ke=>{e(z)&&ke(we)})}a(O,ee)}),t(P),t(L),a(y,L)};g(_,y=>{(e($).picks?.altPicks??[]).length>0&&y(A)})}t(j),a(m,j)};g(ze,m=>{e(H).has(e($).id)&&m(qe)})}t(h),k((m,W)=>{Qt(S,1,`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-xs font-bold ${m??""}`),p(me,e($).name),p(Z,e(U)[e($).id]?.displayName||e($).name),p(ae,W)},[()=>ht(de),()=>Math.round(_t(e($)))]),a(q,h)}),a(I,N)};g(xa,I=>{e(D).length===0?I(ha):I(ba,!1)})}t(Mr),t(fr);var Nr=o(fr,2),ya=r(Nr);{var wa=I=>{var N=Bo(),le=o(f(N),2),q=r(le),$=r(q),de=r($);t($);var h=o($,2),ce=r(h);t(h),t(q),t(le),k(S=>{p(de,`${e(D).length??""} players competed in Season ${e(i).season??""}.`),p(ce,`${S??""} games drafted`)},[()=>e(D).reduce((S,pe)=>{const J=pe.picks,re=(J?.hitPick?1:0)+(J?.bombPick?1:0)+(J?.winterPicks?.length??0)+(J?.summerPicks?.length??0)+(J?.fallPicks?.length??0)+(J?.altPicks?.length??0);return S+re},0)]),a(I,N)},ka=I=>{var N=Oo(),le=o(f(N),2),q=r(le);rs(q,{class:"h-[calc(100vh-14rem)]",children:($,de)=>{var h=Ao(),ce=r(h);{var S=J=>{var re=To();a(J,re)},pe=J=>{var re=G(),me=f(re);Pe(me,17,()=>e(Ne),$e,(Ee,Z)=>{const ve=d(()=>e(D).filter(K=>{const ne=K.picks;return ne?.hitPick===e(Z).id||ne?.bombPick===e(Z).id||ne?.winterPicks?.includes(e(Z).id)||ne?.summerPicks?.includes(e(Z).id)||ne?.fallPicks?.includes(e(Z).id)||ne?.altPicks?.includes(e(Z).id)}));var fe=G(),ae=f(fe);{var ge=K=>{var ne=jo();ne.__click=()=>Be(e(Z).id);var Ae=r(ne);{var Ve=v=>{var _=Mo();k(()=>{E(_,"src",e(Z).coverUrl),E(_,"alt",e(Z).name)}),a(v,_)},ze=v=>{var _=No();a(v,_)};g(Ae,v=>{e(Z).coverUrl?v(Ve):v(ze,!1)})}var qe=o(Ae,2),m=r(qe),W=r(m,!0);t(m);var T=o(m,2),j=r(T);{var M=v=>{const _=d(()=>Zt(e(Z).releaseDate));var A=Go(),y=f(A),L=r(y,!0);t(y);var P=o(y,2);{var O=V=>{var z=Lo(),ee=r(z,!0);t(z),k(()=>p(ee,e(_))),a(V,z)};g(P,V=>{e(_)&&e(_)!=="Released"&&V(O)})}k(V=>p(L,V),[()=>new Date(e(Z).releaseDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),a(v,A)};g(j,v=>{e(Z).releaseDate&&v(M)})}t(T);var R=o(T,2);Pe(R,21,()=>e(ve),$e,(v,_)=>{var A=Io(),y=r(A,!0);t(A),k(()=>p(y,e(_).name||e(U)[e(_).id]?.displayName)),a(v,A)}),t(R),t(qe),t(ne),k(()=>p(W,e(Z).name)),a(K,ne)};g(ae,K=>{e(ve).length>0&&K(ge)})}a(Ee,fe)}),a(J,re)};g(ce,J=>{e(Ne).length===0?J(S):J(pe,!1)})}t(h),a($,h)},$$slots:{default:!0}}),t(le),a(I,N)};g(ya,I=>{e(ie)?I(wa):I(ka,!1)})}t(Nr),t(Dr),k(()=>{p(cr,e(i).name),p(ia,`Season ${e(i).season??""}`),p(la,e(i).code),p(fa,e(ie)?"Season score progression":"Score History"),p(_a,e(ie)?"Final Standings":"Standings")}),a(bt,Lt)};g(Ft,bt=>{e(i)?bt(rr,!1):bt(dr)},!0)}a(X,Nt)};g(C,X=>{e(He)?X(b):X(B,!1)},!0)}a(s,l)};g(tr,s=>{e(w)?s(Re):s(Mt,!1)})}t(it);var zt=o(it,2);{let s=d(()=>e(Le)!=null&&!e(Et)&&e(at)==null),l=d(()=>e(Le)!=null&&e(Ye).has(e(Le)));Ya(zt,{get open(){return e(St)},onOpenChange:C=>!C&&Ie(),get game(){return e(at)},get loading(){return e(Et)},get showNotFound(){return e(s)},get isBookmarked(){return e(l)},onToggleBookmark:Dt})}var lr=o(zt,2);{let s=d(()=>e(xe)!=null),l=d(()=>e(xe)?e(D).find(B=>B.id===e(xe))??null:null),C=d(()=>e(i)?.delistedGames??[]),b=d(()=>(()=>{const B=e(xe)?e(D).find(X=>X.id===e(xe)):null;return B?B.name||e(U)[B.id]?.displayName||"Unknown":""})());Ls(lr,{get open(){return e(s)},onOpenChange:B=>!B&&u(xe,null),get team(){return e(l)},get games(){return e(x)},get delistedGames(){return e(C)},get teamDisplayName(){return e(b)},get bombBreakdown(){return e(We)},onGameClick:B=>{u(xe,null),Be(B)}})}a(se,Tt),Ke()}yr(["click","keydown"]);export{xn as component};
