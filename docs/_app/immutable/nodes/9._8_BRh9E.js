import{e as Q,a as l,t as m,f as L,s as k}from"../chunks/DzHdN571.js";import{p as R,b as c,j as V,a as W,e as X,f as Z,c as a,s as i,g as d,t as A,d as o,$ as ee,n,r as s}from"../chunks/DlV_tra5.js";import{i as te}from"../chunks/CgzLApN2.js";import{h as re,g as ae}from"../chunks/C6lMZRzz.js";import{g as se}from"../chunks/BwqNAlMN.js";import{g as E}from"../chunks/LLmaS8B6.js";import{g as oe,j as ie}from"../chunks/D9LguvKZ.js";import"../chunks/DKVDk_7u.js";import"../chunks/2_D5sMpC.js";import{B as y}from"../chunks/C7aLFi9B.js";import{I}from"../chunks/HYrG4pZ4.js";import{L as U}from"../chunks/Hk73NnrD.js";import{U as de}from"../chunks/CkQ2pRMX.js";import{A as le}from"../chunks/BvRo9QsY.js";var ne=L("<!> Back",1),ve=L('<div class="rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-center text-sm text-destructive"> </div>'),ue=L('<div class="mx-auto max-w-md"><div class="mb-4"><!></div> <div class="glass overflow-hidden rounded-xl"><div class="h-1 w-full bg-gradient-to-r from-primary/60 via-primary/30 to-transparent"></div> <div class="flex flex-col items-center gap-3 border-b border-white/[0.06] p-6"><div class="flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"><!></div> <div class="text-center"><h1 class="text-xl font-semibold">Join a League</h1> <p class="mt-1 text-sm text-muted-foreground">Enter the invite code from your league commissioner.</p></div></div> <form><div class="space-y-4 p-5"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <!></div> <div class="flex flex-col gap-2 border-t border-white/[0.06] bg-white/[0.02] p-5"><!> <!></div></form></div></div>');function Se(D,q){R(q,!0);const N=()=>ae(E()?.displayName);let f=c(""),p=c(V(N())),v=c(!1),u=c("");async function z(e){e.preventDefault();const r=E();if(r){i(v,!0),i(u,"");try{const t=await oe(d(f).trim());if(!t){i(u,"No league found with that code"),i(v,!1);return}await ie(t.id,r.uid,d(p).trim()||N()),await se(`/league/${t.id}`)}catch(t){i(u,t instanceof Error?t.message:"Failed to join league",!0)}finally{i(v,!1)}}}var g=ue();re("1wxez71",e=>{X(()=>{ee.title="Join League"})});var h=a(g),F=a(h);y(F,{variant:"ghost",href:"/dashboard",class:"gap-1.5 text-sm text-muted-foreground hover:text-foreground",children:(e,r)=>{var t=ne(),O=Z(t);le(O,{class:"h-4 w-4"}),n(),l(e,t)},$$slots:{default:!0}}),s(h);var S=o(h,2),x=o(a(S),2),j=a(x),M=a(j);de(M,{class:"h-6 w-6 text-primary"}),s(j),n(2),s(x);var _=o(x,2),b=a(_),$=a(b),J=a($);U(J,{for:"studioName",children:(e,r)=>{n();var t=m("Your Studio Name");l(e,t)},$$slots:{default:!0}});var T=o(J,2);I(T,{id:"studioName",placeholder:"e.g. John's Studio",class:"h-10 border-white/[0.08] bg-white/[0.03]",get value(){return d(p)},set value(e){i(p,e,!0)}}),s($);var w=o($,2),P=a(w);U(P,{for:"code",children:(e,r)=>{n();var t=m("Invite Code");l(e,t)},$$slots:{default:!0}});var Y=o(P,2);I(Y,{id:"code",required:!0,placeholder:"e.g. STEAM26",class:"h-12 border-white/[0.08] bg-white/[0.03] text-center text-lg tracking-[0.2em] uppercase",get value(){return d(f)},set value(e){i(f,e,!0)}}),s(w);var G=o(w,2);{var H=e=>{var r=ve(),t=a(r,!0);s(r),A(()=>k(t,d(u))),l(e,r)};te(G,e=>{d(u)&&e(H)})}s(b);var B=o(b,2),C=a(B);y(C,{type:"submit",class:"glow-sm-primary w-full",get disabled(){return d(v)},children:(e,r)=>{n();var t=m();A(()=>k(t,d(v)?"Joining...":"Join League")),l(e,t)},$$slots:{default:!0}});var K=o(C,2);y(K,{variant:"ghost",href:"/dashboard",class:"w-full",children:(e,r)=>{n();var t=m("Cancel");l(e,t)},$$slots:{default:!0}}),s(B),s(_),s(S),s(g),Q("submit",_,z),l(D,g),W()}export{Se as component};
