import{a as l,t as m,f as L}from"../chunks/gRx6Pn2l.js";import{p as Q,b as c,i as R,a as V,e as W,f as X,c as a,s as i,g as d,t as k,d as o,$ as Z,n,r as s}from"../chunks/vIZKj9Q3.js";import{e as ee,s as A}from"../chunks/DuGzo3VH.js";import{i as te}from"../chunks/nU2p-N_8.js";import{h as re,g as ae}from"../chunks/B1_1BM22.js";import{g as se}from"../chunks/BJIKcx-k.js";import{g as E}from"../chunks/BOOFKvYd.js";import{g as oe,j as ie}from"../chunks/e1af1uuZ.js";import"../chunks/D36JPk-d.js";import{B as y}from"../chunks/D78Pr55m.js";import{I}from"../chunks/DeuSJQV-.js";import{L as U}from"../chunks/D3LC9zPk.js";import{U as de}from"../chunks/Js4fz6I7.js";import{A as le}from"../chunks/DUj78siy.js";var ne=L("<!> Back",1),ve=L('<div class="rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-center text-sm text-destructive"> </div>'),ue=L('<div class="mx-auto max-w-md"><div class="mb-4"><!></div> <div class="glass overflow-hidden rounded-xl"><div class="h-1 w-full bg-gradient-to-r from-primary/60 via-primary/30 to-transparent"></div> <div class="flex flex-col items-center gap-3 border-b border-white/[0.06] p-6"><div class="flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"><!></div> <div class="text-center"><h1 class="text-xl font-semibold">Join a League</h1> <p class="mt-1 text-sm text-muted-foreground">Enter the invite code from your league commissioner.</p></div></div> <form><div class="space-y-4 p-5"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <!></div> <div class="flex flex-col gap-2 border-t border-white/[0.06] bg-white/[0.02] p-5"><!> <!></div></form></div></div>');function Se(D,q){Q(q,!0);const N=()=>ae(E()?.displayName);let f=c(""),p=c(R(N())),v=c(!1),u=c("");async function z(e){e.preventDefault();const r=E();if(r){i(v,!0),i(u,"");try{const t=await oe(d(f).trim());if(!t){i(u,"No league found with that code"),i(v,!1);return}await ie(t.id,r.uid,d(p).trim()||N()),await se(`/league/${t.id}`)}catch(t){i(u,t instanceof Error?t.message:"Failed to join league",!0)}finally{i(v,!1)}}}var g=ue();re("1wxez71",e=>{W(()=>{Z.title="Join League"})});var h=a(g),F=a(h);y(F,{variant:"ghost",href:"/dashboard",class:"gap-1.5 text-sm text-muted-foreground hover:text-foreground",children:(e,r)=>{var t=ne(),O=X(t);le(O,{class:"h-4 w-4"}),n(),l(e,t)},$$slots:{default:!0}}),s(h);var S=o(h,2),x=o(a(S),2),J=a(x),M=a(J);de(M,{class:"h-6 w-6 text-primary"}),s(J),n(2),s(x);var _=o(x,2),b=a(_),$=a(b),P=a($);U(P,{for:"studioName",children:(e,r)=>{n();var t=m("Your Studio Name");l(e,t)},$$slots:{default:!0}});var T=o(P,2);I(T,{id:"studioName",placeholder:"e.g. John's Studio",class:"h-10 border-white/[0.08] bg-white/[0.03]",get value(){return d(p)},set value(e){i(p,e,!0)}}),s($);var w=o($,2),j=a(w);U(j,{for:"code",children:(e,r)=>{n();var t=m("Invite Code");l(e,t)},$$slots:{default:!0}});var Y=o(j,2);I(Y,{id:"code",required:!0,placeholder:"e.g. STEAM26",class:"h-12 border-white/[0.08] bg-white/[0.03] text-center text-lg tracking-[0.2em] uppercase",get value(){return d(f)},set value(e){i(f,e,!0)}}),s(w);var G=o(w,2);{var H=e=>{var r=ve(),t=a(r,!0);s(r),k(()=>A(t,d(u))),l(e,r)};te(G,e=>{d(u)&&e(H)})}s(b);var B=o(b,2),C=a(B);y(C,{type:"submit",class:"glow-sm-primary w-full",get disabled(){return d(v)},children:(e,r)=>{n();var t=m();k(()=>A(t,d(v)?"Joining...":"Join League")),l(e,t)},$$slots:{default:!0}});var K=o(C,2);y(K,{variant:"ghost",href:"/dashboard",class:"w-full",children:(e,r)=>{n();var t=m("Cancel");l(e,t)},$$slots:{default:!0}}),s(B),s(_),s(S),s(g),ee("submit",_,z),l(D,g),V()}export{Se as component};
