import{a,f as v,c as L,t as be}from"../chunks/pyPIpmmY.js";import{a4 as kr,E as Pr,bk as Sr,aj as Tr,e as nr,j as Nr,bl as Mr,bm as Br,bn as Ir,a9 as zr,D as Ar,q as ne,aL as ir,p as $e,c as u,r as d,a as ye,f as _,b as T,v as ft,u as De,s as l,g as e,Q as Te,$ as Gr,d as f,n as ae,t as Y,U as Er}from"../chunks/DF867mGY.js";import{j as Lr,d as Cr,s as U}from"../chunks/DSAxjhn7.js";import{p as tt,r as Me,s as Pt,i as A}from"../chunks/BKNE1mCW.js";import{a as rt,c as at,I as St,b as Ve,i as Ke,d as bt,s as Vt,f as Kt}from"../chunks/Rpk1U1Qo.js";import{c as N}from"../chunks/B__RpEuR.js";import{h as Fr,B as mt}from"../chunks/a5zqx5zQ.js";import{b as Ne}from"../chunks/Cr0XGr2S.js";import{j as Or,P as xt,D as Rr}from"../chunks/nK_5IJdR.js";import{g as Hr}from"../chunks/O3iSBb2n.js";import{e as Wt,b as jr,c as Jt,f as Dr,a as Yr}from"../chunks/BnIGv0Ow.js";import{g as qr,G as Ur,r as Zr,c as Qr,C as Xt,B as er}from"../chunks/DAKN6pjK.js";import{S as Vr,b as wt,c as $t,d as ht,a as yt,T as Kr,L as Wr,e as Jr,C as tr}from"../chunks/j2Ec-4B5.js";import{s as Be}from"../chunks/iQ9SZGQO.js";import{I as Xr}from"../chunks/DMIQz9XH.js";import{C as ea}from"../chunks/CxzCqKcI.js";import{S as ta}from"../chunks/Be0SUrXb.js";const ra=()=>performance.now(),Ae={tick:n=>requestAnimationFrame(n),now:()=>ra(),tasks:new Set};function dr(){const n=Ae.now();Ae.tasks.forEach(t=>{t.c(n)||(Ae.tasks.delete(t),t.f())}),Ae.tasks.size!==0&&Ae.tick(dr)}function aa(n){let t;return Ae.tasks.size===0&&Ae.tick(dr),{promise:new Promise(c=>{Ae.tasks.add(t={c:n,f:c})}),abort(){Ae.tasks.delete(t)}}}function kt(n,t){ir(()=>{n.dispatchEvent(new CustomEvent(t))})}function sa(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const t=n.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(c=>c[0].toUpperCase()+c.slice(1)).join("")}function rr(n){const t={},c=n.split(";");for(const m of c){const[s,h]=m.split(":");if(!s||h===void 0)break;const i=sa(s.trim());t[i]=h.trim()}return t}const oa=n=>n;function ar(n,t,c,m){var s=(n&Br)!==0,h=(n&Ir)!==0,i=s&&h,G=(n&Mr)!==0,se=i?"both":s?"in":"out",w,H=t.inert,ke=t.style.overflow,j,Z;function Q(){return ir(()=>w??=c()(t,m?.()??{},{direction:se}))}var k={is_global:G,in(){if(t.inert=H,!s){Z?.abort(),Z?.reset?.();return}h||j?.abort(),j=Ht(t,Q(),Z,1,()=>{kt(t,"introend"),j?.abort(),j=w=void 0,t.style.overflow=ke})},out(ie){if(!h){ie?.(),w=void 0;return}t.inert=!0,Z=Ht(t,Q(),j,0,()=>{kt(t,"outroend"),ie?.()})},stop:()=>{j?.abort(),Z?.abort()}},M=kr;if((M.nodes.t??=[]).push(k),s&&Lr){var J=G;if(!J){for(var V=M.parent;V&&(V.f&Pr)!==0;)for(;(V=V.parent)&&(V.f&Sr)===0;);J=!V||(V.f&Tr)!==0}J&&nr(()=>{Nr(()=>k.in())})}}function Ht(n,t,c,m,s){var h=m===1;if(zr(t)){var i,G=!1;return Ar(()=>{if(!G){var M=t({direction:h?"in":"out"});i=Ht(n,M,c,m,s)}}),{abort:()=>{G=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(c?.deactivate(),!t?.duration&&!t?.delay)return kt(n,h?"introstart":"outrostart"),s(),{abort:ne,deactivate:ne,reset:ne,t:()=>m};const{delay:se=0,css:w,tick:H,easing:ke=oa}=t;var j=[];if(h&&c===void 0&&(H&&H(0,1),w)){var Z=rr(w(0,1));j.push(Z,Z)}var Q=()=>1-m,k=n.animate(j,{duration:se,fill:"forwards"});return k.onfinish=()=>{k.cancel(),kt(n,h?"introstart":"outrostart");var M=c?.t()??1-m;c?.abort();var J=m-M,V=t.duration*Math.abs(J),ie=[];if(V>0){var Ge=!1;if(w)for(var Ee=Math.ceil(V/16.666666666666668),xe=0;xe<=Ee;xe+=1){var st=M+J*ke(xe/Ee),We=rr(w(st,1-st));ie.push(We),Ge||=We.overflow==="hidden"}Ge&&(n.style.overflow="hidden"),Q=()=>{var X=k.currentTime;return M+J*ke(X/V)},H&&aa(()=>{if(k.playState!=="running")return!1;var X=Q();return H(X,1-X),!0})}k=n.animate(ie,{duration:V,fill:"forwards"}),k.onfinish=()=>{Q=()=>m,H?.(m,1-m),s()}},{abort:()=>{k&&(k.cancel(),k.effect=null,k.onfinish=ne)},deactivate:()=>{s=ne},reset:()=>{m===0&&H?.(1,0)},t:()=>Q()}}function la(n){const t=n-1;return t*t*t+1}function sr(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}function or(n,{delay:t=0,duration:c=400,easing:m=la,x:s=0,y:h=0,opacity:i=0}={}){const G=getComputedStyle(n),se=+G.opacity,w=G.transform==="none"?"":G.transform,H=se*(1-i),[ke,j]=sr(s),[Z,Q]=sr(h);return{delay:t,duration:c,easing:m,css:(k,M)=>`
			transform: ${w} translate(${(1-k)*ke}${j}, ${(1-k)*Z}${Q});
			opacity: ${se-H*M}`}}var na=v('<div data-slot="table-container" class="relative w-full overflow-x-auto"><table><!></table></div>');function ia(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=na(),h=u(s);rt(h,G=>({"data-slot":"table",class:G,...m}),[()=>at("w-full caption-bottom text-sm",t.class)]);var i=u(h);Be(i,()=>t.children??ne),d(h),Ne(h,G=>c(G),()=>c()),d(s),a(n,s),ye()}var da=v("<tbody><!></tbody>");function ca(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=da();rt(s,i=>({"data-slot":"table-body",class:i,...m}),[()=>at("[&_tr:last-child]:border-0",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var ua=v("<td><!></td>");function Lt(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=ua();rt(s,i=>({"data-slot":"table-cell",class:i,...m}),[()=>at("bg-clip-padding p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var va=v("<th><!></th>");function Ct(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=va();rt(s,i=>({"data-slot":"table-head",class:i,...m}),[()=>at("h-10 bg-clip-padding px-2 text-start align-middle font-medium whitespace-nowrap text-foreground [&:has([role=checkbox])]:pe-0",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var fa=v("<thead><!></thead>");function ma(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=fa();rt(s,i=>({"data-slot":"table-header",class:i,...m}),[()=>at("[&_tr]:border-b",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var ha=v("<tr><!></tr>");function lr(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=ha();rt(s,i=>({"data-slot":"table-row",class:i,...m}),[()=>at("border-b transition-colors data-[state=selected]:bg-muted hover:[&,&>svelte-css-wrapper]:[&>th,td]:bg-muted/50",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}function Ft(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];St(n,Pt({name:"arrow-up"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=L(),G=_(i);Be(G,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}function Ot(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];St(n,Pt({name:"arrow-down"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=L(),G=_(i);Be(G,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}function Rt(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"m21 16-4 4-4-4"}],["path",{d:"M17 20V4"}],["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}]];St(n,Pt({name:"arrow-up-down"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=L(),G=_(i);Be(G,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}function ga(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"M10 5H3"}],["path",{d:"M12 19H3"}],["path",{d:"M14 3v4"}],["path",{d:"M16 17v4"}],["path",{d:"M21 12h-9"}],["path",{d:"M21 19h-5"}],["path",{d:"M21 5h-7"}],["path",{d:"M8 10v4"}],["path",{d:"M8 12H3"}]];St(n,Pt({name:"sliders-horizontal"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=L(),G=_(i);Be(G,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}var _a=v("<!> <span>Show filters</span>",1),pa=v('<div class="glass flex items-center rounded-xl px-3 py-2 transition-all duration-200 ease-out"><!></div>'),ba=v("<!> <span>Hide filters</span>",1),xa=v("<!> <!>",1),wa=v("<!> <!>",1),$a=v("<!> <!>",1),ya=v("<!> <!>",1),ka=v("<!> <!>",1),Pa=v('<span class="shrink-0 text-xs text-muted-foreground"> </span>'),Sa=v('<div class="glass flex flex-col gap-4 rounded-xl p-4 transition-all duration-200 ease-out sm:p-3"><!> <div class="relative w-full min-w-0"><!> <!></div> <div class="flex flex-col gap-4 sm:flex-row sm:flex-wrap sm:items-center sm:gap-3"><div class="grid w-full grid-cols-2 gap-3 sm:flex sm:w-auto sm:grid-cols-none sm:flex-wrap sm:items-center"><div class="flex min-w-0 items-center gap-2"><!> <!></div> <div class="flex min-w-0 items-center gap-2"><!> <!></div></div> <div class="flex w-full min-w-0 items-center gap-2 sm:w-auto sm:flex-initial"><!> <!></div> <div class="flex w-full flex-wrap items-center gap-3 sm:w-auto sm:flex-initial"><button type="button" role="checkbox" aria-label="Hide released" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/8 bg-white/4 px-3 transition-colors hover:bg-white/6"><span><!></span> <span class="text-sm whitespace-nowrap text-foreground">Hide released</span></button> <button type="button" role="checkbox" aria-label="Bookmarked only" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/8 bg-white/4 px-3 transition-colors hover:bg-white/6"><span><!></span> <span class="text-sm whitespace-nowrap text-foreground">Bookmarked only</span></button></div> <div class="flex w-full flex-wrap items-center gap-3 sm:ml-auto sm:w-auto"><div class="flex min-w-0 flex-1 items-center gap-2 sm:flex-initial"><!></div> <div class="flex shrink-0 items-center gap-0.5 rounded-lg border border-white/8 bg-white/4 p-0.5"><!> <!></div> <!></div></div></div>'),Ta=v('<div class="aspect-2/3 animate-fade-in-up rounded-lg bg-white/4"></div>'),Na=v('<div class="grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),Ma=v('<div class="glass flex flex-col items-center justify-center gap-4 rounded-xl py-12 text-center"><p class="text-sm text-destructive"> </p> <!></div>'),Ba=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No game lists available.</div>'),Ia=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">Select a year to browse games.</div>'),za=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground"> </div>'),Aa=v('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Date <!></button>'),Ga=v('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-left text-xs hover:text-foreground">Game Name <!></button>'),Ea=v('<button type="button" class="ml-auto flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Score <!></button>'),La=v("<!> <!> <!>",1),Ca=v('<span class="flex items-center gap-2"><!> <span class="truncate"> </span></span>'),Fa=v("<!> <!> <!>",1),Oa=v("<!> <!>",1),Ra=v('<div class="max-w-full overflow-x-auto rounded-xl border border-white/6"><!></div>'),Ha=v('<img alt="" class="absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]" loading="lazy" width="264" height="396"/>'),ja=v('<div class="flex h-full w-full items-center justify-center p-3 text-center text-sm text-muted-foreground"> </div>'),Da=v('<div class="absolute top-2 right-2 rounded-full bg-black/60 p-1" aria-hidden="true"><!></div>'),Ya=v('<span class="mt-0.5 font-mono text-[10px] text-white/80"> </span>'),qa=v('<button type="button" class="group relative aspect-2/3 w-full animate-fade-in-up cursor-pointer overflow-hidden rounded-lg border border-white/6 bg-white/3 text-left transition-all hover:border-white/15 hover:shadow-lg hover:shadow-primary/5 focus:ring-2 focus:ring-ring focus:outline-none"><!> <!> <div class="absolute inset-x-0 bottom-0 flex min-h-[50%] flex-col justify-end bg-linear-to-t from-black/90 via-black/40 to-transparent p-3 opacity-100 transition-opacity duration-200 sm:opacity-0 sm:group-hover:opacity-100"><span class="line-clamp-2 text-sm font-medium text-white"> </span> <span class="mt-0.5 text-[10px] text-white/70"> </span> <!></div></button>'),Ua=v('<div class="grid grid-cols-2 gap-2 min-[400px]:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),Za=v('<div class="py-3 text-center text-xs text-muted-foreground">Loading more…</div>'),Qa=v('<div class="py-2 text-center text-[10px] text-muted-foreground"> </div>'),Va=v('<div class="h-4 w-full" role="presentation"></div> <!>',1),Ka=v('<button type="button" aria-label="Back to top" class="glass fixed right-6 bottom-24 z-30 flex size-12 cursor-pointer items-center justify-center rounded-full shadow-lg transition-transform duration-200 hover:scale-105 md:bottom-6"><!></button>'),Wa=v('<div><h1 class="pb-2 text-3xl font-bold tracking-tight">Browse Games</h1> <div class="sticky top-14 z-30 -mx-4 px-4 pt-3 pb-6 md:top-16"><!></div> <div class="h-px w-full" aria-hidden="true"></div> <!> <!> <!></div> <!>',1);function hs(n,t){$e(t,!0);const c=24,m=[{value:"date-asc",label:"Date (oldest first)"},{value:"date-desc",label:"Date (newest first)"},{value:"name-asc",label:"Name (A–Z)"},{value:"name-desc",label:"Name (Z–A)"},{value:"score-asc",label:"Score (low–high)"},{value:"score-desc",label:"Score (high–low)"}];let s=T("date-asc"),h=Te(()=>e(s).split("-")[0]),i=Te(()=>e(s).split("-")[1]),G=Te(()=>m.find(r=>r.value===e(s))?.label??e(s)),se=T(ft([])),w=T(""),H=T(""),ke=T(ft([])),j=T(ft([])),Z=T(!1),Q=T(!1),k=T(ft(new Set)),M=T(ft([])),J=T(0),V=T(!0),ie=T(!1),Ge=T(!1),Ee=T("grid"),xe=T(""),st=T(""),We=T(!1),X=T(null),ot=T(null),gt=T(!1),Tt=T(void 0),Le=T(null),Nt=T(!1),Mt=T(void 0),_t=T(void 0),pt=T(void 0),jt=T(0);const lt=Te(Hr);function cr(){const r=window.scrollY,o=performance.now(),$=Math.min(800,Math.max(400,r*.2));function K(I){return I<.5?4*I*I*I:1-Math.pow(-2*I+2,3)/2}function ge(I){const C=I-o,ee=Math.min(1,C/$),we=K(ee);window.scrollTo(0,r*(1-we)),ee<1&&requestAnimationFrame(ge)}requestAnimationFrame(ge)}async function Dt(r){const o=r?e(_t)?.offsetHeight??0:e(pt)?.offsetHeight??0;l(Nt,r,!0),await Er();const $=r?e(pt)?.offsetHeight??0:e(_t)?.offsetHeight??0;window.scrollBy(0,$-o)}async function ur(){l(Le,null),Dr(),l(V,!0),l(ie,!0);try{const r=await Wt();l(se,r.map(String),!0),!e(w)&&e(se).length>0&&l(w,e(se)[0],!0),e(w)&&await nt()}catch(r){l(Le,r instanceof Error?r.message:"Load failed",!0)}finally{l(V,!1),l(ie,!1)}}async function Bt(r){l(X,r,!0),l(We,!0),l(ot,null),l(gt,!0);try{const o=await Yr(r);l(ot,o?{...o,id:r}:null,!0)}finally{l(gt,!1)}}function vr(){l(We,!1),l(X,null),l(ot,null)}async function fr(){if(!e(lt)||!e(X)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(lt)),console.log("selectedGameId",e(X));return}e(k).has(e(X))?(await Zr(e(lt).uid,e(X)),l(k,new Set([...e(k)].filter(o=>o!==e(X))),!0)):(await Qr(e(lt).uid,e(X)),l(k,new Set([...e(k),e(X)]),!0)),e(Q)&&nt()}De(()=>{l(Le,null),Wt().then(r=>{l(se,r.map(String),!0),l(V,!1),!e(w)&&e(se).length>0&&l(w,e(se)[0],!0)}).catch(r=>{l(Le,r instanceof Error?r.message:"Load failed",!0),l(V,!1)})}),De(()=>{const r=e(w)?parseInt(e(w),10):0;if(!r||Number.isNaN(r)){l(ke,[],!0);return}jr(r).then(o=>l(ke,o,!0))}),De(()=>{const r=e(lt);if(!r){l(k,new Set,!0);return}qr(r.uid).then(o=>l(k,o,!0))});function Yt(r){const o={sortBy:e(h),order:e(i),search:e(xe).trim()||void 0,hideReleased:e(Z)||void 0,genres:e(j).length?e(j):void 0};if(e(H)){const{start:$,end:K}=Or(e(H),r);o.releaseFrom=$,o.releaseTo=K}return e(Q)&&(o.bookmarkedOnly=!0,o.bookmarkedIds=e(k)),o}async function nt(){const r=e(w)?parseInt(e(w),10):0;if(!(!r||Number.isNaN(r))){l(ie,!0),l(M,[],!0),l(J,0);try{const{games:o,total:$}=await Jt(r,c,0,Yt(r));l(M,o,!0),l(J,$,!0),l(Le,null)}catch(o){l(Le,o instanceof Error?o.message:"Load failed",!0)}finally{l(ie,!1)}}}async function mr(){const r=e(w)?parseInt(e(w),10):0;if(!(!r||Number.isNaN(r)||e(Ge)||e(ie))&&!(e(M).length>=e(J))){l(Ge,!0);try{const{games:o,total:$}=await Jt(r,c,e(M).length,Yt(r));l(M,[...e(M),...o],!0),l(J,$,!0)}finally{l(Ge,!1)}}}function It(r){e(h)===r?l(s,e(i)==="asc"?`${r}-desc`:`${r}-asc`,!0):l(s,`${r}-asc`),nt()}De(()=>{e(s),e(H),e(Z),e(j),e(Q),e(w)&&nt()}),De(()=>{if(e(xe)===e(st))return;const r=e(xe),o=setTimeout(()=>{l(st,r,!0),e(w)&&nt()},300);return()=>clearTimeout(o)}),De(()=>{const r=e(Tt);if(!r)return;const o=new IntersectionObserver($=>{const[K]=$;K?.isIntersecting&&e(M).length>0&&e(M).length<e(J)&&!e(Ge)&&!e(ie)&&mr()},{rootMargin:"200px 0px 0px 0px",threshold:0});return o.observe(r),()=>o.disconnect()}),De(()=>{const r=e(Mt);if(!r)return;const o=new IntersectionObserver(([$])=>{$&&l(Nt,!$.isIntersecting)},{threshold:0,rootMargin:"-60px 0px 0px 0px"});return o.observe(r),()=>o.disconnect()}),De(()=>{const r=()=>l(jt,window.scrollY,!0);return window.addEventListener("scroll",r,{passive:!0}),r(),()=>window.removeEventListener("scroll",r)});var qt=Wa();Fr("6rw1dw",r=>{nr(()=>{Gr.title="Browse Games"})});var zt=_(qt),At=f(u(zt),2),hr=u(At);{var gr=r=>{var o=pa(),$=u(o);mt($,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-foreground hover:bg-white/6",onclick:()=>Dt(!1),"aria-label":"Show filters",children:(K,ge)=>{var I=_a(),C=_(I);ga(C,{class:"h-4 w-4"}),ae(2),a(K,I)},$$slots:{default:!0}}),d(o),Ne(o,K=>l(pt,K),()=>e(pt)),a(r,o)},_r=r=>{var o=Sa(),$=u(o);mt($,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-muted-foreground hover:bg-white/6 hover:text-foreground",onclick:()=>Dt(!0),"aria-label":"Hide filters",children:(p,F)=>{var y=ba(),fe=_(y);Xt(fe,{class:"h-4 w-4"}),ae(2),a(p,y)},$$slots:{default:!0}});var K=f($,2),ge=u(K);Vr(ge,{class:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"});var I=f(ge,2);Xr(I,{placeholder:"Search games...",class:"border-white/8 bg-white/4 pl-9",get value(){return e(xe)},set value(p){l(xe,p,!0)}}),d(K);var C=f(K,2),ee=u(C),we=u(ee),Ce=u(we);ea(Ce,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var de=f(Ce,2);N(de,()=>yt,(p,F)=>{F(p,{type:"single",get value(){return e(w)},set value(y){l(w,y,!0)},children:(y,fe)=>{var oe=xa(),O=_(oe);N(O,()=>wt,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:w-[120px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(w)||"Year")),a(g,b)},$$slots:{default:!0}})});var me=f(O,2);N(me,()=>$t,(R,P)=>{P(R,{children:(g,B)=>{var b=L(),le=_(b);Ve(le,17,()=>e(se),Ke,(ce,W)=>{var E=L(),q=_(E);{let te=Te(()=>String(e(W))),ue=Te(()=>String(e(W)));N(q,()=>ht,(S,re)=>{re(S,{get value(){return e(te)},get label(){return e(ue)},children:(D,pe)=>{ae();var x=be();Y(()=>U(x,e(W))),a(D,x)},$$slots:{default:!0}})})}a(ce,E)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(we);var _e=f(we,2),Fe=u(_e);ta(Fe,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var Gt=f(Fe,2);N(Gt,()=>yt,(p,F)=>{F(p,{type:"single",get value(){return e(H)},set value(y){l(H,y,!0)},children:(y,fe)=>{var oe=$a(),O=_(oe);N(O,()=>wt,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:w-[130px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(H)?xt[e(H)].label:"All seasons")),a(g,b)},$$slots:{default:!0}})});var me=f(O,2);N(me,()=>$t,(R,P)=>{P(R,{children:(g,B)=>{var b=wa(),le=_(b);N(le,()=>ht,(W,E)=>{E(W,{value:"",label:"All seasons",children:(q,te)=>{ae();var ue=be("All seasons");a(q,ue)},$$slots:{default:!0}})});var ce=f(le,2);Ve(ce,17,()=>Rr,Ke,(W,E)=>{var q=L(),te=_(q);N(te,()=>ht,(ue,S)=>{S(ue,{get value(){return e(E)},get label(){return xt[e(E)].label},children:(re,D)=>{ae();var pe=be();Y(()=>U(pe,xt[e(E)].label)),a(re,pe)},$$slots:{default:!0}})}),a(W,q)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(_e),d(ee);var it=f(ee,2),Ie=u(it);Kr(Ie,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var Je=f(Ie,2);N(Je,()=>yt,(p,F)=>{F(p,{type:"multiple",get value(){return e(j)},set value(y){l(j,y,!0)},children:(y,fe)=>{var oe=ya(),O=_(oe);N(O,()=>wt,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:max-w-[180px] sm:min-w-[140px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(j).length>1?`${e(j).length} genres`:e(j)[0]??"Genre")),a(g,b)},$$slots:{default:!0}})});var me=f(O,2);N(me,()=>$t,(R,P)=>{P(R,{children:(g,B)=>{var b=L(),le=_(b);Ve(le,17,()=>e(ke),Ke,(ce,W)=>{var E=L(),q=_(E);N(q,()=>ht,(te,ue)=>{ue(te,{get value(){return e(W)},get label(){return e(W)},children:(S,re)=>{ae();var D=be();Y(()=>U(D,e(W))),a(S,D)},$$slots:{default:!0}})}),a(ce,E)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(it);var dt=f(it,2),Ye=u(dt);Ye.__click=()=>l(Z,!e(Z));var ct=u(Ye),Oe=u(ct);{var Re=p=>{tr(p,{class:"h-2.5 w-2.5"})};A(Oe,p=>{e(Z)&&p(Re)})}d(ct),ae(2),d(Ye);var He=f(Ye,2);He.__click=()=>l(Q,!e(Q));var ut=u(He),Et=u(ut);{var je=p=>{tr(p,{class:"h-2.5 w-2.5"})};A(Et,p=>{e(Q)&&p(je)})}d(ut),ae(2),d(He),d(dt);var Pe=f(dt,2),qe=u(Pe),ve=u(qe);N(ve,()=>yt,(p,F)=>{F(p,{type:"single",get value(){return e(s)},set value(y){l(s,y,!0)},children:(y,fe)=>{var oe=ka(),O=_(oe);N(O,()=>wt,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:w-[170px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(G))),a(g,b)},$$slots:{default:!0}})});var me=f(O,2);N(me,()=>$t,(R,P)=>{P(R,{children:(g,B)=>{var b=L(),le=_(b);Ve(le,17,()=>m,Ke,(ce,W)=>{var E=L(),q=_(E);N(q,()=>ht,(te,ue)=>{ue(te,{get value(){return e(W).value},get label(){return e(W).label},children:(S,re)=>{ae();var D=be();Y(()=>U(D,e(W).label)),a(S,D)},$$slots:{default:!0}})}),a(ce,E)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(qe);var Ue=f(qe,2),Se=u(Ue);{let p=Te(()=>e(Ee)==="table"?"secondary":"ghost");mt(Se,{get variant(){return e(p)},size:"icon",class:"size-7 ",onclick:()=>l(Ee,"table"),"aria-label":"Table view",children:(F,y)=>{Wr(F,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}var vt=f(Se,2);{let p=Te(()=>e(Ee)==="grid"?"secondary":"ghost");mt(vt,{get variant(){return e(p)},size:"icon",class:"size-7 ",onclick:()=>l(Ee,"grid"),"aria-label":"Grid view",children:(F,y)=>{Jr(F,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}d(Ue);var Xe=f(Ue,2);{var et=p=>{var F=Pa(),y=u(F);d(F),Y(()=>U(y,`${e(J)??""} games`)),a(p,F)};A(Xe,p=>{e(J)>0&&!e(ie)&&p(et)})}d(Pe),d(C),d(o),Ne(o,p=>l(_t,p),()=>e(_t)),Y(()=>{bt(Ye,"aria-checked",e(Z)),Vt(ct,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/8 bg-white/4 transition-colors ${e(Z)?"border-primary bg-primary text-primary-foreground":""}`),bt(He,"aria-checked",e(Q)),Vt(ut,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/8 bg-white/4 transition-colors ${e(Q)?"border-primary bg-primary text-primary-foreground":""}`)}),a(r,o)};A(hr,r=>{e(Nt)?r(gr):r(_r,!1)})}d(At);var Ut=f(At,2);Ne(Ut,r=>l(Mt,r),()=>e(Mt));var Zt=f(Ut,2);{var pr=r=>{var o=Na();Ve(o,20,()=>Array(12),Ke,($,K,ge)=>{var I=Ta();Kt(I,`animation-delay: ${ge*.03}s`),a($,I)}),d(o),a(r,o)},br=r=>{var o=L(),$=_(o);{var K=I=>{var C=Ma(),ee=u(C),we=u(ee,!0);d(ee);var Ce=f(ee,2);mt(Ce,{onclick:ur,variant:"outline",children:(de,_e)=>{ae();var Fe=be("Retry");a(de,Fe)},$$slots:{default:!0}}),d(C),Y(()=>U(we,e(Le))),a(I,C)},ge=I=>{var C=L(),ee=_(C);{var we=de=>{var _e=Ba();a(de,_e)},Ce=de=>{var _e=L(),Fe=_(_e);{var Gt=Ie=>{var Je=Ia();a(Ie,Je)},it=Ie=>{var Je=L(),dt=_(Je);{var Ye=Oe=>{var Re=za(),He=u(Re);d(Re),Y(()=>U(He,`No games found${e(xe)?` matching "${e(xe)}"`:e(H)?` for ${e(w)} ${xt[e(H)].label}`:` for ${e(w)}`}.`)),a(Oe,Re)},ct=Oe=>{var Re=L(),He=_(Re);{var ut=je=>{var Pe=Ra(),qe=u(Pe);N(qe,()=>ia,(ve,Ue)=>{Ue(ve,{class:"w-full min-w-0 table-fixed",children:(Se,vt)=>{var Xe=Oa(),et=_(Xe);N(et,()=>ma,(F,y)=>{y(F,{children:(fe,oe)=>{var O=L(),me=_(O);N(me,()=>lr,(R,P)=>{P(R,{class:"border-white/6 hover:bg-transparent",children:(g,B)=>{var b=La(),le=_(b);N(le,()=>Ct,(E,q)=>{q(E,{class:"w-[120px]",children:(te,ue)=>{var S=Aa();S.__click=()=>It("date");var re=f(u(S));{var D=x=>{var he=L(),Ze=_(he);{var ze=z=>{Ft(z,{class:"size-3 "})},Qe=z=>{Ot(z,{class:"size-3 "})};A(Ze,z=>{e(i)==="asc"?z(ze):z(Qe,!1)})}a(x,he)},pe=x=>{Rt(x,{class:"size-3  opacity-40"})};A(re,x=>{e(h)==="date"?x(D):x(pe,!1)})}d(S),a(te,S)},$$slots:{default:!0}})});var ce=f(le,2);N(ce,()=>Ct,(E,q)=>{q(E,{class:"min-w-0",children:(te,ue)=>{var S=Ga();S.__click=()=>It("name");var re=f(u(S));{var D=x=>{var he=L(),Ze=_(he);{var ze=z=>{Ft(z,{class:"size-3 "})},Qe=z=>{Ot(z,{class:"size-3 "})};A(Ze,z=>{e(i)==="asc"?z(ze):z(Qe,!1)})}a(x,he)},pe=x=>{Rt(x,{class:"size-3  opacity-40"})};A(re,x=>{e(h)==="name"?x(D):x(pe,!1)})}d(S),a(te,S)},$$slots:{default:!0}})});var W=f(ce,2);N(W,()=>Ct,(E,q)=>{q(E,{class:"w-[80px] text-right",children:(te,ue)=>{var S=Ea();S.__click=()=>It("score");var re=f(u(S));{var D=x=>{var he=L(),Ze=_(he);{var ze=z=>{Ft(z,{class:"size-3 "})},Qe=z=>{Ot(z,{class:"size-3 "})};A(Ze,z=>{e(i)==="asc"?z(ze):z(Qe,!1)})}a(x,he)},pe=x=>{Rt(x,{class:"size-3  opacity-40"})};A(re,x=>{e(h)==="score"?x(D):x(pe,!1)})}d(S),a(te,S)},$$slots:{default:!0}})}),a(g,b)},$$slots:{default:!0}})}),a(fe,O)},$$slots:{default:!0}})});var p=f(et,2);N(p,()=>ca,(F,y)=>{y(F,{children:(fe,oe)=>{var O=L(),me=_(O);Ve(me,17,()=>e(M),Ke,(R,P)=>{var g=L(),B=_(g);N(B,()=>lr,(b,le)=>{le(b,{role:"button",tabindex:0,class:"cursor-pointer border-white/4 transition-colors hover:bg-white/3",onclick:()=>Bt(e(P).id),onkeydown:ce=>ce.key==="Enter"&&Bt(e(P).id),children:(ce,W)=>{var E=Fa(),q=_(E);N(q,()=>Lt,(S,re)=>{re(S,{class:"text-xs text-muted-foreground",children:(D,pe)=>{ae();var x=be();Y(()=>U(x,e(P).releaseDate??"TBA")),a(D,x)},$$slots:{default:!0}})});var te=f(q,2);N(te,()=>Lt,(S,re)=>{re(S,{class:"min-w-0 overflow-hidden text-sm font-medium",children:(D,pe)=>{var x=Ca(),he=u(x);{var Ze=z=>{er(z,{class:"h-3.5 w-3.5 shrink-0 text-yellow-400"})};A(he,z=>{e(k).has(e(P).id)&&z(Ze)})}var ze=f(he,2),Qe=u(ze,!0);d(ze),d(x),Y(()=>{bt(ze,"title",e(P).name),U(Qe,e(P).name)}),a(D,x)},$$slots:{default:!0}})});var ue=f(te,2);N(ue,()=>Lt,(S,re)=>{re(S,{class:"text-right font-mono text-xs text-muted-foreground",children:(D,pe)=>{ae();var x=be();Y(he=>U(x,he),[()=>e(P).score!=null?Math.round(e(P).score).toLocaleString():"—"]),a(D,x)},$$slots:{default:!0}})}),a(ce,E)},$$slots:{default:!0}})}),a(R,g)}),a(fe,O)},$$slots:{default:!0}})}),a(Se,Xe)},$$slots:{default:!0}})}),d(Pe),a(je,Pe)},Et=je=>{var Pe=Ua();Ve(Pe,21,()=>e(M),Ke,(qe,ve,Ue)=>{var Se=qa();Se.__click=()=>Bt(e(ve).id);var vt=u(Se);{var Xe=g=>{var B=Ha();Y(()=>bt(B,"src",e(ve).coverUrl)),a(g,B)},et=g=>{var B=ja(),b=u(B,!0);d(B),Y(()=>U(b,e(ve).name)),a(g,B)};A(vt,g=>{e(ve).coverUrl?g(Xe):g(et,!1)})}var p=f(vt,2);{var F=g=>{var B=Da(),b=u(B);er(b,{class:"h-4 w-4 text-yellow-400"}),d(B),a(g,B)};A(p,g=>{e(k).has(e(ve).id)&&g(F)})}var y=f(p,2),fe=u(y),oe=u(fe,!0);d(fe);var O=f(fe,2),me=u(O,!0);d(O);var R=f(O,2);{var P=g=>{var B=Ya(),b=u(B);d(B),Y(le=>U(b,`Score: ${le??""}`),[()=>Math.round(e(ve).score).toLocaleString()]),a(g,B)};A(R,g=>{e(ve).score!=null&&g(P)})}d(y),d(Se),Y(g=>{Kt(Se,`animation-delay: ${g??""}s`),U(oe,e(ve).name),U(me,e(ve).releaseDate??"TBA")},[()=>Math.min(Ue*.02,.3)]),a(qe,Se)}),d(Pe),a(je,Pe)};A(He,je=>{e(Ee)==="table"?je(ut):je(Et,!1)},!0)}a(Oe,Re)};A(dt,Oe=>{e(M).length===0?Oe(Ye):Oe(ct,!1)},!0)}a(Ie,Je)};A(Fe,Ie=>{e(w)?Ie(it,!1):Ie(Gt)},!0)}a(de,_e)};A(ee,de=>{e(se).length===0?de(we):de(Ce,!1)},!0)}a(I,C)};A($,I=>{e(Le)?I(K):I(ge,!1)},!0)}a(r,o)};A(Zt,r=>{e(V)||e(ie)?r(pr):r(br,!1)})}var Qt=f(Zt,2);{var xr=r=>{var o=Va(),$=_(o);Ne($,C=>l(Tt,C),()=>e(Tt));var K=f($,2);{var ge=C=>{var ee=Za();a(C,ee)},I=C=>{var ee=L(),we=_(ee);{var Ce=de=>{var _e=Qa(),Fe=u(_e);d(_e),Y(()=>U(Fe,`${e(M).length??""} of ${e(J)??""} games`)),a(de,_e)};A(we,de=>{e(M).length<e(J)&&de(Ce)},!0)}a(C,ee)};A(K,C=>{e(Ge)?C(ge):C(I,!1)})}a(r,o)};A(Qt,r=>{e(M).length>0&&r(xr)})}var wr=f(Qt,2);{var $r=r=>{var o=Ka();o.__click=cr;var $=u(o);Xt($,{class:"h-6 w-6 text-foreground"}),d(o),ar(1,o,()=>or,()=>({y:8,duration:200})),ar(2,o,()=>or,()=>({y:8,duration:150})),a(r,o)};A(wr,r=>{e(jt)>300&&r($r)})}d(zt);var yr=f(zt,2);{let r=Te(()=>e(X)!=null&&!e(gt)&&e(ot)==null),o=Te(()=>e(X)!=null&&e(k).has(e(X)));Ur(yr,{get open(){return e(We)},onOpenChange:$=>!$&&vr(),get game(){return e(ot)},get loading(){return e(gt)},get showNotFound(){return e(r)},get isBookmarked(){return e(o)},onToggleBookmark:fr})}a(n,qt),ye()}Cr(["click"]);export{hs as component};
