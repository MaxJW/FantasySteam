import{p as ia,c as X,a,f as n,t as ze,d as ut}from"../chunks/BJ85P6aB.js";import{p as Ie,f as _,a as Ee,g as e,c as r,h as st,r as t,P as f,b as ne,i as et,u as tt,s as u,Q as la,d as o,$ as da,n as _e,t as j}from"../chunks/BISIvcMS.js";import{d as ca,s as w,e as cr}from"../chunks/C1OKIs2D.js";import{p as yt,i as b,r as We,s as ft}from"../chunks/BRr5Nw1G.js";import{a as Wt,c as Vt,I as wt,b as ye,i as we,s as vr,d as C,f as ur}from"../chunks/DEexXx_t.js";import{c as Se}from"../chunks/DhFcXU6_.js";import{h as va,B as rt}from"../chunks/C84OTs7w.js";import{g as ua}from"../chunks/B_ns_sb4.js";import{g as fa}from"../chunks/DooRm0mJ.js";import{p as pa}from"../chunks/aCXZKNtv.js";import{g as fr}from"../chunks/CIUJcbP1.js";import{k as Rt,P as Ht,D as at,e as ma,b as ga,a as _a}from"../chunks/Gs9gDzk3.js";import{a as zt,f as xa,s as ha,h as ba,i as ya,k as wa,l as ka}from"../chunks/CRa1AL9G.js";import{a as pr,d as $a}from"../chunks/D2Q9hsmj.js";import{a as Pa,P as Sa}from"../chunks/KTmMys4u.js";import{d as Da,g as Ma,G as ja,r as Ca,c as Na,D as Ua,a as La,b as Ba,C as Ga,e as Ta,S as Aa}from"../chunks/B6JiD4TX.js";import{I as Ia}from"../chunks/Di7ZsQco.js";import{L as mr}from"../chunks/DfoKJFQ7.js";import{B as Ea}from"../chunks/B5jbQ43I.js";import{T as gr,S as Oa}from"../chunks/2WmyEkLA.js";import{s as Fe}from"../chunks/E0CYLtvP.js";import{b as wr}from"../chunks/mQZBkUkE.js";import{c as Ra,b as _r,m as Ha}from"../chunks/DR5kx7jP.js";import{A as xr,a as hr}from"../chunks/BSYMwi-Q.js";import{A as br}from"../chunks/BmxT0zci.js";import{A as yr}from"../chunks/CRZEvb4w.js";import{T as za}from"../chunks/CFo8wpcc.js";import{T as Fa,B as Wa,S as Va}from"../chunks/ChQU1gHn.js";import{S as Ja}from"../chunks/C-TPq8oL.js";var Ka=n("<div><!></div>");function Qa(fe,p){const l=ia();Ie(p,!0);let z=yt(p,"id",19,()=>Ra(l)),B=yt(p,"ref",15,null),re=We(p,["$$slots","$$events","$$legacy","id","children","child","ref"]);const G=Da.create({id:_r(()=>z()),ref:_r(()=>B(),De=>B(De))}),Z=f(()=>Ha(re,G.props));var Te=X(),pt=_(Te);{var ot=De=>{var Me=X(),it=_(Me);Fe(it,()=>p.child,()=>({props:e(Z)})),a(De,Me)},nt=De=>{var Me=Ka();Wt(Me,()=>({...e(Z)}));var it=r(Me);Fe(it,()=>p.children??st),t(Me),a(De,Me)};b(pt,De=>{p.child?De(ot):De(nt,!1)})}a(fe,Te),Ee()}var Ya=n("<div><!></div>");function qa(fe,p){Ie(p,!0);let l=yt(p,"ref",15,null),z=We(p,["$$slots","$$events","$$legacy","ref","class","children"]);var B=Ya();Wt(B,G=>({"data-slot":"dialog-footer",class:G,...z}),[()=>Vt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",p.class)]);var re=r(B);Fe(re,()=>p.children??st),t(B),wr(B,G=>l(G),()=>l()),a(fe,B),Ee()}var Xa=n("<div><!></div>");function Za(fe,p){Ie(p,!0);let l=yt(p,"ref",15,null),z=We(p,["$$slots","$$events","$$legacy","ref","class","children"]);var B=Xa();Wt(B,G=>({"data-slot":"dialog-header",class:G,...z}),[()=>Vt("flex flex-col gap-2 text-center sm:text-start",p.class)]);var re=r(B);Fe(re,()=>p.children??st),t(B),wr(B,G=>l(G),()=>l()),a(fe,B),Ee()}function es(fe,p){Ie(p,!0);let l=yt(p,"ref",15,null),z=We(p,["$$slots","$$events","$$legacy","ref","class"]);var B=X(),re=_(B);{let G=f(()=>Vt("text-sm text-muted-foreground",p.class));Se(re,()=>Qa,(Z,Te)=>{Te(Z,ft({"data-slot":"dialog-description",get class(){return e(G)}},()=>z,{get ref(){return l()},set ref(pt){l(pt)}}))})}a(fe,B),Ee()}function ts(fe,p){Ie(p,!0);let l=We(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];wt(fe,ft({name:"settings"},()=>l,{get iconNode(){return z},children:(B,re)=>{var G=X(),Z=_(G);Fe(Z,()=>p.children??st),a(B,G)},$$slots:{default:!0}})),Ee()}function rs(fe,p){Ie(p,!0);let l=We(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];wt(fe,ft({name:"trash-2"},()=>l,{get iconNode(){return z},children:(B,re)=>{var G=X(),Z=_(G);Fe(Z,()=>p.children??st),a(B,G)},$$slots:{default:!0}})),Ee()}function as(fe,p){Ie(p,!0);let l=We(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];wt(fe,ft({name:"circle-check-big"},()=>l,{get iconNode(){return z},children:(B,re)=>{var G=X(),Z=_(G);Fe(Z,()=>p.children??st),a(B,G)},$$slots:{default:!0}})),Ee()}function ss(fe,p){Ie(p,!0);let l=We(p,["$$slots","$$events","$$legacy"]);const z=[["circle",{cx:"12",cy:"12",r:"10"}]];wt(fe,ft({name:"circle"},()=>l,{get iconNode(){return z},children:(B,re)=>{var G=X(),Z=_(G);Fe(Z,()=>p.children??st),a(B,G)},$$slots:{default:!0}})),Ee()}function Ft(fe,p){Ie(p,!0);let l=We(p,["$$slots","$$events","$$legacy"]);const z=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];wt(fe,ft({name:"loader"},()=>l,{get iconNode(){return z},children:(B,re)=>{var G=X(),Z=_(G);Fe(Z,()=>p.children??st),a(B,G)},$$slots:{default:!0}})),Ee()}var os=n('<div class="h-32 animate-pulse rounded-xl bg-white/[0.04]"></div>'),ns=n('<div class="space-y-4"><div class="h-12 w-48 animate-pulse rounded-lg bg-white/[0.04]"></div> <div class="grid gap-4 sm:grid-cols-3"></div></div>'),is=n("<!> Back to dashboard",1),ls=n('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">Connection error</h2> <p class="text-sm text-muted-foreground"> </p> <div class="flex gap-3"><!> <!></div></div>'),ds=n("<!> Back to dashboard",1),cs=n('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">League not found</h2> <!></div>'),vs=n('<p class="text-lg font-semibold text-primary"> </p>'),us=n("<!> <!>",1),fs=n('<div class="overflow-hidden rounded-2xl border border-accent/20 bg-gradient-to-br from-accent/10 via-accent/5 to-transparent"><div class="flex flex-col items-center gap-4 px-6 py-10 text-center sm:flex-row sm:justify-center sm:gap-8 sm:text-left"><div class="flex h-20 w-20 shrink-0 items-center justify-center rounded-2xl bg-accent/20"><!></div> <div class="space-y-1"><p class="text-sm font-medium tracking-wider text-muted-foreground uppercase"> </p> <h2 class="text-2xl font-bold text-foreground md:text-3xl"> </h2> <!></div> <!></div></div>'),ps=n('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-primary/60 via-primary to-primary/60"></div>'),ms=n('<div class="absolute inset-x-0 top-0 h-0.5 bg-accent/40"></div>'),gs=n("<!> ",1),_s=n('<p class="text-center text-xs text-muted-foreground">Draft complete</p>'),xs=n('<p class="text-center text-xs text-muted-foreground">Skipped</p>'),hs=n('<p class="text-center text-xs text-muted-foreground"> </p>'),bs=n('<div><!> <div class="p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="font-semibold"> </span></div> <span class="text-[10px] font-medium text-muted-foreground uppercase"> </span></div> <p class="mt-1 text-xs text-muted-foreground"> </p> <div class="mt-3"><!></div></div></div>'),ys=n('<div class="grid gap-3 sm:grid-cols-3"></div>'),ws=n("<!> Delete",1),ks=n("This will permanently delete <strong> </strong>. You cannot undo this.",1),$s=n("<!> <!>",1),Ps=n("<!> <!>",1),Ss=n("<!> <!>",1),Ds=n('<div class="animate-fade-in-up overflow-hidden rounded-xl border border-primary/20 bg-card/60"><div class="border-b border-white/[0.06] bg-white/[0.02] px-5 py-4"><h3 class="font-semibold">League Settings</h3> <p class="text-sm text-muted-foreground">Manage picks per phase and league options.</p></div> <div class="space-y-6 p-5"><div class="flex flex-wrap items-end gap-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <p class="text-sm"> </p></div></div> <!> <div class="rounded-lg border border-destructive/20 bg-destructive/5 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div><p class="text-sm font-medium text-destructive">Delete league</p> <p class="mt-0.5 text-xs text-muted-foreground">This cannot be undone.</p></div> <!></div></div></div></div> <!>',1),Ms=n('<div class="flex h-48 items-center justify-center md:h-64"><!></div>'),js=ut('<line stroke="white" stroke-opacity="0.06" stroke-width="1"></line><text text-anchor="end" fill="#8899aa" font-size="10"> </text>',1),Cs=ut('<defs><linearGradient x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-opacity="0.15"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><polygon></polygon><polyline fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></polyline><circle r="3"></circle>',1),Ns=ut('<rect fill="transparent" role="presentation"></rect>'),Us=ut('<circle r="4" stroke="#111827" stroke-width="2"></circle>'),Ls=ut('<line stroke="white" stroke-opacity="0.15" stroke-width="1" stroke-dasharray="3 3"></line><!>',1),Bs=ut('<text text-anchor="middle" fill="#8899aa" font-size="10"> </text>'),Gs=n('<div class="flex items-center gap-1.5"><div class="h-2 w-2 rounded-full"></div> <span class="text-xs text-muted-foreground"> </span> <span class="font-mono text-xs font-medium text-foreground"> </span></div>'),Ts=n('<div class="mt-2 rounded-lg border border-white/[0.06] bg-white/[0.03] px-4 py-2.5"><p class="mb-1.5 text-xs font-medium text-muted-foreground"> </p> <div class="flex flex-wrap gap-x-5 gap-y-1"></div></div>'),As=n('<div class="flex items-center gap-1.5"><div class="h-2.5 w-2.5 rounded-sm"></div> <span class="text-xs text-muted-foreground"> </span></div>'),Is=n('<div class="overflow-x-auto"><svg class="w-full" style="min-width: 500px" role="img" aria-label="Score history chart"><!><!><!><!><!></svg></div> <!> <div class="mt-3 flex flex-wrap gap-x-4 gap-y-1.5 px-1"></div>',1),Es=n('<div class="flex h-48 flex-col items-center justify-center gap-2 text-muted-foreground md:h-64"><!> <p class="text-sm">No score data available yet</p></div>'),Os=n('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No teams yet. Wait for the draft!</div>'),Rs=n("<!> <!>",1),Hs=n('<img class="aspect-[3/4] w-full object-cover"/>'),zs=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),Fs=n('<span class="font-mono text-[9px] font-bold text-white"> </span>'),Ws=n('<span class="text-[9px] text-white/70">—</span>'),Vs=n('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-accent/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Hit</span></div> <!></div></button>'),Js=n('<img class="aspect-[3/4] w-full object-cover"/>'),Ks=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),Qs=n('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-destructive/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Bomb</span></div></div></button>'),Ys=n('<div class="flex flex-wrap gap-2.5"><!> <!></div>'),qs=n('<img class="aspect-[3/4] w-full object-cover"/>'),Xs=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),Zs=n('<span class="font-mono text-[9px] font-bold text-white"> </span>'),eo=n('<span class="text-[9px] text-white/70">—</span>'),to=n('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-sky-400/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!> <!></div></button>'),ro=n('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase"> </p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),ao=n('<img class="aspect-[3/4] w-full object-cover"/>'),so=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),oo=n('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-dashed border-purple-400/20 text-left opacity-60 transition-all hover:border-purple-400/40 hover:opacity-100 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!></div></button>'),no=n('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Alt (Backup)</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),io=n('<div class="animate-fade-in-up space-y-4 border-t border-white/[0.06] px-4 py-4"><!> <!> <!></div>'),lo=n('<div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 transition-colors hover:border-white/[0.1]"><button class="flex w-full cursor-pointer items-center gap-3 px-4 py-3 text-left"><span></span> <!> <div class="min-w-0 flex-1"><p class="truncate font-medium"> </p> <p class="truncate text-xs text-muted-foreground"> </p></div> <div class="flex items-center gap-3"><span class="font-mono text-lg font-bold text-primary"> </span> <!></div></button> <!></div>'),co=n('<h2 class="text-lg font-semibold">Season Summary</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 p-4"><div class="space-y-2 text-sm text-muted-foreground"><p> </p> <p> </p></div></div>',1),vo=n('<div class="py-10 text-center text-sm text-muted-foreground">No upcoming games</div>'),uo=n('<img class="h-14 w-10 shrink-0 rounded object-cover"/>'),fo=n('<div class="flex h-14 w-10 shrink-0 items-center justify-center rounded bg-white/[0.04] text-[8px] text-muted-foreground">N/A</div>'),po=n('<span class="rounded bg-primary/10 px-1.5 py-0.5 text-[9px] font-medium text-primary"> </span>'),mo=n('<span class="text-[10px] text-muted-foreground"> </span> <!>',1),go=n('<span class="rounded bg-white/[0.06] px-1.5 py-0.5 text-[9px] text-muted-foreground"> </span>'),_o=n('<button type="button" class="flex w-full cursor-pointer items-start gap-2.5 rounded-lg p-2.5 text-left transition-colors hover:bg-white/[0.04] focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="min-w-0 flex-1"><h3 class="line-clamp-1 text-sm font-medium"> </h3> <div class="mt-0.5 flex items-center gap-1.5"><!></div> <div class="mt-1 flex flex-wrap gap-1"></div></div></button>'),xo=n('<div class="space-y-1 p-2"><!></div>'),ho=n('<h2 class="text-lg font-semibold">Upcoming Releases</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><!></div>',1),bo=n('<div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"><div class="space-y-2"><div class="flex items-center gap-3"><h1 class="text-3xl font-bold tracking-tight md:text-4xl"> </h1> <!></div> <div class="flex flex-wrap items-center gap-2"><span class="text-sm text-muted-foreground"> </span> <span class="rounded-md bg-white/[0.05] px-2 py-0.5 font-mono text-xs text-foreground"> </span> <!></div></div></div> <!> <!> <div class="grid gap-6 lg:grid-cols-[1fr_320px]"><div class="space-y-6"><div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><div class="flex items-center gap-2 border-b border-white/[0.06] px-5 py-3"><!> <h2 class="font-semibold"> </h2></div> <div class="p-4"><!></div></div> <div class="space-y-3"><h2 class="text-lg font-semibold"> </h2> <!></div></div> <div class="space-y-3"><!></div></div>',1),yo=n('<div class="space-y-6"><!></div> <!>',1);function qo(fe,p){Ie(p,!0);let l=ne(null),z=ne(et([])),B=ne(et({})),re=ne(et({})),G=ne(!0),Z=ne(void 0),Te=ne(!1),pt=ne(!1),ot=ne(!1),nt=ne(!1),De=ne(et(new Set)),Me=ne(et(new Map)),it=ne(et([])),kt=ne(!1),St=ne(!1),Le=ne(null),mt=ne(null),$t=ne(!1),Ve=ne(null),gt=ne(et({winter:null,summer:null,fall:null})),Ge=ne(null),dt=ne(null),Je=ne(et(new Set));const _t=f(fr);async function kr(){if(e(Z)){u(dt,null),u(G,!0);try{const s=await zt(e(Z));u(l,s,!0)}catch(s){u(dt,s instanceof Error?s.message:"Load failed",!0)}finally{u(G,!1)}}}async function xt(s){u(Le,s,!0),u(St,!0),u(mt,null),u($t,!0);try{const i=await pr(s);u(mt,i?{...i,id:s}:null,!0)}finally{u($t,!1)}}function $r(){u(St,!1),u(Le,null),u(mt,null)}async function Pr(){if(!e(_t)||!e(Le)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(_t)),console.log("selectedGameId",e(Le));return}e(Je).has(e(Le))?(await Ca(e(_t).uid,e(Le)),u(Je,new Set([...e(Je)].filter(i=>i!==e(Le))),!0)):(await Na(e(_t).uid,e(Le)),u(Je,new Set([...e(Je),e(Le)]),!0))}tt(()=>{const s=e(_t);if(!s){u(Je,new Set,!0);return}Ma(s.uid).then(i=>u(Je,i,!0))}),tt(()=>{const s=ua(pa).params?.id;u(Z,s,!0),s&&u(G,!0)}),tt(()=>{const s=e(Z);s&&(u(dt,null),zt(s).then(i=>{u(l,i,!0),u(G,!1)}).catch(i=>{u(dt,i instanceof Error?i.message:"Load failed",!0),u(G,!1)}))}),tt(()=>{const s=e(Z),i=e(l)?.season;!s||!i||xa(s,i).then(async T=>{if(u(gt,T,!0),!Rt(i)){await ha(s);const y=await zt(s);y&&y.currentPhase!==e(l)?.currentPhase&&u(l,y,!0)}})}),tt(()=>{const s=e(Z);s&&ba(s).then(i=>{u(z,i,!0),Promise.all(i.map(T=>Pa(T.id))).then(T=>{const y={};T.forEach((I,V)=>{I?y[i[V].id]={displayName:I.displayName||i[V].name,avatarUrl:I.avatarUrl}:y[i[V].id]={displayName:i[V].name,avatarUrl:null}}),u(re,y,!0)})})}),tt(()=>{const s=[],i=new Set;for(const T of e(z)){const y=T.picks;for(const I of[y?.hitPick,y?.bombPick,...y?.winterPicks??[],...y?.summerPicks??[],...y?.fallPicks??[],...y?.altPicks??[]].filter(Boolean))i.has(I)||(i.add(I),s.push(I))}s.length!==0&&Promise.all(s.map(T=>pr(T))).then(T=>{const y={};T.forEach((I,V)=>{I&&(y[s[V]]=I)}),u(B,{...e(B),...y},!0)})}),tt(()=>{const s=e(Z),i=e(l)?.season;!s||e(z).length===0||(u(kt,!0),u(Ge,null),i&&Rt(i)?ya(s,i).then(T=>{u(Ge,T,!0);const y=new Map;for(const I of T.graphData.series){const V=new Map;T.graphData.dates.forEach((Qe,lt)=>V.set(Qe,I.data[lt]??0)),y.set(I.teamId,V)}u(Me,y,!0)}).finally(()=>u(kt,!1)):wa(s).then(T=>u(Me,T,!0)).finally(()=>u(kt,!1)))}),tt(()=>{$a().then(s=>u(it,s,!0))});function Sr(s){const i=new Set(e(De));i.has(s)?i.delete(s):i.add(s),u(De,i,!0)}function Dt(s){const i=e(l)?.delistedGames??[],T=_a(s.picks,i);let y=0;for(const I of T){const V=e(B)[I]?.score;V!=null&&(y+=V)}return y+(s.bombAdjustment??0)}const je=f(()=>!!e(l)&&!!e(l).season&&Rt(e(l).season)),Mt=f(()=>e(je)&&e(Ge)?[...e(z)].sort((s,i)=>(e(Ge).finalRanks[s.id]??999)-(e(Ge).finalRanks[i.id]??999)):[...e(z)].sort((s,i)=>Dt(i)-Dt(s))),jt=f(()=>{if(e(je)&&e(Ge)?.graphData)return{dates:e(Ge).graphData.dates,series:e(Ge).graphData.series.map(y=>({name:e(re)[y.teamId]?.displayName||e(z).find(I=>I.id===y.teamId)?.name||"Unknown",data:y.data}))};if(e(Me).size===0)return null;const s=new Set;e(Me).forEach(y=>{y.forEach((I,V)=>s.add(V))});const i=Array.from(s).sort(),T=e(Mt).map(y=>{const I=e(Me).get(y.id)||new Map;return{name:e(re)[y.id]?.displayName||y.name,data:i.map(V=>I.get(V)||0)}});return{dates:i,series:T}});function Jt(s){return e(je)&&e(Ge)?e(Ge).finalScores[s.id]??0:Dt(s)}function Kt(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}function Dr(s){if(!s)return"";const i=new Date,y=new Date(s).getTime()-i.getTime(),I=Math.ceil(y/(1e3*60*60*24));return I<=0?"Released":I===1?"Tomorrow":I<=7?`${I}d`:I<=30?`${Math.ceil(I/7)}w`:`${Math.ceil(I/30)}mo`}const Qt=f(()=>!!(e(l)&&fr()?.uid===e(l).commissionerId));function Yt(){u(pt,!1)}function Mr(){Yt(),u(Te,!0)}function jr(){Yt(),u(Te,!1)}async function Cr(){if(e(Z)){u(nt,!0);try{await ka(e(Z)),u(ot,!1),u(Te,!1),fa("/dashboard")}catch(s){console.error(s)}finally{u(nt,!1)}}}function Nr(s){const i=e(gt)[s];return i==="completed"?as:i==="active"||i==="pending"?Ft:ss}function qt(s){const i=e(gt)[s];if(i==="completed")return"Complete";if(i==="active"||i==="pending")return"In Progress";const T=at.indexOf(s),y=at.indexOf(e(l)?.currentPhase??"winter");return T<y?"Skipped":e(l)?.currentPhase===s?"Ready":"Upcoming"}function Ur(s){if(!e(l))return!1;const i=at.indexOf(s),T=at.indexOf(e(l).currentPhase);return i!==T?!1:e(gt)[s]!=="completed"}const Ke=["#5b9bf5","#6ddb7b","#f59e42","#e05d5d","#b47aed","#38bdf8","#f472b6","#facc15"];function Lr(s){return s===0?"bg-yellow-500/15 text-yellow-400 ring-1 ring-yellow-500/30":s===1?"bg-slate-400/15 text-slate-300 ring-1 ring-slate-400/30":s===2?"bg-amber-600/15 text-amber-500 ring-1 ring-amber-600/30":"bg-white/[0.05] text-muted-foreground"}var Xt=yo();va("5wjyo2",s=>{la(()=>{da.title=e(l)?.name??"League"??""})});var Ct=_(Xt),Br=r(Ct);{var Gr=s=>{var i=ns(),T=o(r(i),2);ye(T,20,()=>Array(3),we,(y,I)=>{var V=os();a(y,V)}),t(T),t(i),a(s,i)},Tr=s=>{var i=X(),T=_(i);{var y=V=>{var Qe=ls(),lt=o(r(Qe),2),Nt=r(lt,!0);t(lt);var Pt=o(lt,2),Oe=r(Pt);rt(Oe,{onclick:kr,variant:"outline",children:(Re,ct)=>{_e();var He=ze("Retry");a(Re,He)},$$slots:{default:!0}});var Ye=o(Oe,2);rt(Ye,{variant:"ghost",href:"/dashboard",class:"gap-2",children:(Re,ct)=>{var He=is(),qe=_(He);yr(qe,{class:"h-4 w-4"}),_e(),a(Re,He)},$$slots:{default:!0}}),t(Pt),t(Qe),j(()=>w(Nt,e(dt))),a(V,Qe)},I=V=>{var Qe=X(),lt=_(Qe);{var Nt=Oe=>{var Ye=cs(),Re=o(r(Ye),2);rt(Re,{variant:"outline",href:"/dashboard",class:"gap-2",children:(ct,He)=>{var qe=ds(),Ut=_(qe);yr(Ut,{class:"h-4 w-4"}),_e(),a(ct,qe)},$$slots:{default:!0}}),t(Ye),a(Oe,Ye)},Pt=Oe=>{var Ye=bo(),Re=_(Ye),ct=r(Re),He=r(ct),qe=r(He),Ut=r(qe,!0);t(qe);var Ir=o(qe,2);{var Er=U=>{rt(U,{variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-foreground",onclick:()=>e(Te)?jr():Mr(),children:(N,ae)=>{ts(N,{class:"h-4 w-4"})},$$slots:{default:!0}})};b(Ir,U=>{e(Qt)&&!e(je)&&U(Er)})}t(He);var Zt=o(He,2),Lt=r(Zt),Or=r(Lt);t(Lt);var Bt=o(Lt,2),Rr=r(Bt,!0);t(Bt);var Hr=o(Bt,2);{let U=f(()=>e(l).status==="active"?"default":e(l).status==="completed"?"secondary":"outline");Ea(Hr,{get variant(){return e(U)},class:"text-[10px]",children:(N,ae)=>{_e();var W=ze();j(()=>w(W,e(l).status==="draft"?"Pre-Season":e(l).status==="active"?"Active":"Completed")),a(N,W)},$$slots:{default:!0}})}t(Zt),t(ct),t(Re);var er=o(Re,2);{var zr=U=>{const N=f(()=>e(Mt)[0]);var ae=fs(),W=r(ae),S=r(W),J=r(S);za(J,{class:"h-10 w-10 text-accent"}),t(S);var k=o(S,2),ie=r(k),$=r(ie);t(ie);var pe=o(ie,2),E=r(pe);t(pe);var ee=o(pe,2);{var ve=te=>{var le=vs(),se=r(le);t(le),j(ge=>w(se,`Final score: ${ge??""}`),[()=>Math.round(Jt(e(N))).toLocaleString()]),a(te,le)};b(ee,te=>{e(N)&&te(ve)})}t(k);var ke=o(k,2);{var F=te=>{var le=X(),se=_(le);Se(se,()=>hr,(ge,K)=>{K(ge,{class:"size-16 shrink-0 ring-2 ring-accent/40 ring-offset-2 ring-offset-background",children:(oe,Be)=>{var xe=us(),Q=_(xe);{let D=f(()=>e(re)[e(N).id]?.avatarUrl??void 0);Se(Q,()=>br,(R,P)=>{P(R,{get src(){return e(D)},get alt(){return e(N).name}})})}var Y=o(Q,2);Se(Y,()=>xr,(D,R)=>{R(D,{class:"text-xl",children:(P,d)=>{_e();var c=ze();j(x=>w(c,x),[()=>(e(re)[e(N).id]?.displayName||e(N).name).slice(0,2).toUpperCase()]),a(P,c)},$$slots:{default:!0}})}),a(oe,xe)},$$slots:{default:!0}})}),a(te,le)};b(ke,te=>{e(N)&&te(F)})}t(W),t(ae),j(()=>{w($,`Season ${e(l).season??""} Complete`),w(E,`${(e(N)?e(re)[e(N).id]?.displayName||e(N).name:"—")??""} is the Champion`)}),a(U,ae)},Fr=U=>{var N=ys();ye(N,21,()=>at,we,(ae,W)=>{const S=f(()=>Ht[e(W)]),J=f(()=>e(gt)[e(W)]),k=f(()=>qt(e(W))),ie=f(()=>Nr(e(W))),$=f(()=>e(l).currentPhase===e(W)),pe=f(()=>Ur(e(W)));var E=bs(),ee=r(E);{var ve=d=>{var c=ps();a(d,c)},ke=d=>{var c=X(),x=_(c);{var g=v=>{var m=ms();a(v,m)};b(x,v=>{e(J)==="completed"&&v(g)},!0)}a(d,c)};b(ee,d=>{e($)?d(ve):d(ke,!1)})}var F=o(ee,2),te=r(F),le=r(te),se=r(le);{let d=f(()=>e(J)==="completed"?"text-accent":e($)?"animate-spin text-primary":"text-muted-foreground");Se(se,()=>e(ie),(c,x)=>{x(c,{get class(){return`h-4 w-4 ${e(d)??""}`}})})}var ge=o(se,2),K=r(ge,!0);t(ge),t(le);var oe=o(le,2),Be=r(oe,!0);t(oe),t(te);var xe=o(te,2),Q=r(xe);t(xe);var Y=o(xe,2),D=r(Y);{var R=d=>{{let c=f(()=>e(l).id),x=f(()=>ga(e(W),e(l).season)),g=f(()=>e($)?"glow-sm-primary":""),v=f(()=>e($)?"default":"outline");rt(d,{get href(){return`/league/${e(c)??""}/draft/${e(x)??""}`},size:"sm",get class(){return`w-full gap-2 ${e(g)??""}`},get variant(){return e(v)},children:(m,h)=>{var A=gs(),H=_(A);Sa(H,{class:"h-3.5 w-3.5"});var O=o(H);j(()=>w(O,` ${e(J)==="active"||e(J)==="pending"?"Continue Draft":"Enter Draft Room"}`)),a(m,A)},$$slots:{default:!0}})}},P=d=>{var c=X(),x=_(c);{var g=m=>{var h=_s();a(m,h)},v=m=>{var h=X(),A=_(h);{var H=L=>{var M=xs();a(L,M)},O=L=>{var M=hs(),de=r(M);t(M),j(ue=>w(de,`Complete ${ue??""} first`),[()=>Ht[at[at.indexOf(e(W))-1]]?.label??""]),a(L,M)};b(A,L=>{e(k)==="Skipped"?L(H):L(O,!1)},!0)}a(m,h)};b(x,m=>{e(J)==="completed"?m(g):m(v,!1)},!0)}a(d,c)};b(D,d=>{e(pe)?d(R):d(P,!1)})}t(Y),t(F),t(E),j((d,c,x)=>{vr(E,1,`relative overflow-hidden rounded-xl border transition-all ${e($)?"border-primary/40 bg-primary/[0.04]":e(J)==="completed"?"border-accent/20 bg-accent/[0.03]":e(k)==="Skipped"?"border-white/[0.04] bg-white/[0.01] opacity-50":"border-white/[0.06] bg-white/[0.02] opacity-60"}`),w(K,e(S).label),w(Be,d),w(Q,`${c??""} — ${x??""}`)},[()=>qt(e(W)),()=>e(S).releaseStart(parseInt(e(l).season)).slice(5),()=>e(S).releaseEnd(parseInt(e(l).season)).slice(5)]),a(ae,E)}),t(N),a(U,N)};b(er,U=>{e(je)&&e(Ge)?U(zr):U(Fr,!1)})}var tr=o(er,2);{var Wr=U=>{var N=Ds(),ae=_(N),W=o(r(ae),2),S=r(W),J=r(S),k=r(J);mr(k,{for:"editSeason",class:"text-muted-foreground",children:(se,ge)=>{_e();var K=ze("Season");a(se,K)},$$slots:{default:!0}});var ie=o(k,2);Ia(ie,{id:"editSeason",get value(){return e(l).season},readonly:!0,class:"w-28 bg-white/[0.03] font-mono read-only:cursor-default read-only:opacity-100"}),t(J);var $=o(J,2),pe=r($);mr(pe,{class:"text-muted-foreground",children:(se,ge)=>{_e();var K=ze("Picks per phase");a(se,K)},$$slots:{default:!0}});var E=o(pe,2),ee=r(E);t(E),t($),t(S);var ve=o(S,2);Oa(ve,{class:"opacity-30"});var ke=o(ve,2),F=r(ke),te=o(r(F),2);rt(te,{variant:"destructive",size:"sm",onclick:()=>u(ot,!0),class:"shrink-0 gap-2",children:(se,ge)=>{var K=ws(),oe=_(K);rs(oe,{class:"h-4 w-4"}),_e(),a(se,K)},$$slots:{default:!0}}),t(F),t(ke),t(W),t(ae);var le=o(ae,2);Se(le,()=>Ba,(se,ge)=>{ge(se,{get open(){return e(ot)},set open(K){u(ot,K,!0)},children:(K,oe)=>{var Be=X(),xe=_(Be);Se(xe,()=>Ua,(Q,Y)=>{Y(Q,{children:(D,R)=>{var P=Ss(),d=_(P);Se(d,()=>Za,(x,g)=>{g(x,{children:(v,m)=>{var h=$s(),A=_(h);Se(A,()=>La,(O,L)=>{L(O,{children:(M,de)=>{_e();var ue=ze("Delete league?");a(M,ue)},$$slots:{default:!0}})});var H=o(A,2);Se(H,()=>es,(O,L)=>{L(O,{children:(M,de)=>{_e();var ue=ks(),he=o(_(ue)),be=r(he,!0);t(he),_e(),j(()=>w(be,e(l)?.name)),a(M,ue)},$$slots:{default:!0}})}),a(v,h)},$$slots:{default:!0}})});var c=o(d,2);Se(c,()=>qa,(x,g)=>{g(x,{class:"gap-2",children:(v,m)=>{var h=Ps(),A=_(h);rt(A,{variant:"outline",onclick:()=>u(ot,!1),get disabled(){return e(nt)},children:(O,L)=>{_e();var M=ze("Cancel");a(O,M)},$$slots:{default:!0}});var H=o(A,2);rt(H,{variant:"destructive",onclick:Cr,get disabled(){return e(nt)},children:(O,L)=>{_e();var M=ze();j(()=>w(M,e(nt)?"Deleting...":"Delete league")),a(O,M)},$$slots:{default:!0}}),a(v,h)},$$slots:{default:!0}})}),a(D,P)},$$slots:{default:!0}})}),a(K,Be)},$$slots:{default:!0}})}),j(se=>w(ee,`${se??""} (based on 
								${e(l)?.members.length??0??""} players)`),[()=>e(l)?ma(e(l).members.length):"—"]),a(U,N)};b(tr,U=>{e(Te)&&e(Qt)&&!e(je)&&U(Wr)})}var rr=o(tr,2),Gt=r(rr),Tt=r(Gt),At=r(Tt),ar=r(At);gr(ar,{class:"h-4 w-4 text-primary"});var sr=o(ar,2),Vr=r(sr,!0);t(sr),t(At);var or=o(At,2),Jr=r(or);{var Kr=U=>{var N=Ms(),ae=r(N);Ft(ae,{class:"h-5 w-5 animate-spin text-muted-foreground"}),t(N),a(U,N)},Qr=U=>{var N=X(),ae=_(N);{var W=J=>{const k=f(()=>e(jt)),ie=f(()=>Math.max(...e(k).series.map(D=>Math.max(...D.data)),1)),$=f(()=>({top:20,right:20,bottom:30,left:45})),pe=f(()=>800),E=f(()=>280),ee=f(()=>e(pe)-e($).left-e($).right),ve=f(()=>e(E)-e($).top-e($).bottom);var ke=Is(),F=_(ke),te=r(F);C(te,"viewBox",`0 0 ${e(pe)??""} ${e(E)??""}`);var le=r(te);ye(le,16,()=>Array(5),we,(D,R,P)=>{const d=f(()=>e($).top+e(ve)*P/4);var c=js(),x=_(c),g=o(x),v=r(g,!0);t(g),j(m=>{C(x,"x1",e($).left),C(x,"y1",e(d)),C(x,"x2",e(pe)-e($).right),C(x,"y2",e(d)),C(g,"x",e($).left-8),C(g,"y",e(d)+4),w(v,m)},[()=>Math.round(e(ie)*(1-P/4))]),a(D,c)});var se=o(le);ye(se,17,()=>e(k).series,we,(D,R,P)=>{const d=f(()=>Ke[P%Ke.length]),c=f(()=>e(R).data.map((de,ue)=>{const he=e($).left+e(ee)*ue/(e(k).dates.length-1||1),be=e($).top+e(ve)-e(ve)*de/e(ie);return{x:he,y:be}})),x=f(()=>e(c).map(de=>`${de.x},${de.y}`).join(" ")),g=f(()=>e(c)[e(c).length-1]);var v=Cs(),m=_(v),h=r(m);C(h,"id",`grad-${P}`);var A=r(h),H=o(A);t(h),t(m);var O=o(m);C(O,"fill",`url(#grad-${P})`);var L=o(O),M=o(L);j(()=>{C(A,"stop-color",e(d)),C(H,"stop-color",e(d)),C(O,"points",`${e($).left??""},${e($).top+e(ve)} ${e(x)??""} ${e(c)[e(c).length-1].x??""},${e($).top+e(ve)}`),C(L,"points",e(x)),C(L,"stroke",e(d)),C(M,"cx",e(g).x),C(M,"cy",e(g).y),C(M,"fill",e(d))}),a(D,v)});var ge=o(se);ye(ge,17,()=>e(k).dates,we,(D,R,P)=>{const d=f(()=>e($).left+e(ee)*P/(e(k).dates.length-1||1));var c=Ns();j(()=>{C(c,"x",e(d)-e(ee)/(e(k).dates.length-1||1)/2),C(c,"y",e($).top),C(c,"width",e(ee)/(e(k).dates.length-1||1)),C(c,"height",e(ve))}),cr("mouseenter",c,()=>u(Ve,P,!0)),a(D,c)});var K=o(ge);{var oe=D=>{const R=f(()=>e($).left+e(ee)*e(Ve)/(e(k).dates.length-1||1));var P=Ls(),d=_(P),c=o(d);ye(c,17,()=>e(k).series,we,(x,g,v)=>{const m=f(()=>Ke[v%Ke.length]),h=f(()=>e(g).data[e(Ve)]),A=f(()=>e($).top+e(ve)-e(ve)*e(h)/e(ie));var H=Us();j(()=>{C(H,"cx",e(R)),C(H,"cy",e(A)),C(H,"fill",e(m))}),a(x,H)}),j(()=>{C(d,"x1",e(R)),C(d,"y1",e($).top),C(d,"x2",e(R)),C(d,"y2",e($).top+e(ve))}),a(D,P)};b(K,D=>{e(Ve)!==null&&D(oe)})}var Be=o(K);ye(Be,17,()=>e(k).dates,we,(D,R,P)=>{const d=f(()=>P%Math.ceil(e(k).dates.length/7)===0||P===e(k).dates.length-1);var c=X(),x=_(c);{var g=v=>{const m=f(()=>e($).left+e(ee)*P/(e(k).dates.length-1||1));var h=Bs();C(h,"y",e(E)-6);var A=r(h,!0);t(h),j(H=>{C(h,"x",e(m)),w(A,H)},[()=>Kt(e(R))]),a(v,h)};b(x,v=>{e(d)&&v(g)})}a(D,c)}),t(te),t(F);var xe=o(F,2);{var Q=D=>{var R=Ts(),P=r(R),d=r(P,!0);t(P);var c=o(P,2);ye(c,21,()=>e(k).series,we,(x,g,v)=>{var m=Gs(),h=r(m),A=o(h,2),H=r(A,!0);t(A);var O=o(A,2),L=r(O,!0);t(O),t(m),j(M=>{ur(h,`background: ${Ke[v%Ke.length]??""}`),w(H,e(g).name),w(L,M)},[()=>Math.round(e(g).data[e(Ve)])]),a(x,m)}),t(c),t(R),j(x=>w(d,x),[()=>Kt(e(k).dates[e(Ve)])]),a(D,R)};b(xe,D=>{e(Ve)!==null&&D(Q)})}var Y=o(xe,2);ye(Y,21,()=>e(k).series,we,(D,R,P)=>{var d=As(),c=r(d),x=o(c,2),g=r(x,!0);t(x),t(d),j(()=>{ur(c,`background: ${Ke[P%Ke.length]??""}`),w(g,e(R).name)}),a(D,d)}),t(Y),cr("mouseleave",te,()=>u(Ve,null)),a(J,ke)},S=J=>{var k=Es(),ie=r(k);gr(ie,{class:"h-8 w-8 opacity-30"}),_e(2),t(k),a(J,k)};b(ae,J=>{e(jt)&&e(jt).dates.length>0?J(W):J(S,!1)},!0)}a(U,N)};b(Jr,U=>{e(kt)?U(Kr):U(Qr,!1)})}t(or),t(Tt);var nr=o(Tt,2),It=r(nr),Yr=r(It,!0);t(It);var qr=o(It,2);{var Xr=U=>{var N=Os();a(U,N)},Zr=U=>{var N=X(),ae=_(N);ye(ae,17,()=>e(Mt),we,(W,S,J)=>{var k=lo(),ie=r(k);ie.__click=()=>Sr(e(S).id);var $=r(ie);$.textContent=J+1;var pe=o($,2);Se(pe,()=>hr,(Q,Y)=>{Y(Q,{class:"size-9 shrink-0",children:(D,R)=>{var P=Rs(),d=_(P);{let x=f(()=>e(re)[e(S).id]?.avatarUrl??void 0);Se(d,()=>br,(g,v)=>{v(g,{get src(){return e(x)},get alt(){return e(S).name}})})}var c=o(d,2);Se(c,()=>xr,(x,g)=>{g(x,{class:"text-xs",children:(v,m)=>{_e();var h=ze();j(A=>w(h,A),[()=>(e(re)[e(S).id]?.displayName||e(S).name).slice(0,2).toUpperCase()]),a(v,h)},$$slots:{default:!0}})}),a(D,P)},$$slots:{default:!0}})});var E=o(pe,2),ee=r(E),ve=r(ee,!0);t(ee);var ke=o(ee,2),F=r(ke,!0);t(ke),t(E);var te=o(E,2),le=r(te),se=r(le,!0);t(le);var ge=o(le,2);{var K=Q=>{Ga(Q,{class:"h-4 w-4 text-muted-foreground"})},oe=Q=>{Ta(Q,{class:"h-4 w-4 text-muted-foreground"})};b(ge,Q=>{e(De).has(e(S).id)?Q(K):Q(oe,!1)})}t(te),t(ie);var Be=o(ie,2);{var xe=Q=>{const Y=f(()=>e(S).picks?.hitPick?e(B)[e(S).picks.hitPick]:null),D=f(()=>e(S).picks?.bombPick?e(B)[e(S).picks.bombPick]:null);var R=io(),P=r(R);{var d=v=>{var m=Ys(),h=r(m);{var A=L=>{var M=Vs();M.__click=()=>xt(e(S).picks.hitPick);var de=r(M);{var ue=q=>{var ce=Hs();j(()=>{C(ce,"src",e(Y).coverUrl),C(ce,"alt",e(Y).name)}),a(q,ce)},he=q=>{var ce=zs(),Ne=r(ce),Ze=r(Ne,!0);t(Ne),t(ce),j(()=>w(Ze,e(Y).name)),a(q,ce)};b(de,q=>{e(Y).coverUrl?q(ue):q(he,!1)})}var be=o(de,2),Ae=r(be),Xe=r(Ae);Fa(Xe,{class:"h-2.5 w-2.5 text-accent"}),_e(2),t(Ae);var me=o(Ae,2);{var $e=q=>{var ce=Fs(),Ne=r(ce,!0);t(ce),j(Ze=>w(Ne,Ze),[()=>Math.round(e(Y).score)]),a(q,ce)},Ce=q=>{var ce=X(),Ne=_(ce);{var Ze=ht=>{var Et=Ws();a(ht,Et)};b(Ne,ht=>{e(je)&&ht(Ze)},!0)}a(q,ce)};b(me,q=>{!e(je)&&e(Y).score!=null?q($e):q(Ce,!1)})}t(be),t(M),a(L,M)};b(h,L=>{e(Y)&&L(A)})}var H=o(h,2);{var O=L=>{var M=Qs();M.__click=()=>xt(e(S).picks.bombPick);var de=r(M);{var ue=me=>{var $e=Js();j(()=>{C($e,"src",e(D).coverUrl),C($e,"alt",e(D).name)}),a(me,$e)},he=me=>{var $e=Ks(),Ce=r($e),q=r(Ce,!0);t(Ce),t($e),j(()=>w(q,e(D).name)),a(me,$e)};b(de,me=>{e(D).coverUrl?me(ue):me(he,!1)})}var be=o(de,2),Ae=r(be),Xe=r(Ae);Wa(Xe,{class:"h-2.5 w-2.5 text-destructive"}),_e(2),t(Ae),t(be),t(M),a(L,M)};b(H,L=>{e(D)&&L(O)})}t(m),a(v,m)};b(P,v=>{(e(Y)||e(D))&&v(d)})}var c=o(P,2);ye(c,17,()=>at,we,(v,m)=>{const h=f(()=>e(m)==="winter"?"winterPicks":e(m)==="summer"?"summerPicks":"fallPicks"),A=f(()=>e(S).picks?.[e(h)]??[]);var H=X(),O=_(H);{var L=M=>{var de=ro(),ue=r(de),he=r(ue,!0);t(ue);var be=o(ue,2);ye(be,21,()=>e(A),we,(Ae,Xe)=>{const me=f(()=>e(B)[e(Xe)]);var $e=X(),Ce=_($e);{var q=ce=>{var Ne=to();Ne.__click=()=>xt(e(Xe));var Ze=r(Ne);{var ht=Ue=>{var Pe=qs();j(()=>{C(Pe,"src",e(me).coverUrl),C(Pe,"alt",e(me).name)}),a(Ue,Pe)},Et=Ue=>{var Pe=Xs(),vt=r(Pe),bt=r(vt,!0);t(vt),t(Pe),j(()=>w(bt,e(me).name)),a(Ue,Pe)};b(Ze,Ue=>{e(me).coverUrl?Ue(ht):Ue(Et,!1)})}var lr=o(Ze,2),dr=r(lr);Ja(dr,{class:"h-2.5 w-2.5 text-sky-400"});var aa=o(dr,2);{var sa=Ue=>{var Pe=Zs(),vt=r(Pe,!0);t(Pe),j(bt=>w(vt,bt),[()=>Math.round(e(me).score)]),a(Ue,Pe)},oa=Ue=>{var Pe=X(),vt=_(Pe);{var bt=Ot=>{var na=eo();a(Ot,na)};b(vt,Ot=>{e(je)&&Ot(bt)},!0)}a(Ue,Pe)};b(aa,Ue=>{!e(je)&&e(me).score!=null?Ue(sa):Ue(oa,!1)})}t(lr),t(Ne),a(ce,Ne)};b(Ce,ce=>{e(me)&&ce(q)})}a(Ae,$e)}),t(be),t(de),j(()=>w(he,Ht[e(m)].label)),a(M,de)};b(O,M=>{e(A).length>0&&M(L)})}a(v,H)});var x=o(c,2);{var g=v=>{var m=no(),h=o(r(m),2);ye(h,21,()=>e(S).picks?.altPicks??[],we,(A,H)=>{const O=f(()=>e(B)[e(H)]);var L=X(),M=_(L);{var de=ue=>{var he=oo();he.__click=()=>xt(e(H));var be=r(he);{var Ae=Ce=>{var q=ao();j(()=>{C(q,"src",e(O).coverUrl),C(q,"alt",e(O).name)}),a(Ce,q)},Xe=Ce=>{var q=so(),ce=r(q),Ne=r(ce,!0);t(ce),t(q),j(()=>w(Ne,e(O).name)),a(Ce,q)};b(be,Ce=>{e(O).coverUrl?Ce(Ae):Ce(Xe,!1)})}var me=o(be,2),$e=r(me);Va($e,{class:"h-2.5 w-2.5 text-purple-400"}),t(me),t(he),a(ue,he)};b(M,ue=>{e(O)&&ue(de)})}a(A,L)}),t(h),t(m),a(v,m)};b(x,v=>{(e(S).picks?.altPicks??[]).length>0&&v(g)})}t(R),a(Q,R)};b(Be,Q=>{e(De).has(e(S).id)&&Q(xe)})}t(k),j((Q,Y)=>{vr($,1,`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-xs font-bold ${Q??""}`),w(ve,e(re)[e(S).id]?.displayName||e(S).name),w(F,e(S).name),w(se,Y)},[()=>Lr(J),()=>Math.round(Jt(e(S)))]),a(W,k)}),a(U,N)};b(qr,U=>{e(z).length===0?U(Xr):U(Zr,!1)})}t(nr),t(Gt);var ir=o(Gt,2),ea=r(ir);{var ta=U=>{var N=co(),ae=o(_(N),2),W=r(ae),S=r(W),J=r(S);t(S);var k=o(S,2),ie=r(k);t(k),t(W),t(ae),j($=>{w(J,`${e(z).length??""} players competed in Season ${e(l).season??""}.`),w(ie,`${$??""} games drafted`)},[()=>e(z).reduce(($,pe)=>{const E=pe.picks,ee=(E?.hitPick?1:0)+(E?.bombPick?1:0)+(E?.winterPicks?.length??0)+(E?.summerPicks?.length??0)+(E?.fallPicks?.length??0)+(E?.altPicks?.length??0);return $+ee},0)]),a(U,N)},ra=U=>{var N=ho(),ae=o(_(N),2),W=r(ae);Aa(W,{class:"h-[calc(100vh-14rem)]",children:(S,J)=>{var k=xo(),ie=r(k);{var $=E=>{var ee=vo();a(E,ee)},pe=E=>{var ee=X(),ve=_(ee);ye(ve,17,()=>e(it),we,(ke,F)=>{const te=f(()=>e(z).filter(K=>{const oe=K.picks;return oe?.hitPick===e(F).id||oe?.bombPick===e(F).id||oe?.winterPicks?.includes(e(F).id)||oe?.summerPicks?.includes(e(F).id)||oe?.fallPicks?.includes(e(F).id)||oe?.altPicks?.includes(e(F).id)}));var le=X(),se=_(le);{var ge=K=>{var oe=_o();oe.__click=()=>xt(e(F).id);var Be=r(oe);{var xe=g=>{var v=uo();j(()=>{C(v,"src",e(F).coverUrl),C(v,"alt",e(F).name)}),a(g,v)},Q=g=>{var v=fo();a(g,v)};b(Be,g=>{e(F).coverUrl?g(xe):g(Q,!1)})}var Y=o(Be,2),D=r(Y),R=r(D,!0);t(D);var P=o(D,2),d=r(P);{var c=g=>{const v=f(()=>Dr(e(F).releaseDate));var m=mo(),h=_(m),A=r(h,!0);t(h);var H=o(h,2);{var O=L=>{var M=po(),de=r(M,!0);t(M),j(()=>w(de,e(v))),a(L,M)};b(H,L=>{e(v)&&e(v)!=="Released"&&L(O)})}j(L=>w(A,L),[()=>new Date(e(F).releaseDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),a(g,m)};b(d,g=>{e(F).releaseDate&&g(c)})}t(P);var x=o(P,2);ye(x,21,()=>e(te),we,(g,v)=>{var m=go(),h=r(m,!0);t(m),j(()=>w(h,e(re)[e(v).id]?.displayName||e(v).name)),a(g,m)}),t(x),t(Y),t(oe),j(()=>w(R,e(F).name)),a(K,oe)};b(se,K=>{e(te).length>0&&K(ge)})}a(ke,le)}),a(E,ee)};b(ie,E=>{e(it).length===0?E($):E(pe,!1)})}t(k),a(S,k)},$$slots:{default:!0}}),t(ae),a(U,N)};b(ea,U=>{e(je)?U(ta):U(ra,!1)})}t(ir),t(rr),j(()=>{w(Ut,e(l).name),w(Or,`Season ${e(l).season??""}`),w(Rr,e(l).code),w(Vr,e(je)?"Season score progression":"Score History"),w(Yr,e(je)?"Final Standings":"Standings")}),a(Oe,Ye)};b(lt,Oe=>{e(l)?Oe(Pt,!1):Oe(Nt)},!0)}a(V,Qe)};b(T,V=>{e(dt)?V(y):V(I,!1)},!0)}a(s,i)};b(Br,s=>{e(G)?s(Gr):s(Tr,!1)})}t(Ct);var Ar=o(Ct,2);{let s=f(()=>e(Le)!=null&&!e($t)&&e(mt)==null),i=f(()=>e(Le)!=null&&e(Je).has(e(Le)));ja(Ar,{get open(){return e(St)},onOpenChange:T=>!T&&$r(),get game(){return e(mt)},get loading(){return e($t)},get showNotFound(){return e(s)},get isBookmarked(){return e(i)},onToggleBookmark:Pr})}a(fe,Xt),Ee()}ca(["click"]);export{qo as component};
