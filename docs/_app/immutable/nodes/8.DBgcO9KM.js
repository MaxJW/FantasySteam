import{a,f as v,c as C,t as be}from"../chunks/C-txDrIU.js";import{a3 as kr,E as Pr,bk as Sr,aj as Tr,e as nr,j as Nr,bl as Mr,bm as Br,bn as Ir,a9 as Ar,D as Gr,q as ne,aL as ir,p as $e,c as u,r as d,a as ye,f as _,b as T,v as ft,u as De,s as l,g as e,P as Te,$ as Er,d as f,n as ae,t as Y,T as Lr}from"../chunks/B3kg7STf.js";import{j as Cr,d as Fr,s as U}from"../chunks/eHwK_pec.js";import{p as tt,r as Me,s as Pt,i as G}from"../chunks/BLFEfHvi.js";import{a as rt,c as at,I as St,b as Ke,i as Qe,d as bt,s as Kt,f as Qt}from"../chunks/C2sax5ki.js";import{c as N}from"../chunks/WTJoWbb0.js";import{h as Or,B as mt}from"../chunks/D0K52Ymi.js";import{b as Ne}from"../chunks/TCx7b1jQ.js";import{i as Rr,P as xt,D as Hr}from"../chunks/CzOqzXZD.js";import{g as zr}from"../chunks/V1ThnXvC.js";import{e as Wt,b as jr,c as Jt,f as Dr,a as Yr}from"../chunks/DOiIeLCc.js";import{g as qr,G as Ur,r as Zr,c as Vr,C as Xt,B as er}from"../chunks/WNVAp9EX.js";import{S as Kr,b as wt,c as $t,d as ht,a as yt,T as Qr,L as Wr,e as Jr,C as tr}from"../chunks/D-Ag-hz1.js";import{s as Be}from"../chunks/1uktLeRY.js";import{I as Xr}from"../chunks/CEbPfyDv.js";import{C as ea}from"../chunks/BYQy1JrB.js";import{S as ta}from"../chunks/DeZ0sK82.js";const ra=()=>performance.now(),Ge={tick:n=>requestAnimationFrame(n),now:()=>ra(),tasks:new Set};function dr(){const n=Ge.now();Ge.tasks.forEach(t=>{t.c(n)||(Ge.tasks.delete(t),t.f())}),Ge.tasks.size!==0&&Ge.tick(dr)}function aa(n){let t;return Ge.tasks.size===0&&Ge.tick(dr),{promise:new Promise(c=>{Ge.tasks.add(t={c:n,f:c})}),abort(){Ge.tasks.delete(t)}}}function kt(n,t){ir(()=>{n.dispatchEvent(new CustomEvent(t))})}function sa(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const t=n.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(c=>c[0].toUpperCase()+c.slice(1)).join("")}function rr(n){const t={},c=n.split(";");for(const m of c){const[s,h]=m.split(":");if(!s||h===void 0)break;const i=sa(s.trim());t[i]=h.trim()}return t}const oa=n=>n;function ar(n,t,c,m){var s=(n&Br)!==0,h=(n&Ir)!==0,i=s&&h,E=(n&Mr)!==0,se=i?"both":s?"in":"out",w,z=t.inert,ke=t.style.overflow,j,Z;function V(){return ir(()=>w??=c()(t,m?.()??{},{direction:se}))}var k={is_global:E,in(){if(t.inert=z,!s){Z?.abort(),Z?.reset?.();return}h||j?.abort(),j=zt(t,V(),Z,1,()=>{kt(t,"introend"),j?.abort(),j=w=void 0,t.style.overflow=ke})},out(ie){if(!h){ie?.(),w=void 0;return}t.inert=!0,Z=zt(t,V(),j,0,()=>{kt(t,"outroend"),ie?.()})},stop:()=>{j?.abort(),Z?.abort()}},M=kr;if((M.nodes.t??=[]).push(k),s&&Cr){var J=E;if(!J){for(var K=M.parent;K&&(K.f&Pr)!==0;)for(;(K=K.parent)&&(K.f&Sr)===0;);J=!K||(K.f&Tr)!==0}J&&nr(()=>{Nr(()=>k.in())})}}function zt(n,t,c,m,s){var h=m===1;if(Ar(t)){var i,E=!1;return Gr(()=>{if(!E){var M=t({direction:h?"in":"out"});i=zt(n,M,c,m,s)}}),{abort:()=>{E=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(c?.deactivate(),!t?.duration&&!t?.delay)return kt(n,h?"introstart":"outrostart"),s(),{abort:ne,deactivate:ne,reset:ne,t:()=>m};const{delay:se=0,css:w,tick:z,easing:ke=oa}=t;var j=[];if(h&&c===void 0&&(z&&z(0,1),w)){var Z=rr(w(0,1));j.push(Z,Z)}var V=()=>1-m,k=n.animate(j,{duration:se,fill:"forwards"});return k.onfinish=()=>{k.cancel(),kt(n,h?"introstart":"outrostart");var M=c?.t()??1-m;c?.abort();var J=m-M,K=t.duration*Math.abs(J),ie=[];if(K>0){var Ee=!1;if(w)for(var Le=Math.ceil(K/16.666666666666668),xe=0;xe<=Le;xe+=1){var st=M+J*ke(xe/Le),We=rr(w(st,1-st));ie.push(We),Ee||=We.overflow==="hidden"}Ee&&(n.style.overflow="hidden"),V=()=>{var X=k.currentTime;return M+J*ke(X/K)},z&&aa(()=>{if(k.playState!=="running")return!1;var X=V();return z(X,1-X),!0})}k=n.animate(ie,{duration:K,fill:"forwards"}),k.onfinish=()=>{V=()=>m,z?.(m,1-m),s()}},{abort:()=>{k&&(k.cancel(),k.effect=null,k.onfinish=ne)},deactivate:()=>{s=ne},reset:()=>{m===0&&z?.(1,0)},t:()=>V()}}function la(n){const t=n-1;return t*t*t+1}function sr(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}function or(n,{delay:t=0,duration:c=400,easing:m=la,x:s=0,y:h=0,opacity:i=0}={}){const E=getComputedStyle(n),se=+E.opacity,w=E.transform==="none"?"":E.transform,z=se*(1-i),[ke,j]=sr(s),[Z,V]=sr(h);return{delay:t,duration:c,easing:m,css:(k,M)=>`
			transform: ${w} translate(${(1-k)*ke}${j}, ${(1-k)*Z}${V});
			opacity: ${se-z*M}`}}var na=v('<div data-slot="table-container" class="relative w-full overflow-x-auto"><table><!></table></div>');function ia(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=na(),h=u(s);rt(h,E=>({"data-slot":"table",class:E,...m}),[()=>at("w-full caption-bottom text-sm",t.class)]);var i=u(h);Be(i,()=>t.children??ne),d(h),Ne(h,E=>c(E),()=>c()),d(s),a(n,s),ye()}var da=v("<tbody><!></tbody>");function ca(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=da();rt(s,i=>({"data-slot":"table-body",class:i,...m}),[()=>at("[&_tr:last-child]:border-0",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var ua=v("<td><!></td>");function Ct(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=ua();rt(s,i=>({"data-slot":"table-cell",class:i,...m}),[()=>at("bg-clip-padding p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var va=v("<th><!></th>");function Ft(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=va();rt(s,i=>({"data-slot":"table-head",class:i,...m}),[()=>at("h-10 bg-clip-padding px-2 text-start align-middle font-medium whitespace-nowrap text-foreground [&:has([role=checkbox])]:pe-0",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var fa=v("<thead><!></thead>");function ma(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=fa();rt(s,i=>({"data-slot":"table-header",class:i,...m}),[()=>at("[&_tr]:border-b",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}var ha=v("<tr><!></tr>");function lr(n,t){$e(t,!0);let c=tt(t,"ref",15,null),m=Me(t,["$$slots","$$events","$$legacy","ref","class","children"]);var s=ha();rt(s,i=>({"data-slot":"table-row",class:i,...m}),[()=>at("border-b transition-colors data-[state=selected]:bg-muted hover:[&,&>svelte-css-wrapper]:[&>th,td]:bg-muted/50",t.class)]);var h=u(s);Be(h,()=>t.children??ne),d(s),Ne(s,i=>c(i),()=>c()),a(n,s),ye()}function Ot(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];St(n,Pt({name:"arrow-up"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=C(),E=_(i);Be(E,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}function Rt(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];St(n,Pt({name:"arrow-down"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=C(),E=_(i);Be(E,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}function Ht(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"m21 16-4 4-4-4"}],["path",{d:"M17 20V4"}],["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}]];St(n,Pt({name:"arrow-up-down"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=C(),E=_(i);Be(E,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}function ga(n,t){$e(t,!0);let c=Me(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"M10 5H3"}],["path",{d:"M12 19H3"}],["path",{d:"M14 3v4"}],["path",{d:"M16 17v4"}],["path",{d:"M21 12h-9"}],["path",{d:"M21 19h-5"}],["path",{d:"M21 5h-7"}],["path",{d:"M8 10v4"}],["path",{d:"M8 12H3"}]];St(n,Pt({name:"sliders-horizontal"},()=>c,{get iconNode(){return m},children:(s,h)=>{var i=C(),E=_(i);Be(E,()=>t.children??ne),a(s,i)},$$slots:{default:!0}})),ye()}var _a=v("<!> <span>Show filters</span>",1),pa=v('<div class="glass flex items-center rounded-xl px-3 py-2 transition-all duration-200 ease-out"><!></div>'),ba=v("<!> <span>Hide filters</span>",1),xa=v("<!> <!>",1),wa=v("<!> <!>",1),$a=v("<!> <!>",1),ya=v("<!> <!>",1),ka=v("<!> <!>",1),Pa=v('<span class="shrink-0 text-xs text-muted-foreground"> </span>'),Sa=v('<div class="glass flex flex-col gap-4 rounded-xl p-4 transition-all duration-200 ease-out sm:p-3"><!> <div class="relative w-full min-w-0"><!> <!></div> <div class="flex flex-col gap-4 sm:flex-row sm:flex-wrap sm:items-center sm:gap-3"><div class="grid w-full grid-cols-2 gap-3 sm:flex sm:w-auto sm:grid-cols-none sm:flex-wrap sm:items-center"><div class="flex min-w-0 items-center gap-2"><!> <!></div> <div class="flex min-w-0 items-center gap-2"><!> <!></div></div> <div class="flex w-full min-w-0 items-center gap-2 sm:w-auto sm:flex-initial"><!> <!></div> <div class="flex w-full flex-wrap items-center gap-3 sm:w-auto sm:flex-initial"><button type="button" role="checkbox" aria-label="Hide released" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/[0.08] bg-white/[0.04] px-3 transition-colors hover:bg-white/[0.06]"><span><!></span> <span class="text-sm whitespace-nowrap text-foreground">Hide released</span></button> <button type="button" role="checkbox" aria-label="Bookmarked only" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/[0.08] bg-white/[0.04] px-3 transition-colors hover:bg-white/[0.06]"><span><!></span> <span class="text-sm whitespace-nowrap text-foreground">Bookmarked only</span></button></div> <div class="flex w-full flex-wrap items-center gap-3 sm:ml-auto sm:w-auto"><div class="flex min-w-0 flex-1 items-center gap-2 sm:flex-initial"><!></div> <div class="flex shrink-0 items-center gap-0.5 rounded-lg border border-white/[0.08] bg-white/[0.04] p-0.5"><!> <!></div> <!></div></div></div>'),Ta=v('<div class="aspect-[2/3] animate-fade-in-up rounded-lg bg-white/[0.04]"></div>'),Na=v('<div class="grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),Ma=v('<div class="glass flex flex-col items-center justify-center gap-4 rounded-xl py-12 text-center"><p class="text-sm text-destructive"> </p> <!></div>'),Ba=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No game lists available.</div>'),Ia=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">Select a year to browse games.</div>'),Aa=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground"> </div>'),Ga=v('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Date <!></button>'),Ea=v('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-left text-xs hover:text-foreground">Game Name <!></button>'),La=v('<button type="button" class="ml-auto flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Score <!></button>'),Ca=v("<!> <!> <!>",1),Fa=v('<span class="flex items-center gap-2"><!> <span class="truncate"> </span></span>'),Oa=v("<!> <!> <!>",1),Ra=v("<!> <!>",1),Ha=v('<div class="max-w-full overflow-x-auto rounded-xl border border-white/[0.06]"><!></div>'),za=v('<img alt="" class="absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]" loading="lazy" width="264" height="396"/>'),ja=v('<div class="flex h-full w-full items-center justify-center p-3 text-center text-sm text-muted-foreground"> </div>'),Da=v('<div class="absolute top-2 right-2 rounded-full bg-black/60 p-1" aria-hidden="true"><!></div>'),Ya=v('<span class="mt-0.5 font-mono text-[10px] text-white/80"> </span>'),qa=v('<button type="button" class="group relative aspect-[2/3] w-full animate-fade-in-up cursor-pointer overflow-hidden rounded-lg border border-white/6 bg-white/3 text-left transition-all hover:border-white/15 hover:shadow-lg hover:shadow-primary/5 focus:ring-2 focus:ring-ring focus:outline-none"><!> <!> <div class="absolute inset-x-0 bottom-0 flex min-h-[50%] flex-col justify-end bg-linear-to-t from-black/90 via-black/40 to-transparent p-3 opacity-100 transition-opacity duration-200 sm:opacity-0 sm:group-hover:opacity-100"><span class="line-clamp-2 text-sm font-medium text-white"> </span> <span class="mt-0.5 text-[10px] text-white/70"> </span> <!></div></button>'),Ua=v('<div class="grid grid-cols-2 gap-2 min-[400px]:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),Za=v('<div class="py-3 text-center text-xs text-muted-foreground">Loading more…</div>'),Va=v('<div class="py-2 text-center text-[10px] text-muted-foreground"> </div>'),Ka=v('<div class="h-4 w-full" role="presentation"></div> <!>',1),Qa=v('<button type="button" aria-label="Back to top" class="glass fixed right-6 bottom-24 z-30 flex size-12 cursor-pointer items-center justify-center rounded-full shadow-lg transition-transform duration-200 hover:scale-105 md:bottom-6"><!></button>'),Wa=v('<div><h1 class="pb-2 text-3xl font-bold tracking-tight">Browse Games</h1> <div class="sticky top-14 z-30 -mx-4 px-4 pt-3 pb-6 md:top-16"><!></div> <div class="h-px w-full" aria-hidden="true"></div> <!> <!> <!></div> <!>',1);function hs(n,t){$e(t,!0);const c=24,m=[{value:"date-asc",label:"Date (oldest first)"},{value:"date-desc",label:"Date (newest first)"},{value:"name-asc",label:"Name (A–Z)"},{value:"name-desc",label:"Name (Z–A)"},{value:"score-asc",label:"Score (low–high)"},{value:"score-desc",label:"Score (high–low)"}];let s=T("date-asc"),h=Te(()=>e(s).split("-")[0]),i=Te(()=>e(s).split("-")[1]),E=Te(()=>m.find(r=>r.value===e(s))?.label??e(s)),se=T(ft([])),w=T(""),z=T(""),ke=T(ft([])),j=T(ft([])),Z=T(!1),V=T(!1),k=T(ft(new Set)),M=T(ft([])),J=T(0),K=T(!0),ie=T(!1),Ee=T(!1),Le=T("grid"),xe=T(""),st=T(""),We=T(!1),X=T(null),ot=T(null),gt=T(!1),Tt=T(void 0),Ce=T(null),Nt=T(!1),Mt=T(void 0),_t=T(void 0),pt=T(void 0),jt=T(0);const lt=Te(zr);function cr(){const r=window.scrollY,o=performance.now(),$=Math.min(800,Math.max(400,r*.2));function Q(I){return I<.5?4*I*I*I:1-Math.pow(-2*I+2,3)/2}function ge(I){const F=I-o,ee=Math.min(1,F/$),we=Q(ee);window.scrollTo(0,r*(1-we)),ee<1&&requestAnimationFrame(ge)}requestAnimationFrame(ge)}async function Dt(r){const o=r?e(_t)?.offsetHeight??0:e(pt)?.offsetHeight??0;l(Nt,r,!0),await Lr();const $=r?e(pt)?.offsetHeight??0:e(_t)?.offsetHeight??0;window.scrollBy(0,$-o)}async function ur(){l(Ce,null),Dr(),l(K,!0),l(ie,!0);try{const r=await Wt();l(se,r.map(String),!0),!e(w)&&e(se).length>0&&l(w,e(se)[0],!0),e(w)&&await nt()}catch(r){l(Ce,r instanceof Error?r.message:"Load failed",!0)}finally{l(K,!1),l(ie,!1)}}async function Bt(r){l(X,r,!0),l(We,!0),l(ot,null),l(gt,!0);try{const o=await Yr(r);l(ot,o?{...o,id:r}:null,!0)}finally{l(gt,!1)}}function vr(){l(We,!1),l(X,null),l(ot,null)}async function fr(){if(!e(lt)||!e(X)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(lt)),console.log("selectedGameId",e(X));return}e(k).has(e(X))?(await Zr(e(lt).uid,e(X)),l(k,new Set([...e(k)].filter(o=>o!==e(X))),!0)):(await Vr(e(lt).uid,e(X)),l(k,new Set([...e(k),e(X)]),!0)),e(V)&&nt()}De(()=>{l(Ce,null),Wt().then(r=>{l(se,r.map(String),!0),l(K,!1),!e(w)&&e(se).length>0&&l(w,e(se)[0],!0)}).catch(r=>{l(Ce,r instanceof Error?r.message:"Load failed",!0),l(K,!1)})}),De(()=>{const r=e(w)?parseInt(e(w),10):0;if(!r||Number.isNaN(r)){l(ke,[],!0);return}jr(r).then(o=>l(ke,o,!0))}),De(()=>{const r=e(lt);if(!r){l(k,new Set,!0);return}qr(r.uid).then(o=>l(k,o,!0))});function Yt(r){const o={sortBy:e(h),order:e(i),search:e(xe).trim()||void 0,hideReleased:e(Z)||void 0,genres:e(j).length?e(j):void 0};if(e(z)){const{start:$,end:Q}=Rr(e(z),r);o.releaseFrom=$,o.releaseTo=Q}return e(V)&&(o.bookmarkedOnly=!0,o.bookmarkedIds=e(k)),o}async function nt(){const r=e(w)?parseInt(e(w),10):0;if(!(!r||Number.isNaN(r))){l(ie,!0),l(M,[],!0),l(J,0);try{const{games:o,total:$}=await Jt(r,c,0,Yt(r));l(M,o,!0),l(J,$,!0),l(Ce,null)}catch(o){l(Ce,o instanceof Error?o.message:"Load failed",!0)}finally{l(ie,!1)}}}async function mr(){const r=e(w)?parseInt(e(w),10):0;if(!(!r||Number.isNaN(r)||e(Ee)||e(ie))&&!(e(M).length>=e(J))){l(Ee,!0);try{const{games:o,total:$}=await Jt(r,c,e(M).length,Yt(r));l(M,[...e(M),...o],!0),l(J,$,!0)}finally{l(Ee,!1)}}}function It(r){e(h)===r?l(s,e(i)==="asc"?`${r}-desc`:`${r}-asc`,!0):l(s,`${r}-asc`),nt()}De(()=>{e(s),e(z),e(Z),e(j),e(V),e(w)&&nt()}),De(()=>{if(e(xe)===e(st))return;const r=e(xe),o=setTimeout(()=>{l(st,r,!0),e(w)&&nt()},300);return()=>clearTimeout(o)}),De(()=>{const r=e(Tt);if(!r)return;const o=new IntersectionObserver($=>{const[Q]=$;Q?.isIntersecting&&e(M).length>0&&e(M).length<e(J)&&!e(Ee)&&!e(ie)&&mr()},{rootMargin:"200px 0px 0px 0px",threshold:0});return o.observe(r),()=>o.disconnect()}),De(()=>{const r=e(Mt);if(!r)return;const o=new IntersectionObserver(([$])=>{$&&l(Nt,!$.isIntersecting)},{threshold:0,rootMargin:"-60px 0px 0px 0px"});return o.observe(r),()=>o.disconnect()}),De(()=>{const r=()=>l(jt,window.scrollY,!0);return window.addEventListener("scroll",r,{passive:!0}),r(),()=>window.removeEventListener("scroll",r)});var qt=Wa();Or("6rw1dw",r=>{nr(()=>{Er.title="Browse Games"})});var At=_(qt),Gt=f(u(At),2),hr=u(Gt);{var gr=r=>{var o=pa(),$=u(o);mt($,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-foreground hover:bg-white/[0.06]",onclick:()=>Dt(!1),"aria-label":"Show filters",children:(Q,ge)=>{var I=_a(),F=_(I);ga(F,{class:"h-4 w-4"}),ae(2),a(Q,I)},$$slots:{default:!0}}),d(o),Ne(o,Q=>l(pt,Q),()=>e(pt)),a(r,o)},_r=r=>{var o=Sa(),$=u(o);mt($,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-muted-foreground hover:bg-white/[0.06] hover:text-foreground",onclick:()=>Dt(!0),"aria-label":"Hide filters",children:(p,O)=>{var y=ba(),fe=_(y);Xt(fe,{class:"h-4 w-4"}),ae(2),a(p,y)},$$slots:{default:!0}});var Q=f($,2),ge=u(Q);Kr(ge,{class:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"});var I=f(ge,2);Xr(I,{placeholder:"Search games...",class:"border-white/[0.08] bg-white/[0.04] pl-9",get value(){return e(xe)},set value(p){l(xe,p,!0)}}),d(Q);var F=f(Q,2),ee=u(F),we=u(ee),Fe=u(we);ea(Fe,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var de=f(Fe,2);N(de,()=>yt,(p,O)=>{O(p,{type:"single",get value(){return e(w)},set value(y){l(w,y,!0)},children:(y,fe)=>{var oe=xa(),R=_(oe);N(R,()=>wt,(H,P)=>{P(H,{class:"min-w-0 flex-1 border-white/[0.08] bg-white/[0.04] sm:w-[120px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(w)||"Year")),a(g,b)},$$slots:{default:!0}})});var me=f(R,2);N(me,()=>$t,(H,P)=>{P(H,{children:(g,B)=>{var b=C(),le=_(b);Ke(le,17,()=>e(se),Qe,(ce,W)=>{var L=C(),q=_(L);{let te=Te(()=>String(e(W))),ue=Te(()=>String(e(W)));N(q,()=>ht,(S,re)=>{re(S,{get value(){return e(te)},get label(){return e(ue)},children:(D,pe)=>{ae();var x=be();Y(()=>U(x,e(W))),a(D,x)},$$slots:{default:!0}})})}a(ce,L)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(we);var _e=f(we,2),Oe=u(_e);ta(Oe,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var Et=f(Oe,2);N(Et,()=>yt,(p,O)=>{O(p,{type:"single",get value(){return e(z)},set value(y){l(z,y,!0)},children:(y,fe)=>{var oe=$a(),R=_(oe);N(R,()=>wt,(H,P)=>{P(H,{class:"min-w-0 flex-1 border-white/[0.08] bg-white/[0.04] sm:w-[130px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(z)?xt[e(z)].label:"All seasons")),a(g,b)},$$slots:{default:!0}})});var me=f(R,2);N(me,()=>$t,(H,P)=>{P(H,{children:(g,B)=>{var b=wa(),le=_(b);N(le,()=>ht,(W,L)=>{L(W,{value:"",label:"All seasons",children:(q,te)=>{ae();var ue=be("All seasons");a(q,ue)},$$slots:{default:!0}})});var ce=f(le,2);Ke(ce,17,()=>Hr,Qe,(W,L)=>{var q=C(),te=_(q);N(te,()=>ht,(ue,S)=>{S(ue,{get value(){return e(L)},get label(){return xt[e(L)].label},children:(re,D)=>{ae();var pe=be();Y(()=>U(pe,xt[e(L)].label)),a(re,pe)},$$slots:{default:!0}})}),a(W,q)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(_e),d(ee);var it=f(ee,2),Ie=u(it);Qr(Ie,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var Je=f(Ie,2);N(Je,()=>yt,(p,O)=>{O(p,{type:"multiple",get value(){return e(j)},set value(y){l(j,y,!0)},children:(y,fe)=>{var oe=ya(),R=_(oe);N(R,()=>wt,(H,P)=>{P(H,{class:"min-w-0 flex-1 border-white/[0.08] bg-white/[0.04] sm:max-w-[180px] sm:min-w-[140px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(j).length>1?`${e(j).length} genres`:e(j)[0]??"Genre")),a(g,b)},$$slots:{default:!0}})});var me=f(R,2);N(me,()=>$t,(H,P)=>{P(H,{children:(g,B)=>{var b=C(),le=_(b);Ke(le,17,()=>e(ke),Qe,(ce,W)=>{var L=C(),q=_(L);N(q,()=>ht,(te,ue)=>{ue(te,{get value(){return e(W)},get label(){return e(W)},children:(S,re)=>{ae();var D=be();Y(()=>U(D,e(W))),a(S,D)},$$slots:{default:!0}})}),a(ce,L)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(it);var dt=f(it,2),Ye=u(dt);Ye.__click=()=>l(Z,!e(Z));var ct=u(Ye),Re=u(ct);{var He=p=>{tr(p,{class:"h-2.5 w-2.5"})};G(Re,p=>{e(Z)&&p(He)})}d(ct),ae(2),d(Ye);var ze=f(Ye,2);ze.__click=()=>l(V,!e(V));var ut=u(ze),Lt=u(ut);{var je=p=>{tr(p,{class:"h-2.5 w-2.5"})};G(Lt,p=>{e(V)&&p(je)})}d(ut),ae(2),d(ze),d(dt);var Pe=f(dt,2),qe=u(Pe),ve=u(qe);N(ve,()=>yt,(p,O)=>{O(p,{type:"single",get value(){return e(s)},set value(y){l(s,y,!0)},children:(y,fe)=>{var oe=ka(),R=_(oe);N(R,()=>wt,(H,P)=>{P(H,{class:"min-w-0 flex-1 border-white/[0.08] bg-white/[0.04] sm:w-[170px] sm:flex-initial",children:(g,B)=>{ae();var b=be();Y(()=>U(b,e(E))),a(g,b)},$$slots:{default:!0}})});var me=f(R,2);N(me,()=>$t,(H,P)=>{P(H,{children:(g,B)=>{var b=C(),le=_(b);Ke(le,17,()=>m,Qe,(ce,W)=>{var L=C(),q=_(L);N(q,()=>ht,(te,ue)=>{ue(te,{get value(){return e(W).value},get label(){return e(W).label},children:(S,re)=>{ae();var D=be();Y(()=>U(D,e(W).label)),a(S,D)},$$slots:{default:!0}})}),a(ce,L)}),a(g,b)},$$slots:{default:!0}})}),a(y,oe)},$$slots:{default:!0}})}),d(qe);var Ue=f(qe,2),Se=u(Ue);{let p=Te(()=>e(Le)==="table"?"secondary":"ghost");mt(Se,{get variant(){return e(p)},size:"icon",class:"h-7 w-7",onclick:()=>l(Le,"table"),"aria-label":"Table view",children:(O,y)=>{Wr(O,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}var vt=f(Se,2);{let p=Te(()=>e(Le)==="grid"?"secondary":"ghost");mt(vt,{get variant(){return e(p)},size:"icon",class:"h-7 w-7",onclick:()=>l(Le,"grid"),"aria-label":"Grid view",children:(O,y)=>{Jr(O,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}d(Ue);var Xe=f(Ue,2);{var et=p=>{var O=Pa(),y=u(O);d(O),Y(()=>U(y,`${e(J)??""} games`)),a(p,O)};G(Xe,p=>{e(J)>0&&!e(ie)&&p(et)})}d(Pe),d(F),d(o),Ne(o,p=>l(_t,p),()=>e(_t)),Y(()=>{bt(Ye,"aria-checked",e(Z)),Kt(ct,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/[0.08] bg-white/[0.04] transition-colors ${e(Z)?"border-primary bg-primary text-primary-foreground":""}`),bt(ze,"aria-checked",e(V)),Kt(ut,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/[0.08] bg-white/[0.04] transition-colors ${e(V)?"border-primary bg-primary text-primary-foreground":""}`)}),a(r,o)};G(hr,r=>{e(Nt)?r(gr):r(_r,!1)})}d(Gt);var Ut=f(Gt,2);Ne(Ut,r=>l(Mt,r),()=>e(Mt));var Zt=f(Ut,2);{var pr=r=>{var o=Na();Ke(o,20,()=>Array(12),Qe,($,Q,ge)=>{var I=Ta();Qt(I,`animation-delay: ${ge*.03}s`),a($,I)}),d(o),a(r,o)},br=r=>{var o=C(),$=_(o);{var Q=I=>{var F=Ma(),ee=u(F),we=u(ee,!0);d(ee);var Fe=f(ee,2);mt(Fe,{onclick:ur,variant:"outline",children:(de,_e)=>{ae();var Oe=be("Retry");a(de,Oe)},$$slots:{default:!0}}),d(F),Y(()=>U(we,e(Ce))),a(I,F)},ge=I=>{var F=C(),ee=_(F);{var we=de=>{var _e=Ba();a(de,_e)},Fe=de=>{var _e=C(),Oe=_(_e);{var Et=Ie=>{var Je=Ia();a(Ie,Je)},it=Ie=>{var Je=C(),dt=_(Je);{var Ye=Re=>{var He=Aa(),ze=u(He);d(He),Y(()=>U(ze,`No games found${e(xe)?` matching "${e(xe)}"`:e(z)?` for ${e(w)} ${xt[e(z)].label}`:` for ${e(w)}`}.`)),a(Re,He)},ct=Re=>{var He=C(),ze=_(He);{var ut=je=>{var Pe=Ha(),qe=u(Pe);N(qe,()=>ia,(ve,Ue)=>{Ue(ve,{class:"w-full min-w-0 table-fixed",children:(Se,vt)=>{var Xe=Ra(),et=_(Xe);N(et,()=>ma,(O,y)=>{y(O,{children:(fe,oe)=>{var R=C(),me=_(R);N(me,()=>lr,(H,P)=>{P(H,{class:"border-white/[0.06] hover:bg-transparent",children:(g,B)=>{var b=Ca(),le=_(b);N(le,()=>Ft,(L,q)=>{q(L,{class:"w-[120px]",children:(te,ue)=>{var S=Ga();S.__click=()=>It("date");var re=f(u(S));{var D=x=>{var he=C(),Ze=_(he);{var Ae=A=>{Ot(A,{class:"h-3 w-3"})},Ve=A=>{Rt(A,{class:"h-3 w-3"})};G(Ze,A=>{e(i)==="asc"?A(Ae):A(Ve,!1)})}a(x,he)},pe=x=>{Ht(x,{class:"h-3 w-3 opacity-40"})};G(re,x=>{e(h)==="date"?x(D):x(pe,!1)})}d(S),a(te,S)},$$slots:{default:!0}})});var ce=f(le,2);N(ce,()=>Ft,(L,q)=>{q(L,{class:"min-w-0",children:(te,ue)=>{var S=Ea();S.__click=()=>It("name");var re=f(u(S));{var D=x=>{var he=C(),Ze=_(he);{var Ae=A=>{Ot(A,{class:"h-3 w-3"})},Ve=A=>{Rt(A,{class:"h-3 w-3"})};G(Ze,A=>{e(i)==="asc"?A(Ae):A(Ve,!1)})}a(x,he)},pe=x=>{Ht(x,{class:"h-3 w-3 opacity-40"})};G(re,x=>{e(h)==="name"?x(D):x(pe,!1)})}d(S),a(te,S)},$$slots:{default:!0}})});var W=f(ce,2);N(W,()=>Ft,(L,q)=>{q(L,{class:"w-[80px] text-right",children:(te,ue)=>{var S=La();S.__click=()=>It("score");var re=f(u(S));{var D=x=>{var he=C(),Ze=_(he);{var Ae=A=>{Ot(A,{class:"h-3 w-3"})},Ve=A=>{Rt(A,{class:"h-3 w-3"})};G(Ze,A=>{e(i)==="asc"?A(Ae):A(Ve,!1)})}a(x,he)},pe=x=>{Ht(x,{class:"h-3 w-3 opacity-40"})};G(re,x=>{e(h)==="score"?x(D):x(pe,!1)})}d(S),a(te,S)},$$slots:{default:!0}})}),a(g,b)},$$slots:{default:!0}})}),a(fe,R)},$$slots:{default:!0}})});var p=f(et,2);N(p,()=>ca,(O,y)=>{y(O,{children:(fe,oe)=>{var R=C(),me=_(R);Ke(me,17,()=>e(M),Qe,(H,P)=>{var g=C(),B=_(g);N(B,()=>lr,(b,le)=>{le(b,{role:"button",tabindex:0,class:"cursor-pointer border-white/[0.04] transition-colors hover:bg-white/[0.03]",onclick:()=>Bt(e(P).id),onkeydown:ce=>ce.key==="Enter"&&Bt(e(P).id),children:(ce,W)=>{var L=Oa(),q=_(L);N(q,()=>Ct,(S,re)=>{re(S,{class:"text-xs text-muted-foreground",children:(D,pe)=>{ae();var x=be();Y(()=>U(x,e(P).releaseDate??"TBA")),a(D,x)},$$slots:{default:!0}})});var te=f(q,2);N(te,()=>Ct,(S,re)=>{re(S,{class:"min-w-0 overflow-hidden text-sm font-medium",children:(D,pe)=>{var x=Fa(),he=u(x);{var Ze=A=>{er(A,{class:"h-3.5 w-3.5 shrink-0 text-yellow-400"})};G(he,A=>{e(k).has(e(P).id)&&A(Ze)})}var Ae=f(he,2),Ve=u(Ae,!0);d(Ae),d(x),Y(()=>{bt(Ae,"title",e(P).name),U(Ve,e(P).name)}),a(D,x)},$$slots:{default:!0}})});var ue=f(te,2);N(ue,()=>Ct,(S,re)=>{re(S,{class:"text-right font-mono text-xs text-muted-foreground",children:(D,pe)=>{ae();var x=be();Y(he=>U(x,he),[()=>e(P).score!=null?Math.round(e(P).score).toLocaleString():"—"]),a(D,x)},$$slots:{default:!0}})}),a(ce,L)},$$slots:{default:!0}})}),a(H,g)}),a(fe,R)},$$slots:{default:!0}})}),a(Se,Xe)},$$slots:{default:!0}})}),d(Pe),a(je,Pe)},Lt=je=>{var Pe=Ua();Ke(Pe,21,()=>e(M),Qe,(qe,ve,Ue)=>{var Se=qa();Se.__click=()=>Bt(e(ve).id);var vt=u(Se);{var Xe=g=>{var B=za();Y(()=>bt(B,"src",e(ve).coverUrl)),a(g,B)},et=g=>{var B=ja(),b=u(B,!0);d(B),Y(()=>U(b,e(ve).name)),a(g,B)};G(vt,g=>{e(ve).coverUrl?g(Xe):g(et,!1)})}var p=f(vt,2);{var O=g=>{var B=Da(),b=u(B);er(b,{class:"h-4 w-4 text-yellow-400"}),d(B),a(g,B)};G(p,g=>{e(k).has(e(ve).id)&&g(O)})}var y=f(p,2),fe=u(y),oe=u(fe,!0);d(fe);var R=f(fe,2),me=u(R,!0);d(R);var H=f(R,2);{var P=g=>{var B=Ya(),b=u(B);d(B),Y(le=>U(b,`Score: ${le??""}`),[()=>Math.round(e(ve).score).toLocaleString()]),a(g,B)};G(H,g=>{e(ve).score!=null&&g(P)})}d(y),d(Se),Y(g=>{Qt(Se,`animation-delay: ${g??""}s`),U(oe,e(ve).name),U(me,e(ve).releaseDate??"TBA")},[()=>Math.min(Ue*.02,.3)]),a(qe,Se)}),d(Pe),a(je,Pe)};G(ze,je=>{e(Le)==="table"?je(ut):je(Lt,!1)},!0)}a(Re,He)};G(dt,Re=>{e(M).length===0?Re(Ye):Re(ct,!1)},!0)}a(Ie,Je)};G(Oe,Ie=>{e(w)?Ie(it,!1):Ie(Et)},!0)}a(de,_e)};G(ee,de=>{e(se).length===0?de(we):de(Fe,!1)},!0)}a(I,F)};G($,I=>{e(Ce)?I(Q):I(ge,!1)},!0)}a(r,o)};G(Zt,r=>{e(K)||e(ie)?r(pr):r(br,!1)})}var Vt=f(Zt,2);{var xr=r=>{var o=Ka(),$=_(o);Ne($,F=>l(Tt,F),()=>e(Tt));var Q=f($,2);{var ge=F=>{var ee=Za();a(F,ee)},I=F=>{var ee=C(),we=_(ee);{var Fe=de=>{var _e=Va(),Oe=u(_e);d(_e),Y(()=>U(Oe,`${e(M).length??""} of ${e(J)??""} games`)),a(de,_e)};G(we,de=>{e(M).length<e(J)&&de(Fe)},!0)}a(F,ee)};G(Q,F=>{e(Ee)?F(ge):F(I,!1)})}a(r,o)};G(Vt,r=>{e(M).length>0&&r(xr)})}var wr=f(Vt,2);{var $r=r=>{var o=Qa();o.__click=cr;var $=u(o);Xt($,{class:"h-6 w-6 text-foreground"}),d(o),ar(1,o,()=>or,()=>({y:8,duration:200})),ar(2,o,()=>or,()=>({y:8,duration:150})),a(r,o)};G(wr,r=>{e(jt)>300&&r($r)})}d(At);var yr=f(At,2);{let r=Te(()=>e(X)!=null&&!e(gt)&&e(ot)==null),o=Te(()=>e(X)!=null&&e(k).has(e(X)));Ur(yr,{get open(){return e(We)},onOpenChange:$=>!$&&vr(),get game(){return e(ot)},get loading(){return e(gt)},get showNotFound(){return e(r)},get isBookmarked(){return e(o)},onToggleBookmark:fr})}a(n,qt),ye()}Fr(["click"]);export{hs as component};
