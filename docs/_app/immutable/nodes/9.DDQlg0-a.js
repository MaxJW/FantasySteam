import{e as K,a as l,t as u,f as L,s as J}from"../chunks/MBJ6GwaM.js";import{p as O,a as Q,e as R,f as V,c as a,s as i,g as d,t as M,b as c,d as o,$ as W,n as v,r as s}from"../chunks/DSOR0kfI.js";import{i as X}from"../chunks/ByjyKV1b.js";import{h as Z}from"../chunks/B1D1IMEm.js";import{g as ee}from"../chunks/pRoe86kH.js";import{g as te}from"../chunks/NxKFzN9C.js";import{g as re,j as ae}from"../chunks/BNemM3Yf.js";import"../chunks/CREfjt_9.js";import"../chunks/CbR0rNbh.js";import{B as y}from"../chunks/q16SlMYW.js";import{I as k}from"../chunks/B3TmETIu.js";import{L as A}from"../chunks/CryPsRLx.js";import{U as se}from"../chunks/VLyPQDq0.js";import{A as oe}from"../chunks/SW3fwX3o.js";var ie=L("<!> Back",1),de=L('<div class="rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-center text-sm text-destructive"> </div>'),le=L('<div class="mx-auto max-w-md"><div class="mb-4"><!></div> <div class="glass overflow-hidden rounded-xl"><div class="h-1 w-full bg-gradient-to-r from-primary/60 via-primary/30 to-transparent"></div> <div class="flex flex-col items-center gap-3 border-b border-white/[0.06] p-6"><div class="flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"><!></div> <div class="text-center"><h1 class="text-xl font-semibold">Join a League</h1> <p class="mt-1 text-sm text-muted-foreground">Enter the invite code from your league commissioner.</p></div></div> <form><div class="space-y-4 p-5"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <!></div> <div class="flex flex-col gap-2 border-t border-white/[0.06] bg-white/[0.02] p-5"><!> <!></div></form></div></div>');function ye(E,I){O(I,!0);let f=c(""),p=c("My Studio"),n=c(!1),m=c("");async function U(e){e.preventDefault();const r=te();if(r){i(n,!0),i(m,"");try{const t=await re(d(f).trim());if(!t){i(m,"No league found with that code"),i(n,!1);return}await ae(t.id,r.uid,d(p).trim()||"My Studio"),await ee(`/league/${t.id}`)}catch(t){i(m,t instanceof Error?t.message:"Failed to join league",!0)}finally{i(n,!1)}}}var g=le();Z("1wxez71",e=>{R(()=>{W.title="Join League"})});var h=a(g),T=a(h);y(T,{variant:"ghost",href:"/dashboard",class:"gap-1.5 text-sm text-muted-foreground hover:text-foreground",children:(e,r)=>{var t=ie(),H=V(t);oe(H,{class:"h-4 w-4"}),v(),l(e,t)},$$slots:{default:!0}}),s(h);var N=o(h,2),x=o(a(N),2),P=a(x),q=a(P);se(q,{class:"h-6 w-6 text-primary"}),s(P),v(2),s(x);var _=o(x,2),b=a(_),$=a(b),S=a($);A(S,{for:"teamName",children:(e,r)=>{v();var t=u("Your Team Name");l(e,t)},$$slots:{default:!0}});var z=o(S,2);k(z,{id:"teamName",placeholder:"My Studio",class:"h-10 border-white/[0.08] bg-white/[0.03]",get value(){return d(p)},set value(e){i(p,e,!0)}}),s($);var w=o($,2),j=a(w);A(j,{for:"code",children:(e,r)=>{v();var t=u("Invite Code");l(e,t)},$$slots:{default:!0}});var D=o(j,2);k(D,{id:"code",required:!0,placeholder:"e.g. STEAM26",class:"h-12 border-white/[0.08] bg-white/[0.03] text-center text-lg tracking-[0.2em] uppercase",get value(){return d(f)},set value(e){i(f,e,!0)}}),s(w);var F=o(w,2);{var Y=e=>{var r=de(),t=a(r,!0);s(r),M(()=>J(t,d(m))),l(e,r)};X(F,e=>{d(m)&&e(Y)})}s(b);var B=o(b,2),C=a(B);y(C,{type:"submit",class:"glow-sm-primary w-full",get disabled(){return d(n)},children:(e,r)=>{v();var t=u();M(()=>J(t,d(n)?"Joining...":"Join League")),l(e,t)},$$slots:{default:!0}});var G=o(C,2);y(G,{variant:"ghost",href:"/dashboard",class:"w-full",children:(e,r)=>{v();var t=u("Cancel");l(e,t)},$$slots:{default:!0}}),s(B),s(_),s(N),s(g),K("submit",_,U),l(E,g),Q()}export{ye as component};
