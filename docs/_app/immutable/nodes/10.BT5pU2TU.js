import{p as ua,c as R,a as r,f as n,t as Qe,d as _t}from"../chunks/C-txDrIU.js";import{p as Oe,f as u,a as Ee,g as e,c as a,q as Ye,r as t,P as v,b as oe,v as st,u as ot,s as f,Q as pa,d as o,$ as ma,n as ke,t as $}from"../chunks/B3kg7STf.js";import{d as ga,s as _,e as xr}from"../chunks/eHwK_pec.js";import{p as Pt,i as m,r as ze,s as ft}from"../chunks/BLFEfHvi.js";import{a as er,c as tr,I as xt,b as Se,i as De,s as hr,d as L,f as br}from"../chunks/C2sax5ki.js";import{c as Ne}from"../chunks/WTJoWbb0.js";import{h as _a,B as nt}from"../chunks/D0K52Ymi.js";import{g as xa}from"../chunks/D_9Bzrfm.js";import{g as ha}from"../chunks/CpkI-X2R.js";import{p as ba}from"../chunks/yvHTMjGh.js";import{g as yr}from"../chunks/V1ThnXvC.js";import{l as Qt,P as Yt,D as Fe,e as ya,j as Xt,a as wa,b as ka}from"../chunks/CzOqzXZD.js";import{a as Zt,f as $a,s as Pa,h as Sa,i as Da,k as Ma,l as La}from"../chunks/DNBGoQ58.js";import{a as wr,d as Na}from"../chunks/DOiIeLCc.js";import{a as ja,P as Ca}from"../chunks/BIbVJvQ_.js";import{d as Ta,g as Ua,G as Aa,r as Ba,c as Ia,D as Ga,a as Oa,b as Ea,C as Ra,e as Ha,S as Fa}from"../chunks/WNVAp9EX.js";import{I as Wa}from"../chunks/CEbPfyDv.js";import{L as kr}from"../chunks/CJ9xks4X.js";import{B as za}from"../chunks/DHMx5tZ5.js";import{T as $r,S as Va}from"../chunks/CDqn2TO2.js";import{s as We}from"../chunks/1uktLeRY.js";import{b as jr}from"../chunks/TCx7b1jQ.js";import{c as qa,b as Pr,m as Ja}from"../chunks/B6K_Q3kx.js";import{A as Sr,a as Dr}from"../chunks/C1BlhXKC.js";import{A as Mr}from"../chunks/B_u_t58v.js";import{A as Lr}from"../chunks/5WwWcRaY.js";import{T as Ka}from"../chunks/DkRY_Xip.js";import{T as Qa,B as Ya,S as Xa}from"../chunks/CIti5ivr.js";import{S as Za}from"../chunks/DeZ0sK82.js";var es=n("<div><!></div>");function ts(ue,p){const i=ua();Oe(p,!0);let H=Pt(p,"id",19,()=>qa(i)),j=Pt(p,"ref",15,null),re=ze(p,["$$slots","$$events","$$legacy","id","children","child","ref"]);const U=Ta.create({id:Pr(()=>H()),ref:Pr(()=>j(),je=>j(je))}),Q=v(()=>Ja(re,U.props));var Re=R(),ht=u(Re);{var it=je=>{var Ce=R(),dt=u(Ce);We(dt,()=>p.child,()=>({props:e(Q)})),r(je,Ce)},lt=je=>{var Ce=es();er(Ce,()=>({...e(Q)}));var dt=a(Ce);We(dt,()=>p.children??Ye),t(Ce),r(je,Ce)};m(ht,je=>{p.child?je(it):je(lt,!1)})}r(ue,Re),Ee()}var rs=n("<div><!></div>");function as(ue,p){Oe(p,!0);let i=Pt(p,"ref",15,null),H=ze(p,["$$slots","$$events","$$legacy","ref","class","children"]);var j=rs();er(j,U=>({"data-slot":"dialog-footer",class:U,...H}),[()=>tr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",p.class)]);var re=a(j);We(re,()=>p.children??Ye),t(j),jr(j,U=>i(U),()=>i()),r(ue,j),Ee()}var ss=n("<div><!></div>");function os(ue,p){Oe(p,!0);let i=Pt(p,"ref",15,null),H=ze(p,["$$slots","$$events","$$legacy","ref","class","children"]);var j=ss();er(j,U=>({"data-slot":"dialog-header",class:U,...H}),[()=>tr("flex flex-col gap-2 text-center sm:text-start",p.class)]);var re=a(j);We(re,()=>p.children??Ye),t(j),jr(j,U=>i(U),()=>i()),r(ue,j),Ee()}function ns(ue,p){Oe(p,!0);let i=Pt(p,"ref",15,null),H=ze(p,["$$slots","$$events","$$legacy","ref","class"]);var j=R(),re=u(j);{let U=v(()=>tr("text-sm text-muted-foreground",p.class));Ne(re,()=>ts,(Q,Re)=>{Re(Q,ft({"data-slot":"dialog-description",get class(){return e(U)}},()=>H,{get ref(){return i()},set ref(ht){i(ht)}}))})}r(ue,j),Ee()}function is(ue,p){Oe(p,!0);let i=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];xt(ue,ft({name:"settings"},()=>i,{get iconNode(){return H},children:(j,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(j,U)},$$slots:{default:!0}})),Ee()}function ls(ue,p){Oe(p,!0);let i=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];xt(ue,ft({name:"trash-2"},()=>i,{get iconNode(){return H},children:(j,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(j,U)},$$slots:{default:!0}})),Ee()}function Nr(ue,p){Oe(p,!0);let i=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];xt(ue,ft({name:"circle-check-big"},()=>i,{get iconNode(){return H},children:(j,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(j,U)},$$slots:{default:!0}})),Ee()}function ds(ue,p){Oe(p,!0);let i=ze(p,["$$slots","$$events","$$legacy"]);const H=[["circle",{cx:"12",cy:"12",r:"10"}]];xt(ue,ft({name:"circle"},()=>i,{get iconNode(){return H},children:(j,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(j,U)},$$slots:{default:!0}})),Ee()}function jt(ue,p){Oe(p,!0);let i=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];xt(ue,ft({name:"loader"},()=>i,{get iconNode(){return H},children:(j,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(j,U)},$$slots:{default:!0}})),Ee()}function cs(ue,p){Oe(p,!0);let i=ze(p,["$$slots","$$events","$$legacy"]);const H=[["line",{x1:"10",x2:"14",y1:"2",y2:"2"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11"}],["circle",{cx:"12",cy:"14",r:"8"}]];xt(ue,ft({name:"timer"},()=>i,{get iconNode(){return H},children:(j,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(j,U)},$$slots:{default:!0}})),Ee()}var vs=n('<div class="h-32 animate-pulse rounded-xl bg-white/[0.04]"></div>'),fs=n('<div class="space-y-4"><div class="h-12 w-48 animate-pulse rounded-lg bg-white/[0.04]"></div> <div class="grid gap-4 sm:grid-cols-3"></div></div>'),us=n("<!> Back to dashboard",1),ps=n('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">Connection error</h2> <p class="text-sm text-muted-foreground"> </p> <div class="flex gap-3"><!> <!></div></div>'),ms=n("<!> Back to dashboard",1),gs=n('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">League not found</h2> <!></div>'),_s=n('<p class="text-lg font-semibold text-primary"> </p>'),xs=n("<!> <!>",1),hs=n('<div class="overflow-hidden rounded-2xl border border-accent/20 bg-gradient-to-br from-accent/10 via-accent/5 to-transparent"><div class="flex flex-col items-center gap-4 px-6 py-10 text-center sm:flex-row sm:justify-center sm:gap-8 sm:text-left"><div class="flex h-20 w-20 shrink-0 items-center justify-center rounded-2xl bg-accent/20"><!></div> <div class="space-y-1"><p class="text-sm font-medium tracking-wider text-muted-foreground uppercase"> </p> <h2 class="text-2xl font-bold text-foreground md:text-3xl"> </h2> <!></div> <!></div></div>'),bs=n('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-amber-500/60 via-amber-500 to-amber-500/60"></div>'),ys=n('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-primary/60 via-primary to-primary/60"></div>'),ws=n('<div class="absolute inset-x-0 top-0 h-0.5 bg-accent/40"></div>'),ks=n('<p class="text-center text-xs text-muted-foreground">Loading...</p>'),$s=n("<!> ",1),Ps=n('<p class="text-center text-xs text-muted-foreground">Draft complete</p>'),Ss=n('<p class="text-center text-xs text-muted-foreground">Skipped</p>'),Ds=n('<p class="text-center text-xs text-muted-foreground"> </p>'),Ms=n('<p class="text-center text-xs text-muted-foreground"> </p>'),Ls=n('<p class="text-center text-xs text-muted-foreground"> </p>'),Ns=n('<div><!> <div class="p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="font-semibold"> </span></div> <span class="text-[10px] font-medium text-muted-foreground uppercase"> </span></div> <p class="mt-1 text-xs text-muted-foreground"> </p> <div class="mt-3"><!></div></div></div>'),js=n('<div class="grid gap-3 sm:grid-cols-3"></div>'),Cs=n("<!> Delete",1),Ts=n("This will permanently delete <strong> </strong>. You cannot undo this.",1),Us=n("<!> <!>",1),As=n("<!> <!>",1),Bs=n("<!> <!>",1),Is=n('<div class="animate-fade-in-up overflow-hidden rounded-xl border border-primary/20 bg-card/60"><div class="border-b border-white/[0.06] bg-white/[0.02] px-5 py-4"><h3 class="font-semibold">League Settings</h3> <p class="text-sm text-muted-foreground">Manage picks per phase and league options.</p></div> <div class="space-y-6 p-5"><div class="flex flex-wrap items-end gap-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <p class="text-sm"> </p></div></div> <!> <div class="rounded-lg border border-destructive/20 bg-destructive/5 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div><p class="text-sm font-medium text-destructive">Delete league</p> <p class="mt-0.5 text-xs text-muted-foreground">This cannot be undone.</p></div> <!></div></div></div></div> <!>',1),Gs=n('<div class="flex h-48 items-center justify-center md:h-64"><!></div>'),Os=_t('<line stroke="white" stroke-opacity="0.06" stroke-width="1"></line><text text-anchor="end" fill="#8899aa" font-size="10"> </text>',1),Es=_t('<defs><linearGradient x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-opacity="0.15"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><polygon></polygon><polyline fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></polyline><circle r="3"></circle>',1),Rs=_t('<rect fill="transparent" role="presentation"></rect>'),Hs=_t('<circle r="4" stroke="#111827" stroke-width="2"></circle>'),Fs=_t('<line stroke="white" stroke-opacity="0.15" stroke-width="1" stroke-dasharray="3 3"></line><!>',1),Ws=_t('<text text-anchor="middle" fill="#8899aa" font-size="10"> </text>'),zs=n('<div class="flex items-center gap-1.5"><div class="h-2 w-2 rounded-full"></div> <span class="text-xs text-muted-foreground"> </span> <span class="font-mono text-xs font-medium text-foreground"> </span></div>'),Vs=n('<div class="mt-2 rounded-lg border border-white/[0.06] bg-white/[0.03] px-4 py-2.5"><p class="mb-1.5 text-xs font-medium text-muted-foreground"> </p> <div class="flex flex-wrap gap-x-5 gap-y-1"></div></div>'),qs=n('<div class="flex items-center gap-1.5"><div class="h-2.5 w-2.5 rounded-sm"></div> <span class="text-xs text-muted-foreground"> </span></div>'),Js=n('<div class="overflow-x-auto"><svg class="w-full" style="min-width: 500px" role="img" aria-label="Score history chart"><!><!><!><!><!></svg></div> <!> <div class="mt-3 flex flex-wrap gap-x-4 gap-y-1.5 px-1"></div>',1),Ks=n('<div class="flex h-48 flex-col items-center justify-center gap-2 text-muted-foreground md:h-64"><!> <p class="text-sm">No score data available yet</p></div>'),Qs=n('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No teams yet. Wait for the draft!</div>'),Ys=n("<!> <!>",1),Xs=n('<img class="aspect-[3/4] w-full object-cover"/>'),Zs=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),eo=n('<span class="font-mono text-[9px] font-bold text-white"> </span>'),to=n('<span class="text-[9px] text-white/70">—</span>'),ro=n('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-accent/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Hit</span></div> <!></div></button>'),ao=n('<img class="aspect-[3/4] w-full object-cover"/>'),so=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),oo=n('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-destructive/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Bomb</span></div></div></button>'),no=n('<div class="flex flex-wrap gap-2.5"><!> <!></div>'),io=n('<img class="aspect-[3/4] w-full object-cover"/>'),lo=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),co=n('<span class="font-mono text-[9px] font-bold text-white"> </span>'),vo=n('<span class="text-[9px] text-white/70">—</span>'),fo=n('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-sky-400/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!> <!></div></button>'),uo=n('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase"> </p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),po=n('<img class="aspect-[3/4] w-full object-cover"/>'),mo=n('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),go=n('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-dashed border-purple-400/20 text-left opacity-60 transition-all hover:border-purple-400/40 hover:opacity-100 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!></div></button>'),_o=n('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Alt (Backup)</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),xo=n('<div class="animate-fade-in-up space-y-4 border-t border-white/[0.06] px-4 py-4"><!> <!> <!></div>'),ho=n('<div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 transition-colors hover:border-white/[0.1]"><button class="flex w-full cursor-pointer items-center gap-3 px-4 py-3 text-left"><span></span> <!> <div class="min-w-0 flex-1"><p class="truncate font-medium"> </p> <p class="truncate text-xs text-muted-foreground"> </p></div> <div class="flex items-center gap-3"><span class="font-mono text-lg font-bold text-primary"> </span> <!></div></button> <!></div>'),bo=n('<h2 class="text-lg font-semibold">Season Summary</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 p-4"><div class="space-y-2 text-sm text-muted-foreground"><p> </p> <p> </p></div></div>',1),yo=n('<div class="py-10 text-center text-sm text-muted-foreground">No upcoming games</div>'),wo=n('<img class="h-14 w-10 shrink-0 rounded object-cover"/>'),ko=n('<div class="flex h-14 w-10 shrink-0 items-center justify-center rounded bg-white/[0.04] text-[8px] text-muted-foreground">N/A</div>'),$o=n('<span class="rounded bg-primary/10 px-1.5 py-0.5 text-[9px] font-medium text-primary"> </span>'),Po=n('<span class="text-[10px] text-muted-foreground"> </span> <!>',1),So=n('<span class="rounded bg-white/[0.06] px-1.5 py-0.5 text-[9px] text-muted-foreground"> </span>'),Do=n('<button type="button" class="flex w-full cursor-pointer items-start gap-2.5 rounded-lg p-2.5 text-left transition-colors hover:bg-white/[0.04] focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="min-w-0 flex-1"><h3 class="line-clamp-1 text-sm font-medium"> </h3> <div class="mt-0.5 flex items-center gap-1.5"><!></div> <div class="mt-1 flex flex-wrap gap-1"></div></div></button>'),Mo=n('<div class="space-y-1 p-2"><!></div>'),Lo=n('<h2 class="text-lg font-semibold">Upcoming Releases</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><!></div>',1),No=n('<div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"><div class="space-y-2"><div class="flex items-center gap-3"><h1 class="text-3xl font-bold tracking-tight md:text-4xl"> </h1> <!></div> <div class="flex flex-wrap items-center gap-2"><span class="text-sm text-muted-foreground"> </span> <span class="rounded-md bg-white/[0.05] px-2 py-0.5 font-mono text-xs text-foreground"> </span> <!></div></div></div> <!> <!> <div class="grid gap-6 lg:grid-cols-[1fr_320px]"><div class="space-y-6"><div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><div class="flex items-center gap-2 border-b border-white/[0.06] px-5 py-3"><!> <h2 class="font-semibold"> </h2></div> <div class="p-4"><!></div></div> <div class="space-y-3"><h2 class="text-lg font-semibold"> </h2> <!></div></div> <div class="space-y-3"><!></div></div>',1),jo=n('<div class="space-y-6"><!></div> <!>',1);function ln(ue,p){Oe(p,!0);let i=oe(null),H=oe(st([])),j=oe(st({})),re=oe(st({})),U=oe(!0),Q=oe(void 0),Re=oe(!1),ht=oe(!1),it=oe(!1),lt=oe(!1),je=oe(st(new Set)),Ce=oe(st(new Map)),dt=oe(st([])),St=oe(!1),Ct=oe(!1),Be=oe(null),bt=oe(null),Dt=oe(!1),Xe=oe(null),ct=oe(st({winter:null,summer:null,fall:null})),Mt=oe(!1),Ge=oe(null),ut=oe(null),Ze=oe(st(new Set));const yt=v(yr);async function Cr(){if(e(Q)){f(ut,null),f(U,!0);try{const s=await Zt(e(Q));f(i,s,!0)}catch(s){f(ut,s instanceof Error?s.message:"Load failed",!0)}finally{f(U,!1)}}}async function wt(s){f(Be,s,!0),f(Ct,!0),f(bt,null),f(Dt,!0);try{const l=await wr(s);f(bt,l?{...l,id:s}:null,!0)}finally{f(Dt,!1)}}function Tr(){f(Ct,!1),f(Be,null),f(bt,null)}async function Ur(){if(!e(yt)||!e(Be)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(yt)),console.log("selectedGameId",e(Be));return}e(Ze).has(e(Be))?(await Ba(e(yt).uid,e(Be)),f(Ze,new Set([...e(Ze)].filter(l=>l!==e(Be))),!0)):(await Ia(e(yt).uid,e(Be)),f(Ze,new Set([...e(Ze),e(Be)]),!0))}ot(()=>{const s=e(yt);if(!s){f(Ze,new Set,!0);return}Ua(s.uid).then(l=>f(Ze,l,!0))}),ot(()=>{const s=xa(ba).params?.id;f(Q,s,!0),s&&f(U,!0)}),ot(()=>{const s=e(Q);s&&(f(ut,null),Zt(s).then(l=>{f(i,l,!0),f(U,!1)}).catch(l=>{f(ut,l instanceof Error?l.message:"Load failed",!0),f(U,!1)}))}),ot(()=>{const s=e(Q),l=e(i)?.season;!s||!l||(f(Mt,!1),$a(s,l).then(async G=>{if(f(ct,G,!0),f(Mt,!0),!Qt(l)){await Pa(s);const b=await Zt(s);b&&b.currentPhase!==e(i)?.currentPhase&&f(i,b,!0)}}))}),ot(()=>{const s=e(Q);s&&Sa(s).then(l=>{f(H,l,!0),Promise.all(l.map(G=>ja(G.id))).then(G=>{const b={};G.forEach((E,ee)=>{E?b[l[ee].id]={displayName:E.displayName||l[ee].name,avatarUrl:E.avatarUrl}:b[l[ee].id]={displayName:l[ee].name,avatarUrl:null}}),f(re,b,!0)})})}),ot(()=>{const s=[],l=new Set;for(const G of e(H)){const b=G.picks;for(const E of[b?.hitPick,b?.bombPick,...b?.winterPicks??[],...b?.summerPicks??[],...b?.fallPicks??[],...b?.altPicks??[]].filter(Boolean))l.has(E)||(l.add(E),s.push(E))}s.length!==0&&Promise.all(s.map(G=>wr(G))).then(G=>{const b={};G.forEach((E,ee)=>{E&&(b[s[ee]]=E)}),f(j,{...e(j),...b},!0)})}),ot(()=>{const s=e(Q),l=e(i)?.season;!s||e(H).length===0||(f(St,!0),f(Ge,null),l&&Qt(l)?Da(s,l).then(G=>{f(Ge,G,!0);const b=new Map;for(const E of G.graphData.series){const ee=new Map;G.graphData.dates.forEach((tt,vt)=>ee.set(tt,E.data[vt]??0)),b.set(E.teamId,ee)}f(Ce,b,!0)}).finally(()=>f(St,!1)):Ma(s).then(G=>f(Ce,G,!0)).finally(()=>f(St,!1)))}),ot(()=>{Na().then(s=>f(dt,s,!0))});function Ar(s){const l=new Set(e(je));l.has(s)?l.delete(s):l.add(s),f(je,l,!0)}function Tt(s){const l=e(i)?.delistedGames??[],G=wa(s.picks,l);let b=0;for(const E of G){const ee=e(j)[E]?.score;ee!=null&&(b+=ee)}return b+(s.bombAdjustment??0)}const Te=v(()=>!!e(i)&&!!e(i).season&&Qt(e(i).season)),Ut=v(()=>e(Te)&&e(Ge)?[...e(H)].sort((s,l)=>(e(Ge).finalRanks[s.id]??999)-(e(Ge).finalRanks[l.id]??999)):[...e(H)].sort((s,l)=>Tt(l)-Tt(s))),At=v(()=>{if(e(Te)&&e(Ge)?.graphData)return{dates:e(Ge).graphData.dates,series:e(Ge).graphData.series.map(b=>({name:e(re)[b.teamId]?.displayName||e(H).find(E=>E.id===b.teamId)?.name||"Unknown",data:b.data}))};if(e(Ce).size===0)return null;const s=new Set;e(Ce).forEach(b=>{b.forEach((E,ee)=>s.add(ee))});const l=Array.from(s).sort(),G=e(Ut).map(b=>{const E=e(Ce).get(b.id)||new Map;return{name:e(re)[b.id]?.displayName||b.name,data:l.map(ee=>E.get(ee)||0)}});return{dates:l,series:G}});function rr(s){return e(Te)&&e(Ge)?e(Ge).finalScores[s.id]??0:Tt(s)}function ar(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}function Br(s){if(!s)return"";const l=new Date,b=new Date(s).getTime()-l.getTime(),E=Math.ceil(b/(1e3*60*60*24));return E<=0?"Released":E===1?"Tomorrow":E<=7?`${E}d`:E<=30?`${Math.ceil(E/7)}w`:`${Math.ceil(E/30)}mo`}const sr=v(()=>!!(e(i)&&yr()?.uid===e(i).commissionerId));function or(){f(ht,!1)}function Ir(){or(),f(Re,!0)}function Gr(){or(),f(Re,!1)}async function Or(){if(e(Q)){f(lt,!0);try{await La(e(Q)),f(it,!1),f(Re,!1),ha("/dashboard")}catch(s){console.error(s)}finally{f(lt,!1)}}}function Bt(s){if(!e(i))return!1;const l=Fe.indexOf(s),G=Fe.indexOf(e(i).currentPhase);return l<G}function nr(s){return Bt(s)?"completed":e(ct)[s]}function Er(s){if(Bt(s))return Nr;if(!e(Mt))return jt;const l=e(ct)[s];return l==="completed"?Nr:l==="active"||l==="pending"?jt:ds}const It={winter:"Dec",summer:"Apr",fall:"Aug"};function ir(s){if(Bt(s))return"Complete";if(!e(Mt))return"Loading";const l=e(ct)[s];if(l==="completed")return"Complete";if(l==="active"||l==="pending")return e(i)&&!Xt(s,e(i).season)?`Opens ${It[s]}`:"In Progress";const G=Fe.indexOf(s),b=Fe.indexOf(e(i)?.currentPhase??"winter");return G<b?"Skipped":e(i)?.currentPhase===s&&e(i)&&Xt(s,e(i).season)?"Ready":`Opens ${It[s]}`}function Rr(s){if(!e(i))return!1;const l=Fe.indexOf(s),G=Fe.indexOf(e(i).currentPhase);return l!==G||e(ct)[s]==="completed"?!1:Xt(s,e(i).season)}const et=["#5b9bf5","#6ddb7b","#f59e42","#e05d5d","#b47aed","#38bdf8","#f472b6","#facc15"];function Hr(s){return s===0?"bg-yellow-500/15 text-yellow-400 ring-1 ring-yellow-500/30":s===1?"bg-slate-400/15 text-slate-300 ring-1 ring-slate-400/30":s===2?"bg-amber-600/15 text-amber-500 ring-1 ring-amber-600/30":"bg-white/[0.05] text-muted-foreground"}var lr=jo();_a("5wjyo2",s=>{pa(()=>{ma.title=e(i)?.name??"League"??""})});var Gt=u(lr),Fr=a(Gt);{var Wr=s=>{var l=fs(),G=o(a(l),2);Se(G,20,()=>Array(3),De,(b,E)=>{var ee=vs();r(b,ee)}),t(G),t(l),r(s,l)},zr=s=>{var l=R(),G=u(l);{var b=ee=>{var tt=ps(),vt=o(a(tt),2),Ot=a(vt,!0);t(vt);var Lt=o(vt,2),Ve=a(Lt);nt(Ve,{onclick:Cr,variant:"outline",children:(qe,pt)=>{ke();var Je=Qe("Retry");r(qe,Je)},$$slots:{default:!0}});var rt=o(Ve,2);nt(rt,{variant:"ghost",href:"/dashboard",class:"gap-2",children:(qe,pt)=>{var Je=us(),at=u(Je);Lr(at,{class:"h-4 w-4"}),ke(),r(qe,Je)},$$slots:{default:!0}}),t(Lt),t(tt),$(()=>_(Ot,e(ut))),r(ee,tt)},E=ee=>{var tt=R(),vt=u(tt);{var Ot=Ve=>{var rt=gs(),qe=o(a(rt),2);nt(qe,{variant:"outline",href:"/dashboard",class:"gap-2",children:(pt,Je)=>{var at=ms(),Et=u(at);Lr(Et,{class:"h-4 w-4"}),ke(),r(pt,at)},$$slots:{default:!0}}),t(rt),r(Ve,rt)},Lt=Ve=>{var rt=No(),qe=u(rt),pt=a(qe),Je=a(pt),at=a(Je),Et=a(at,!0);t(at);var qr=o(at,2);{var Jr=C=>{nt(C,{variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-foreground",onclick:()=>e(Re)?Gr():Ir(),children:(N,ne)=>{is(N,{class:"h-4 w-4"})},$$slots:{default:!0}})};m(qr,C=>{e(sr)&&!e(Te)&&C(Jr)})}t(Je);var dr=o(Je,2),Rt=a(dr),Kr=a(Rt);t(Rt);var Ht=o(Rt,2),Qr=a(Ht,!0);t(Ht);var Yr=o(Ht,2);{let C=v(()=>e(i).status==="active"?"default":e(i).status==="completed"?"secondary":"outline");za(Yr,{get variant(){return e(C)},class:"text-[10px]",children:(N,ne)=>{ke();var F=Qe();$(()=>_(F,e(i).status==="draft"?"Pre-Season":e(i).status==="active"?"Active":"Completed")),r(N,F)},$$slots:{default:!0}})}t(dr),t(pt),t(qe);var cr=o(qe,2);{var Xr=C=>{const N=v(()=>e(Ut)[0]);var ne=hs(),F=a(ne),P=a(F),ie=a(P);Ka(ie,{class:"h-10 w-10 text-accent"}),t(P);var g=o(P,2),ce=a(g),y=a(ce);t(ce);var _e=o(ce,2),W=a(_e);t(_e);var Y=o(_e,2);{var pe=le=>{var ve=_s(),ae=a(ve);t(ve),$(ye=>_(ae,`Final score: ${ye??""}`),[()=>Math.round(rr(e(N))).toLocaleString()]),r(le,ve)};m(Y,le=>{e(N)&&le(pe)})}t(g);var Me=o(g,2);{var J=le=>{var ve=R(),ae=u(ve);Ne(ae,()=>Dr,(ye,te)=>{te(ye,{class:"size-16 shrink-0 ring-2 ring-accent/40 ring-offset-2 ring-offset-background",children:(fe,Ue)=>{var Ae=xs(),X=u(Ae);{let w=v(()=>e(re)[e(N).id]?.avatarUrl??void 0);Ne(X,()=>Mr,(z,k)=>{k(z,{get src(){return e(w)},get alt(){return e(N).name}})})}var se=o(X,2);Ne(se,()=>Sr,(w,z)=>{z(w,{class:"text-xl",children:(k,T)=>{ke();var S=Qe();$(A=>_(S,A),[()=>(e(re)[e(N).id]?.displayName||e(N).name).slice(0,2).toUpperCase()]),r(k,S)},$$slots:{default:!0}})}),r(fe,Ae)},$$slots:{default:!0}})}),r(le,ve)};m(Me,le=>{e(N)&&le(J)})}t(F),t(ne),$(()=>{_(y,`Season ${e(i).season??""} Complete`),_(W,`${(e(N)?e(re)[e(N).id]?.displayName||e(N).name:"—")??""} is the Champion`)}),r(C,ne)},Zr=C=>{var N=js();Se(N,21,()=>Fe,De,(ne,F)=>{const P=v(()=>Yt[e(F)]),ie=v(()=>nr(e(F))),g=v(()=>ir(e(F))),ce=v(()=>Er(e(F))),y=v(()=>e(i).currentPhase===e(F)),_e=v(()=>Rr(e(F))),W=v(()=>e(y)&&!e(_e)&&e(g).startsWith("Opens"));var Y=Ns(),pe=a(Y);{var Me=d=>{var c=bs();r(d,c)},J=d=>{var c=R(),x=u(c);{var h=D=>{var B=ys();r(D,B)},O=D=>{var B=R(),I=u(B);{var M=q=>{var V=ws();r(q,V)};m(I,q=>{e(ie)==="completed"&&q(M)},!0)}r(D,B)};m(x,D=>{e(y)?D(h):D(O,!1)},!0)}r(d,c)};m(pe,d=>{e(W)?d(Me):d(J,!1)})}var le=o(pe,2),ve=a(le),ae=a(ve),ye=a(ae);{var te=d=>{cs(d,{class:"h-4 w-4 text-amber-500"})},fe=d=>{var c=R(),x=u(c);{let h=v(()=>e(g)==="Loading"?"animate-spin text-muted-foreground":e(ie)==="completed"?"text-accent":e(y)?"animate-spin text-primary":"text-muted-foreground");Ne(x,()=>e(ce),(O,D)=>{D(O,{get class(){return`h-4 w-4 ${e(h)??""}`}})})}r(d,c)};m(ye,d=>{e(W)?d(te):d(fe,!1)})}var Ue=o(ye,2),Ae=a(Ue,!0);t(Ue),t(ae);var X=o(ae,2),se=a(X,!0);t(X),t(ve);var w=o(ve,2),z=a(w);t(w);var k=o(w,2),T=a(k);{var S=d=>{var c=ks();r(d,c)},A=d=>{var c=R(),x=u(c);{var h=D=>{{let B=v(()=>e(i).id),I=v(()=>ka(e(F),e(i).season)),M=v(()=>e(y)?"glow-sm-primary":""),q=v(()=>e(y)?"default":"outline");nt(D,{get href(){return`/league/${e(B)??""}/draft/${e(I)??""}`},size:"sm",get class(){return`w-full gap-2 ${e(M)??""}`},get variant(){return e(q)},children:(V,me)=>{var xe=$s(),$e=u(xe);Ca($e,{class:"h-3.5 w-3.5"});var Ie=o($e);$(()=>_(Ie,` ${e(ct)[e(F)]==="active"||e(ct)[e(F)]==="pending"?"Continue Draft":"Enter Draft Room"}`)),r(V,xe)},$$slots:{default:!0}})}},O=D=>{var B=R(),I=u(B);{var M=V=>{var me=Ps();r(V,me)},q=V=>{var me=R(),xe=u(me);{var $e=Z=>{var be=Ss();r(Z,be)},Ie=Z=>{var be=R(),Pe=u(be);{var K=he=>{var Le=Ds(),Ke=a(Le,!0);t(Le),$(()=>_(Ke,e(g))),r(he,Le)},de=he=>{const Le=v(()=>Fe.indexOf(e(F))),Ke=v(()=>Fe.slice(0,e(Le))),mt=v(()=>e(Ke).find(He=>nr(He)!=="completed"));var kt=R(),Nt=u(kt);{var qt=He=>{var ge=Ms(),we=a(ge);t(ge),$(()=>_(we,`Opens ${It[e(F)]??""}`)),r(He,ge)},Jt=He=>{var ge=Ls(),we=a(ge);t(ge),$(()=>_(we,`Complete ${Yt[e(mt)]?.label??""??""} first`)),r(He,ge)};m(Nt,He=>{e(mt)==null?He(qt):He(Jt,!1)})}r(he,kt)};m(Pe,he=>{e(g).startsWith("Opens")?he(K):he(de,!1)},!0)}r(Z,be)};m(xe,Z=>{e(g)==="Skipped"?Z($e):Z(Ie,!1)},!0)}r(V,me)};m(I,V=>{e(ie)==="completed"?V(M):V(q,!1)},!0)}r(D,B)};m(x,D=>{e(_e)?D(h):D(O,!1)},!0)}r(d,c)};m(T,d=>{e(g)==="Loading"?d(S):d(A,!1)})}t(k),t(le),t(Y),$((d,c,x)=>{hr(Y,1,`relative overflow-hidden rounded-xl border transition-all ${e(W)?"border-amber-500/40 bg-amber-500/[0.04]":e(y)?"border-primary/40 bg-primary/[0.04]":e(ie)==="completed"?"border-accent/20 bg-accent/[0.03]":e(g)==="Loading"?"border-white/[0.06] bg-white/[0.02]":e(g)==="Skipped"?"border-white/[0.04] bg-white/[0.01] opacity-50":"border-white/[0.06] bg-white/[0.02] opacity-60"}`),_(Ae,e(P).label),_(se,d),_(z,`${c??""} — ${x??""}`)},[()=>ir(e(F)),()=>e(P).releaseStart(parseInt(e(i).season)).slice(5),()=>e(P).releaseEnd(parseInt(e(i).season)).slice(5)]),r(ne,Y)}),t(N),r(C,N)};m(cr,C=>{e(Te)&&e(Ge)?C(Xr):C(Zr,!1)})}var vr=o(cr,2);{var ea=C=>{var N=Is(),ne=u(N),F=o(a(ne),2),P=a(F),ie=a(P),g=a(ie);kr(g,{for:"editSeason",class:"text-muted-foreground",children:(ae,ye)=>{ke();var te=Qe("Season");r(ae,te)},$$slots:{default:!0}});var ce=o(g,2);Wa(ce,{id:"editSeason",get value(){return e(i).season},readonly:!0,class:"w-28 bg-white/[0.03] font-mono read-only:cursor-default read-only:opacity-100"}),t(ie);var y=o(ie,2),_e=a(y);kr(_e,{class:"text-muted-foreground",children:(ae,ye)=>{ke();var te=Qe("Picks per phase");r(ae,te)},$$slots:{default:!0}});var W=o(_e,2),Y=a(W);t(W),t(y),t(P);var pe=o(P,2);Va(pe,{class:"opacity-30"});var Me=o(pe,2),J=a(Me),le=o(a(J),2);nt(le,{variant:"destructive",size:"sm",onclick:()=>f(it,!0),class:"shrink-0 gap-2",children:(ae,ye)=>{var te=Cs(),fe=u(te);ls(fe,{class:"h-4 w-4"}),ke(),r(ae,te)},$$slots:{default:!0}}),t(J),t(Me),t(F),t(ne);var ve=o(ne,2);Ne(ve,()=>Ea,(ae,ye)=>{ye(ae,{get open(){return e(it)},set open(te){f(it,te,!0)},children:(te,fe)=>{var Ue=R(),Ae=u(Ue);Ne(Ae,()=>Ga,(X,se)=>{se(X,{children:(w,z)=>{var k=Bs(),T=u(k);Ne(T,()=>os,(A,d)=>{d(A,{children:(c,x)=>{var h=Us(),O=u(h);Ne(O,()=>Oa,(B,I)=>{I(B,{children:(M,q)=>{ke();var V=Qe("Delete league?");r(M,V)},$$slots:{default:!0}})});var D=o(O,2);Ne(D,()=>ns,(B,I)=>{I(B,{children:(M,q)=>{ke();var V=Ts(),me=o(u(V)),xe=a(me,!0);t(me),ke(),$(()=>_(xe,e(i)?.name)),r(M,V)},$$slots:{default:!0}})}),r(c,h)},$$slots:{default:!0}})});var S=o(T,2);Ne(S,()=>as,(A,d)=>{d(A,{class:"gap-2",children:(c,x)=>{var h=As(),O=u(h);nt(O,{variant:"outline",onclick:()=>f(it,!1),get disabled(){return e(lt)},children:(B,I)=>{ke();var M=Qe("Cancel");r(B,M)},$$slots:{default:!0}});var D=o(O,2);nt(D,{variant:"destructive",onclick:Or,get disabled(){return e(lt)},children:(B,I)=>{ke();var M=Qe();$(()=>_(M,e(lt)?"Deleting...":"Delete league")),r(B,M)},$$slots:{default:!0}}),r(c,h)},$$slots:{default:!0}})}),r(w,k)},$$slots:{default:!0}})}),r(te,Ue)},$$slots:{default:!0}})}),$(ae=>_(Y,`${ae??""} (based on 
								${e(i)?.members.length??0??""} players)`),[()=>e(i)?ya(e(i).members.length):"—"]),r(C,N)};m(vr,C=>{e(Re)&&e(sr)&&!e(Te)&&C(ea)})}var fr=o(vr,2),Ft=a(fr),Wt=a(Ft),zt=a(Wt),ur=a(zt);$r(ur,{class:"h-4 w-4 text-primary"});var pr=o(ur,2),ta=a(pr,!0);t(pr),t(zt);var mr=o(zt,2),ra=a(mr);{var aa=C=>{var N=Gs(),ne=a(N);jt(ne,{class:"h-5 w-5 animate-spin text-muted-foreground"}),t(N),r(C,N)},sa=C=>{var N=R(),ne=u(N);{var F=ie=>{const g=v(()=>e(At)),ce=v(()=>Math.max(...e(g).series.map(w=>Math.max(...w.data)),1)),y=v(()=>({top:20,right:20,bottom:30,left:45})),_e=v(()=>800),W=v(()=>280),Y=v(()=>e(_e)-e(y).left-e(y).right),pe=v(()=>e(W)-e(y).top-e(y).bottom);var Me=Js(),J=u(Me),le=a(J);L(le,"viewBox",`0 0 ${e(_e)??""} ${e(W)??""}`);var ve=a(le);Se(ve,16,()=>Array(5),De,(w,z,k)=>{const T=v(()=>e(y).top+e(pe)*k/4);var S=Os(),A=u(S),d=o(A),c=a(d,!0);t(d),$(x=>{L(A,"x1",e(y).left),L(A,"y1",e(T)),L(A,"x2",e(_e)-e(y).right),L(A,"y2",e(T)),L(d,"x",e(y).left-8),L(d,"y",e(T)+4),_(c,x)},[()=>Math.round(e(ce)*(1-k/4))]),r(w,S)});var ae=o(ve);Se(ae,17,()=>e(g).series,De,(w,z,k)=>{const T=v(()=>et[k%et.length]),S=v(()=>e(z).data.map((q,V)=>{const me=e(y).left+e(Y)*V/(e(g).dates.length-1||1),xe=e(y).top+e(pe)-e(pe)*q/e(ce);return{x:me,y:xe}})),A=v(()=>e(S).map(q=>`${q.x},${q.y}`).join(" ")),d=v(()=>e(S)[e(S).length-1]);var c=Es(),x=u(c),h=a(x);L(h,"id",`grad-${k}`);var O=a(h),D=o(O);t(h),t(x);var B=o(x);L(B,"fill",`url(#grad-${k})`);var I=o(B),M=o(I);$(()=>{L(O,"stop-color",e(T)),L(D,"stop-color",e(T)),L(B,"points",`${e(y).left??""},${e(y).top+e(pe)} ${e(A)??""} ${e(S)[e(S).length-1].x??""},${e(y).top+e(pe)}`),L(I,"points",e(A)),L(I,"stroke",e(T)),L(M,"cx",e(d).x),L(M,"cy",e(d).y),L(M,"fill",e(T))}),r(w,c)});var ye=o(ae);Se(ye,17,()=>e(g).dates,De,(w,z,k)=>{const T=v(()=>e(y).left+e(Y)*k/(e(g).dates.length-1||1));var S=Rs();$(()=>{L(S,"x",e(T)-e(Y)/(e(g).dates.length-1||1)/2),L(S,"y",e(y).top),L(S,"width",e(Y)/(e(g).dates.length-1||1)),L(S,"height",e(pe))}),xr("mouseenter",S,()=>f(Xe,k,!0)),r(w,S)});var te=o(ye);{var fe=w=>{const z=v(()=>e(y).left+e(Y)*e(Xe)/(e(g).dates.length-1||1));var k=Fs(),T=u(k),S=o(T);Se(S,17,()=>e(g).series,De,(A,d,c)=>{const x=v(()=>et[c%et.length]),h=v(()=>e(d).data[e(Xe)]),O=v(()=>e(y).top+e(pe)-e(pe)*e(h)/e(ce));var D=Hs();$(()=>{L(D,"cx",e(z)),L(D,"cy",e(O)),L(D,"fill",e(x))}),r(A,D)}),$(()=>{L(T,"x1",e(z)),L(T,"y1",e(y).top),L(T,"x2",e(z)),L(T,"y2",e(y).top+e(pe))}),r(w,k)};m(te,w=>{e(Xe)!==null&&w(fe)})}var Ue=o(te);Se(Ue,17,()=>e(g).dates,De,(w,z,k)=>{const T=v(()=>k%Math.ceil(e(g).dates.length/7)===0||k===e(g).dates.length-1);var S=R(),A=u(S);{var d=c=>{const x=v(()=>e(y).left+e(Y)*k/(e(g).dates.length-1||1));var h=Ws();L(h,"y",e(W)-6);var O=a(h,!0);t(h),$(D=>{L(h,"x",e(x)),_(O,D)},[()=>ar(e(z))]),r(c,h)};m(A,c=>{e(T)&&c(d)})}r(w,S)}),t(le),t(J);var Ae=o(J,2);{var X=w=>{var z=Vs(),k=a(z),T=a(k,!0);t(k);var S=o(k,2);Se(S,21,()=>e(g).series,De,(A,d,c)=>{var x=zs(),h=a(x),O=o(h,2),D=a(O,!0);t(O);var B=o(O,2),I=a(B,!0);t(B),t(x),$(M=>{br(h,`background: ${et[c%et.length]??""}`),_(D,e(d).name),_(I,M)},[()=>Math.round(e(d).data[e(Xe)])]),r(A,x)}),t(S),t(z),$(A=>_(T,A),[()=>ar(e(g).dates[e(Xe)])]),r(w,z)};m(Ae,w=>{e(Xe)!==null&&w(X)})}var se=o(Ae,2);Se(se,21,()=>e(g).series,De,(w,z,k)=>{var T=qs(),S=a(T),A=o(S,2),d=a(A,!0);t(A),t(T),$(()=>{br(S,`background: ${et[k%et.length]??""}`),_(d,e(z).name)}),r(w,T)}),t(se),xr("mouseleave",le,()=>f(Xe,null)),r(ie,Me)},P=ie=>{var g=Ks(),ce=a(g);$r(ce,{class:"h-8 w-8 opacity-30"}),ke(2),t(g),r(ie,g)};m(ne,ie=>{e(At)&&e(At).dates.length>0?ie(F):ie(P,!1)},!0)}r(C,N)};m(ra,C=>{e(St)?C(aa):C(sa,!1)})}t(mr),t(Wt);var gr=o(Wt,2),Vt=a(gr),oa=a(Vt,!0);t(Vt);var na=o(Vt,2);{var ia=C=>{var N=Qs();r(C,N)},la=C=>{var N=R(),ne=u(N);Se(ne,17,()=>e(Ut),De,(F,P,ie)=>{var g=ho(),ce=a(g);ce.__click=()=>Ar(e(P).id);var y=a(ce);y.textContent=ie+1;var _e=o(y,2);Ne(_e,()=>Dr,(X,se)=>{se(X,{class:"size-9 shrink-0",children:(w,z)=>{var k=Ys(),T=u(k);{let A=v(()=>e(re)[e(P).id]?.avatarUrl??void 0);Ne(T,()=>Mr,(d,c)=>{c(d,{get src(){return e(A)},get alt(){return e(P).name}})})}var S=o(T,2);Ne(S,()=>Sr,(A,d)=>{d(A,{class:"text-xs",children:(c,x)=>{ke();var h=Qe();$(O=>_(h,O),[()=>(e(re)[e(P).id]?.displayName||e(P).name).slice(0,2).toUpperCase()]),r(c,h)},$$slots:{default:!0}})}),r(w,k)},$$slots:{default:!0}})});var W=o(_e,2),Y=a(W),pe=a(Y,!0);t(Y);var Me=o(Y,2),J=a(Me,!0);t(Me),t(W);var le=o(W,2),ve=a(le),ae=a(ve,!0);t(ve);var ye=o(ve,2);{var te=X=>{Ra(X,{class:"h-4 w-4 text-muted-foreground"})},fe=X=>{Ha(X,{class:"h-4 w-4 text-muted-foreground"})};m(ye,X=>{e(je).has(e(P).id)?X(te):X(fe,!1)})}t(le),t(ce);var Ue=o(ce,2);{var Ae=X=>{const se=v(()=>e(P).picks?.hitPick?e(j)[e(P).picks.hitPick]:null),w=v(()=>e(P).picks?.bombPick?e(j)[e(P).picks.bombPick]:null);var z=xo(),k=a(z);{var T=c=>{var x=no(),h=a(x);{var O=I=>{var M=ro();M.__click=()=>wt(e(P).picks.hitPick);var q=a(M);{var V=K=>{var de=Xs();$(()=>{L(de,"src",e(se).coverUrl),L(de,"alt",e(se).name)}),r(K,de)},me=K=>{var de=Zs(),he=a(de),Le=a(he,!0);t(he),t(de),$(()=>_(Le,e(se).name)),r(K,de)};m(q,K=>{e(se).coverUrl?K(V):K(me,!1)})}var xe=o(q,2),$e=a(xe),Ie=a($e);Qa(Ie,{class:"h-2.5 w-2.5 text-accent"}),ke(2),t($e);var Z=o($e,2);{var be=K=>{var de=eo(),he=a(de,!0);t(de),$(Le=>_(he,Le),[()=>Math.round(e(se).score)]),r(K,de)},Pe=K=>{var de=R(),he=u(de);{var Le=Ke=>{var mt=to();r(Ke,mt)};m(he,Ke=>{e(Te)&&Ke(Le)},!0)}r(K,de)};m(Z,K=>{!e(Te)&&e(se).score!=null?K(be):K(Pe,!1)})}t(xe),t(M),r(I,M)};m(h,I=>{e(se)&&I(O)})}var D=o(h,2);{var B=I=>{var M=oo();M.__click=()=>wt(e(P).picks.bombPick);var q=a(M);{var V=Z=>{var be=ao();$(()=>{L(be,"src",e(w).coverUrl),L(be,"alt",e(w).name)}),r(Z,be)},me=Z=>{var be=so(),Pe=a(be),K=a(Pe,!0);t(Pe),t(be),$(()=>_(K,e(w).name)),r(Z,be)};m(q,Z=>{e(w).coverUrl?Z(V):Z(me,!1)})}var xe=o(q,2),$e=a(xe),Ie=a($e);Ya(Ie,{class:"h-2.5 w-2.5 text-destructive"}),ke(2),t($e),t(xe),t(M),r(I,M)};m(D,I=>{e(w)&&I(B)})}t(x),r(c,x)};m(k,c=>{(e(se)||e(w))&&c(T)})}var S=o(k,2);Se(S,17,()=>Fe,De,(c,x)=>{const h=v(()=>e(x)==="winter"?"winterPicks":e(x)==="summer"?"summerPicks":"fallPicks"),O=v(()=>e(P).picks?.[e(h)]??[]);var D=R(),B=u(D);{var I=M=>{var q=uo(),V=a(q),me=a(V,!0);t(V);var xe=o(V,2);Se(xe,21,()=>e(O),De,($e,Ie)=>{const Z=v(()=>e(j)[e(Ie)]);var be=R(),Pe=u(be);{var K=de=>{var he=fo();he.__click=()=>wt(e(Ie));var Le=a(he);{var Ke=ge=>{var we=io();$(()=>{L(we,"src",e(Z).coverUrl),L(we,"alt",e(Z).name)}),r(ge,we)},mt=ge=>{var we=lo(),gt=a(we),$t=a(gt,!0);t(gt),t(we),$(()=>_($t,e(Z).name)),r(ge,we)};m(Le,ge=>{e(Z).coverUrl?ge(Ke):ge(mt,!1)})}var kt=o(Le,2),Nt=a(kt);Za(Nt,{class:"h-2.5 w-2.5 text-sky-400"});var qt=o(Nt,2);{var Jt=ge=>{var we=co(),gt=a(we,!0);t(we),$($t=>_(gt,$t),[()=>Math.round(e(Z).score)]),r(ge,we)},He=ge=>{var we=R(),gt=u(we);{var $t=Kt=>{var fa=vo();r(Kt,fa)};m(gt,Kt=>{e(Te)&&Kt($t)},!0)}r(ge,we)};m(qt,ge=>{!e(Te)&&e(Z).score!=null?ge(Jt):ge(He,!1)})}t(kt),t(he),r(de,he)};m(Pe,de=>{e(Z)&&de(K)})}r($e,be)}),t(xe),t(q),$(()=>_(me,Yt[e(x)].label)),r(M,q)};m(B,M=>{e(O).length>0&&M(I)})}r(c,D)});var A=o(S,2);{var d=c=>{var x=_o(),h=o(a(x),2);Se(h,21,()=>e(P).picks?.altPicks??[],De,(O,D)=>{const B=v(()=>e(j)[e(D)]);var I=R(),M=u(I);{var q=V=>{var me=go();me.__click=()=>wt(e(D));var xe=a(me);{var $e=Pe=>{var K=po();$(()=>{L(K,"src",e(B).coverUrl),L(K,"alt",e(B).name)}),r(Pe,K)},Ie=Pe=>{var K=mo(),de=a(K),he=a(de,!0);t(de),t(K),$(()=>_(he,e(B).name)),r(Pe,K)};m(xe,Pe=>{e(B).coverUrl?Pe($e):Pe(Ie,!1)})}var Z=o(xe,2),be=a(Z);Xa(be,{class:"h-2.5 w-2.5 text-purple-400"}),t(Z),t(me),r(V,me)};m(M,V=>{e(B)&&V(q)})}r(O,I)}),t(h),t(x),r(c,x)};m(A,c=>{(e(P).picks?.altPicks??[]).length>0&&c(d)})}t(z),r(X,z)};m(Ue,X=>{e(je).has(e(P).id)&&X(Ae)})}t(g),$((X,se)=>{hr(y,1,`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-xs font-bold ${X??""}`),_(pe,e(re)[e(P).id]?.displayName||e(P).name),_(J,e(P).name),_(ae,se)},[()=>Hr(ie),()=>Math.round(rr(e(P)))]),r(F,g)}),r(C,N)};m(na,C=>{e(H).length===0?C(ia):C(la,!1)})}t(gr),t(Ft);var _r=o(Ft,2),da=a(_r);{var ca=C=>{var N=bo(),ne=o(u(N),2),F=a(ne),P=a(F),ie=a(P);t(P);var g=o(P,2),ce=a(g);t(g),t(F),t(ne),$(y=>{_(ie,`${e(H).length??""} players competed in Season ${e(i).season??""}.`),_(ce,`${y??""} games drafted`)},[()=>e(H).reduce((y,_e)=>{const W=_e.picks,Y=(W?.hitPick?1:0)+(W?.bombPick?1:0)+(W?.winterPicks?.length??0)+(W?.summerPicks?.length??0)+(W?.fallPicks?.length??0)+(W?.altPicks?.length??0);return y+Y},0)]),r(C,N)},va=C=>{var N=Lo(),ne=o(u(N),2),F=a(ne);Fa(F,{class:"h-[calc(100vh-14rem)]",children:(P,ie)=>{var g=Mo(),ce=a(g);{var y=W=>{var Y=yo();r(W,Y)},_e=W=>{var Y=R(),pe=u(Y);Se(pe,17,()=>e(dt),De,(Me,J)=>{const le=v(()=>e(H).filter(te=>{const fe=te.picks;return fe?.hitPick===e(J).id||fe?.bombPick===e(J).id||fe?.winterPicks?.includes(e(J).id)||fe?.summerPicks?.includes(e(J).id)||fe?.fallPicks?.includes(e(J).id)||fe?.altPicks?.includes(e(J).id)}));var ve=R(),ae=u(ve);{var ye=te=>{var fe=Do();fe.__click=()=>wt(e(J).id);var Ue=a(fe);{var Ae=d=>{var c=wo();$(()=>{L(c,"src",e(J).coverUrl),L(c,"alt",e(J).name)}),r(d,c)},X=d=>{var c=ko();r(d,c)};m(Ue,d=>{e(J).coverUrl?d(Ae):d(X,!1)})}var se=o(Ue,2),w=a(se),z=a(w,!0);t(w);var k=o(w,2),T=a(k);{var S=d=>{const c=v(()=>Br(e(J).releaseDate));var x=Po(),h=u(x),O=a(h,!0);t(h);var D=o(h,2);{var B=I=>{var M=$o(),q=a(M,!0);t(M),$(()=>_(q,e(c))),r(I,M)};m(D,I=>{e(c)&&e(c)!=="Released"&&I(B)})}$(I=>_(O,I),[()=>new Date(e(J).releaseDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),r(d,x)};m(T,d=>{e(J).releaseDate&&d(S)})}t(k);var A=o(k,2);Se(A,21,()=>e(le),De,(d,c)=>{var x=So(),h=a(x,!0);t(x),$(()=>_(h,e(re)[e(c).id]?.displayName||e(c).name)),r(d,x)}),t(A),t(se),t(fe),$(()=>_(z,e(J).name)),r(te,fe)};m(ae,te=>{e(le).length>0&&te(ye)})}r(Me,ve)}),r(W,Y)};m(ce,W=>{e(dt).length===0?W(y):W(_e,!1)})}t(g),r(P,g)},$$slots:{default:!0}}),t(ne),r(C,N)};m(da,C=>{e(Te)?C(ca):C(va,!1)})}t(_r),t(fr),$(()=>{_(Et,e(i).name),_(Kr,`Season ${e(i).season??""}`),_(Qr,e(i).code),_(ta,e(Te)?"Season score progression":"Score History"),_(oa,e(Te)?"Final Standings":"Standings")}),r(Ve,rt)};m(vt,Ve=>{e(i)?Ve(Lt,!1):Ve(Ot)},!0)}r(ee,tt)};m(G,ee=>{e(ut)?ee(b):ee(E,!1)},!0)}r(s,l)};m(Fr,s=>{e(U)?s(Wr):s(zr,!1)})}t(Gt);var Vr=o(Gt,2);{let s=v(()=>e(Be)!=null&&!e(Dt)&&e(bt)==null),l=v(()=>e(Be)!=null&&e(Ze).has(e(Be)));Aa(Vr,{get open(){return e(Ct)},onOpenChange:G=>!G&&Tr(),get game(){return e(bt)},get loading(){return e(Dt)},get showNotFound(){return e(s)},get isBookmarked(){return e(l)},onToggleBookmark:Ur})}r(ue,lr),Ee()}ga(["click"]);export{ln as component};
