import{e as Q,a as d,t as f,f as N,s as k}from"../chunks/D-dPx2U_.js";import{p as V,b as p,i as W,a as X,e as Z,f as ee,s as l,g as o,t as q,c as a,d as i,$ as te,n as u,r as s}from"../chunks/VupdzXA0.js";import{i as re}from"../chunks/C1LvoQ-v.js";import{h as ae,g as se}from"../chunks/CM3jfpIc.js";import{g as oe}from"../chunks/vAetQrKr.js";import{g as z}from"../chunks/BdDNPDrY.js";import{c as ie,L as de}from"../chunks/C5kb4MaX.js";import"../chunks/M144yGS5.js";import"../chunks/Q1b3iPLy.js";import{B as C}from"../chunks/CU6rSVhR.js";import{I as F}from"../chunks/C8Rx_Hs4.js";import{L as G}from"../chunks/B8CDbutV.js";import{A as le}from"../chunks/CzxNmuNl.js";var ne=N("<!> Back",1),ue=N('<div class="rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive"> </div>'),me=N('<div class="mx-auto max-w-lg"><div class="mb-4"><!></div> <div class="glass overflow-hidden rounded-xl"><div class="h-1 w-full bg-gradient-to-r from-primary via-primary/60 to-accent/40"></div> <div class="border-b border-white/[0.06] p-5"><h1 class="text-xl font-semibold">Create League</h1> <p class="mt-1 text-sm text-muted-foreground">Name your league and configure the draft settings.</p></div> <form><div class="space-y-5 p-5"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <!></div> <div class="flex flex-col gap-2 border-t border-white/[0.06] bg-white/[0.02] p-5 sm:flex-row-reverse"><!> <!></div></form></div></div>');function Ce(J,M){V(M,!0);const S=()=>se(z()?.displayName);let g=p(""),h=p(W(S())),m=p(!1),v=p("");async function O(e){e.preventDefault();const r=z();if(r){l(m,!0),l(v,"");try{const t={};let c=E();const I=5;for(let L=0;L<I;L++)try{const n=await ie(r.uid,o(g).trim(),c,t,o(h).trim()||S());await oe(`/league/${n}`);return}catch(n){if(n instanceof Error&&n.message===de&&L<I-1){c=E();continue}throw n}}catch(t){l(v,t instanceof Error?t.message:"Failed to create league",!0)}finally{l(m,!1)}}}function E(){return Math.random().toString(36).slice(2,8).toUpperCase()}var _=me();ae("1yz7y7p",e=>{Z(()=>{te.title="Create League"})});var x=a(_),R=a(x);C(R,{variant:"ghost",href:"/dashboard",class:"gap-1.5 text-sm text-muted-foreground hover:text-foreground",children:(e,r)=>{var t=ne(),c=ee(t);le(c,{class:"h-4 w-4"}),u(),d(e,t)},$$slots:{default:!0}}),s(x);var P=i(x,2),b=i(a(P),4),$=a(b),w=a($),U=a(w);G(U,{for:"name",children:(e,r)=>{u();var t=f("League Name");d(e,t)},$$slots:{default:!0}});var T=i(U,2);F(T,{id:"name",required:!0,placeholder:"e.g. Steam Legends 2026",class:"h-10 border-white/[0.08] bg-white/[0.03]",get value(){return o(g)},set value(e){l(g,e,!0)}}),s(w);var y=i(w,2),A=a(y);G(A,{for:"studioName",children:(e,r)=>{u();var t=f("Your Studio Name");d(e,t)},$$slots:{default:!0}});var Y=i(A,2);F(Y,{id:"studioName",placeholder:"e.g. John's Studio",class:"h-10 border-white/[0.08] bg-white/[0.03]",get value(){return o(h)},set value(e){l(h,e,!0)}}),s(y);var j=i(y,2);{var H=e=>{var r=ue(),t=a(r,!0);s(r),q(()=>k(t,o(v))),d(e,r)};re(j,e=>{o(v)&&e(H)})}s($);var B=i($,2),D=a(B);C(D,{type:"submit",class:"glow-sm-primary w-full sm:w-auto sm:min-w-[140px]",get disabled(){return o(m)},children:(e,r)=>{u();var t=f();q(()=>k(t,o(m)?"Creating...":"Create League")),d(e,t)},$$slots:{default:!0}});var K=i(D,2);C(K,{variant:"ghost",href:"/dashboard",class:"w-full sm:w-auto",children:(e,r)=>{u();var t=f("Cancel");d(e,t)},$$slots:{default:!0}}),s(B),s(b),s(P),s(_),Q("submit",b,O),d(J,_),X()}export{Ce as component};
