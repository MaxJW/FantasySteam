import{a,f as v,c as L,t as ye}from"../chunks/Cz0PwdDH.js";import{a7 as Tr,E as Nr,bk as Mr,am as Br,e as cr,j as Ir,bl as zr,bm as Ar,bn as Gr,ac as Er,D as Lr,q as oe,aL as ur,p as Pe,c as u,r as d,a as Se,f as g,b as T,v as mt,u as qe,s as o,g as e,Q as Me,$ as Fr,d as f,n as te,t as U,U as Or}from"../chunks/Ct8wem7Y.js";import{j as Cr,d as Rr,s as q}from"../chunks/CIvy6oFH.js";import{p as at,r as Ie,s as St,i as G,a as Hr,b as jr}from"../chunks/Bfs_sO9o.js";import{a as st,c as ot,I as Tt,b as Je,i as Xe,d as xt,s as Jt,f as Xt}from"../chunks/BGhj1fUa.js";import{c as N}from"../chunks/bAwpQOpp.js";import{h as Dr,B as ht}from"../chunks/Dijvr1QR.js";import{b as Be}from"../chunks/D_ppcZRu.js";import{j as Ur,P as wt,D as Yr}from"../chunks/nK_5IJdR.js";import{c as qr}from"../chunks/CUsvRYbg.js";import{e as er,b as Zr,c as tr,f as Qr,a as Vr}from"../chunks/BXpgMER4.js";import{g as Kr,G as Wr,r as Jr,c as Xr,C as rr,B as ar}from"../chunks/9vxe5iIg.js";import{S as ea,b as $t,c as yt,d as _t,a as kt,T as ta,L as ra,e as aa,C as sr}from"../chunks/g5yxIljK.js";import{s as ze}from"../chunks/OA-tvGsZ.js";import{I as sa}from"../chunks/aVuIq0C4.js";import{C as oa}from"../chunks/CysCrVjV.js";import{S as la}from"../chunks/DkoLoA3y.js";const na=()=>performance.now(),Ee={tick:l=>requestAnimationFrame(l),now:()=>na(),tasks:new Set};function vr(){const l=Ee.now();Ee.tasks.forEach(t=>{t.c(l)||(Ee.tasks.delete(t),t.f())}),Ee.tasks.size!==0&&Ee.tick(vr)}function ia(l){let t;return Ee.tasks.size===0&&Ee.tick(vr),{promise:new Promise(c=>{Ee.tasks.add(t={c:l,f:c})}),abort(){Ee.tasks.delete(t)}}}function Pt(l,t){ur(()=>{l.dispatchEvent(new CustomEvent(t))})}function da(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const t=l.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(c=>c[0].toUpperCase()+c.slice(1)).join("")}function or(l){const t={},c=l.split(";");for(const m of c){const[n,_]=m.split(":");if(!n||_===void 0)break;const i=da(n.trim());t[i]=_.trim()}return t}const ca=l=>l;function lr(l,t,c,m){var n=(l&Ar)!==0,_=(l&Gr)!==0,i=n&&_,w=(l&zr)!==0,me=i?"both":n?"in":"out",X,he=t.inert,re=t.style.overflow,$,H;function de(){return ur(()=>X??=c()(t,m?.()??{},{direction:me}))}var M={is_global:w,in(){if(t.inert=he,!n){H?.abort(),H?.reset?.();return}_||$?.abort(),$=Dt(t,de(),H,1,()=>{Pt(t,"introend"),$?.abort(),$=X=void 0,t.style.overflow=re})},out(j){if(!_){j?.(),X=void 0;return}t.inert=!0,H=Dt(t,de(),$,0,()=>{Pt(t,"outroend"),j?.()})},stop:()=>{$?.abort(),H?.abort()}},Z=Tr;if((Z.nodes.t??=[]).push(M),n&&Cr){var ee=w;if(!ee){for(var I=Z.parent;I&&(I.f&Nr)!==0;)for(;(I=I.parent)&&(I.f&Mr)===0;);ee=!I||(I.f&Br)!==0}ee&&cr(()=>{Ir(()=>M.in())})}}function Dt(l,t,c,m,n){var _=m===1;if(Er(t)){var i,w=!1;return Lr(()=>{if(!w){var Z=t({direction:_?"in":"out"});i=Dt(l,Z,c,m,n)}}),{abort:()=>{w=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(c?.deactivate(),!t?.duration&&!t?.delay)return Pt(l,_?"introstart":"outrostart"),n(),{abort:oe,deactivate:oe,reset:oe,t:()=>m};const{delay:me=0,css:X,tick:he,easing:re=ca}=t;var $=[];if(_&&c===void 0&&(he&&he(0,1),X)){var H=or(X(0,1));$.push(H,H)}var de=()=>1-m,M=l.animate($,{duration:me,fill:"forwards"});return M.onfinish=()=>{M.cancel(),Pt(l,_?"introstart":"outrostart");var Z=c?.t()??1-m;c?.abort();var ee=m-Z,I=t.duration*Math.abs(ee),j=[];if(I>0){var _e=!1;if(X)for(var Le=Math.ceil(I/16.666666666666668),ge=0;ge<=Le;ge+=1){var Fe=Z+ee*re(ge/Le),Oe=or(X(Fe,1-Fe));j.push(Oe),_e||=Oe.overflow==="hidden"}_e&&(l.style.overflow="hidden"),de=()=>{var pe=M.currentTime;return Z+ee*re(pe/I)},he&&ia(()=>{if(M.playState!=="running")return!1;var pe=de();return he(pe,1-pe),!0})}M=l.animate(j,{duration:I,fill:"forwards"}),M.onfinish=()=>{de=()=>m,he?.(m,1-m),n()}},{abort:()=>{M&&(M.cancel(),M.effect=null,M.onfinish=oe)},deactivate:()=>{n=oe},reset:()=>{m===0&&he?.(1,0)},t:()=>de()}}function ua(l){const t=l-1;return t*t*t+1}function nr(l){const t=typeof l=="string"&&l.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[l,"px"]}function ir(l,{delay:t=0,duration:c=400,easing:m=ua,x:n=0,y:_=0,opacity:i=0}={}){const w=getComputedStyle(l),me=+w.opacity,X=w.transform==="none"?"":w.transform,he=me*(1-i),[re,$]=nr(n),[H,de]=nr(_);return{delay:t,duration:c,easing:m,css:(M,Z)=>`
			transform: ${X} translate(${(1-M)*re}${$}, ${(1-M)*H}${de});
			opacity: ${me-he*Z}`}}var va=v('<div data-slot="table-container" class="relative w-full overflow-x-auto"><table><!></table></div>');function fa(l,t){Pe(t,!0);let c=at(t,"ref",15,null),m=Ie(t,["$$slots","$$events","$$legacy","ref","class","children"]);var n=va(),_=u(n);st(_,w=>({"data-slot":"table",class:w,...m}),[()=>ot("w-full caption-bottom text-sm",t.class)]);var i=u(_);ze(i,()=>t.children??oe),d(_),Be(_,w=>c(w),()=>c()),d(n),a(l,n),Se()}var ma=v("<tbody><!></tbody>");function ha(l,t){Pe(t,!0);let c=at(t,"ref",15,null),m=Ie(t,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ma();st(n,i=>({"data-slot":"table-body",class:i,...m}),[()=>ot("[&_tr:last-child]:border-0",t.class)]);var _=u(n);ze(_,()=>t.children??oe),d(n),Be(n,i=>c(i),()=>c()),a(l,n),Se()}var _a=v("<td><!></td>");function Ot(l,t){Pe(t,!0);let c=at(t,"ref",15,null),m=Ie(t,["$$slots","$$events","$$legacy","ref","class","children"]);var n=_a();st(n,i=>({"data-slot":"table-cell",class:i,...m}),[()=>ot("bg-clip-padding p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0",t.class)]);var _=u(n);ze(_,()=>t.children??oe),d(n),Be(n,i=>c(i),()=>c()),a(l,n),Se()}var ga=v("<th><!></th>");function Ct(l,t){Pe(t,!0);let c=at(t,"ref",15,null),m=Ie(t,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ga();st(n,i=>({"data-slot":"table-head",class:i,...m}),[()=>ot("h-10 bg-clip-padding px-2 text-start align-middle font-medium whitespace-nowrap text-foreground [&:has([role=checkbox])]:pe-0",t.class)]);var _=u(n);ze(_,()=>t.children??oe),d(n),Be(n,i=>c(i),()=>c()),a(l,n),Se()}var pa=v("<thead><!></thead>");function ba(l,t){Pe(t,!0);let c=at(t,"ref",15,null),m=Ie(t,["$$slots","$$events","$$legacy","ref","class","children"]);var n=pa();st(n,i=>({"data-slot":"table-header",class:i,...m}),[()=>ot("[&_tr]:border-b",t.class)]);var _=u(n);ze(_,()=>t.children??oe),d(n),Be(n,i=>c(i),()=>c()),a(l,n),Se()}var xa=v("<tr><!></tr>");function dr(l,t){Pe(t,!0);let c=at(t,"ref",15,null),m=Ie(t,["$$slots","$$events","$$legacy","ref","class","children"]);var n=xa();st(n,i=>({"data-slot":"table-row",class:i,...m}),[()=>ot("border-b transition-colors data-[state=selected]:bg-muted hover:[&,&>svelte-css-wrapper]:[&>th,td]:bg-muted/50",t.class)]);var _=u(n);ze(_,()=>t.children??oe),d(n),Be(n,i=>c(i),()=>c()),a(l,n),Se()}function Rt(l,t){Pe(t,!0);let c=Ie(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];Tt(l,St({name:"arrow-up"},()=>c,{get iconNode(){return m},children:(n,_)=>{var i=L(),w=g(i);ze(w,()=>t.children??oe),a(n,i)},$$slots:{default:!0}})),Se()}function Ht(l,t){Pe(t,!0);let c=Ie(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];Tt(l,St({name:"arrow-down"},()=>c,{get iconNode(){return m},children:(n,_)=>{var i=L(),w=g(i);ze(w,()=>t.children??oe),a(n,i)},$$slots:{default:!0}})),Se()}function jt(l,t){Pe(t,!0);let c=Ie(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"m21 16-4 4-4-4"}],["path",{d:"M17 20V4"}],["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}]];Tt(l,St({name:"arrow-up-down"},()=>c,{get iconNode(){return m},children:(n,_)=>{var i=L(),w=g(i);ze(w,()=>t.children??oe),a(n,i)},$$slots:{default:!0}})),Se()}function wa(l,t){Pe(t,!0);let c=Ie(t,["$$slots","$$events","$$legacy"]);const m=[["path",{d:"M10 5H3"}],["path",{d:"M12 19H3"}],["path",{d:"M14 3v4"}],["path",{d:"M16 17v4"}],["path",{d:"M21 12h-9"}],["path",{d:"M21 19h-5"}],["path",{d:"M21 5h-7"}],["path",{d:"M8 10v4"}],["path",{d:"M8 12H3"}]];Tt(l,St({name:"sliders-horizontal"},()=>c,{get iconNode(){return m},children:(n,_)=>{var i=L(),w=g(i);ze(w,()=>t.children??oe),a(n,i)},$$slots:{default:!0}})),Se()}var $a=v("<!> <span>Show filters</span>",1),ya=v('<div class="glass flex items-center rounded-xl px-3 py-2 transition-all duration-200 ease-out"><!></div>'),ka=v("<!> <span>Hide filters</span>",1),Pa=v("<!> <!>",1),Sa=v("<!> <!>",1),Ta=v("<!> <!>",1),Na=v("<!> <!>",1),Ma=v("<!> <!>",1),Ba=v('<span class="shrink-0 text-xs text-muted-foreground"> </span>'),Ia=v('<div class="glass flex flex-col gap-4 rounded-xl p-4 transition-all duration-200 ease-out sm:p-3"><!> <div class="relative w-full min-w-0"><!> <!></div> <div class="flex flex-col gap-4 sm:flex-row sm:flex-wrap sm:items-center sm:gap-3"><div class="grid w-full grid-cols-2 gap-3 sm:flex sm:w-auto sm:grid-cols-none sm:flex-wrap sm:items-center"><div class="flex min-w-0 items-center gap-2"><!> <!></div> <div class="flex min-w-0 items-center gap-2"><!> <!></div></div> <div class="flex w-full min-w-0 items-center gap-2 sm:w-auto sm:flex-initial"><!> <!></div> <div class="flex w-full flex-wrap items-center gap-3 sm:w-auto sm:flex-initial"><button type="button" role="checkbox" aria-label="Hide released" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/8 bg-white/4 px-3 transition-colors hover:bg-white/6"><span><!></span> <span class="text-sm whitespace-nowrap text-foreground">Hide released</span></button> <button type="button" role="checkbox" aria-label="Bookmarked only" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/8 bg-white/4 px-3 transition-colors hover:bg-white/6"><span><!></span> <span class="text-sm whitespace-nowrap text-foreground">Bookmarked only</span></button></div> <div class="flex w-full flex-wrap items-center gap-3 sm:ml-auto sm:w-auto"><div class="flex min-w-0 flex-1 items-center gap-2 sm:flex-initial"><!></div> <div class="flex shrink-0 items-center gap-0.5 rounded-lg border border-white/8 bg-white/4 p-0.5"><!> <!></div> <!></div></div></div>'),za=v('<div class="aspect-2/3 animate-fade-in-up rounded-lg bg-white/4"></div>'),Aa=v('<div class="grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),Ga=v('<div class="glass flex flex-col items-center justify-center gap-4 rounded-xl py-12 text-center"><p class="text-sm text-destructive"> </p> <!></div>'),Ea=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No game lists available.</div>'),La=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">Select a year to browse games.</div>'),Fa=v('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground"> </div>'),Oa=v('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Date <!></button>'),Ca=v('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-left text-xs hover:text-foreground">Game Name <!></button>'),Ra=v('<button type="button" class="ml-auto flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Score <!></button>'),Ha=v("<!> <!> <!>",1),ja=v('<span class="flex items-center gap-2"><!> <span class="truncate"> </span></span>'),Da=v("<!> <!> <!>",1),Ua=v("<!> <!>",1),Ya=v('<div class="max-w-full overflow-x-auto rounded-xl border border-white/6"><!></div>'),qa=v('<img alt="" class="absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]" loading="lazy" width="264" height="396"/>'),Za=v('<div class="flex h-full w-full items-center justify-center p-3 text-center text-sm text-muted-foreground"> </div>'),Qa=v('<div class="absolute top-2 right-2 rounded-full bg-black/60 p-1" aria-hidden="true"><!></div>'),Va=v('<span class="mt-0.5 font-mono text-[10px] text-white/80"> </span>'),Ka=v('<button type="button" class="group relative aspect-2/3 w-full animate-fade-in-up cursor-pointer overflow-hidden rounded-lg border border-white/6 bg-white/3 text-left transition-all hover:border-white/15 hover:shadow-lg hover:shadow-primary/5 focus:ring-2 focus:ring-ring focus:outline-none"><!> <!> <div class="absolute inset-x-0 bottom-0 flex min-h-[50%] flex-col justify-end bg-linear-to-t from-black/90 via-black/40 to-transparent p-3 opacity-100 transition-opacity duration-200 sm:opacity-0 sm:group-hover:opacity-100"><span class="line-clamp-2 text-sm font-medium text-white"> </span> <span class="mt-0.5 text-[10px] text-white/70"> </span> <!></div></button>'),Wa=v('<div class="grid grid-cols-2 gap-2 min-[400px]:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),Ja=v('<div class="py-3 text-center text-xs text-muted-foreground">Loading more…</div>'),Xa=v('<div class="py-2 text-center text-[10px] text-muted-foreground"> </div>'),es=v('<div class="h-4 w-full" role="presentation"></div> <!>',1),ts=v('<button type="button" aria-label="Back to top" class="glass fixed right-6 bottom-24 z-30 flex size-12 cursor-pointer items-center justify-center rounded-full shadow-lg transition-transform duration-200 hover:scale-105 md:bottom-6"><!></button>'),rs=v('<div><h1 class="pb-2 text-3xl font-bold tracking-tight">Browse Games</h1> <div class="sticky top-14 z-30 -mx-4 px-4 pt-3 pb-6 md:top-16"><!></div> <div class="h-px w-full" aria-hidden="true"></div> <!> <!> <!></div> <!>',1);function xs(l,t){Pe(t,!0);const c=()=>jr(qr,"$currentUser",m),[m,n]=Hr(),_=24,i=[{value:"date-asc",label:"Date (oldest first)"},{value:"date-desc",label:"Date (newest first)"},{value:"name-asc",label:"Name (A–Z)"},{value:"name-desc",label:"Name (Z–A)"},{value:"score-asc",label:"Score (low–high)"},{value:"score-desc",label:"Score (high–low)"}];let w=T("date-asc"),me=Me(()=>e(w).split("-")[0]),X=Me(()=>e(w).split("-")[1]),he=Me(()=>i.find(r=>r.value===e(w))?.label??e(w)),re=T(mt([])),$=T(""),H=T(""),de=T(mt([])),M=T(mt([])),Z=T(!1),ee=T(!1),I=T(mt(new Set)),j=T(mt([])),_e=T(0),Le=T(!0),ge=T(!1),Fe=T(!1),Oe=T("grid"),pe=T(""),Ut=T(""),Nt=T(!1),be=T(null),lt=T(null),gt=T(!1),Mt=T(void 0),Ce=T(null),Bt=T(!1),It=T(void 0),pt=T(void 0),bt=T(void 0),Yt=T(0);const nt=Me(()=>c()??null);function fr(){const r=window.scrollY,s=performance.now(),y=Math.min(800,Math.max(400,r*.2));function Q(z){return z<.5?4*z*z*z:1-Math.pow(-2*z+2,3)/2}function xe(z){const F=z-s,K=Math.min(1,F/y),ke=Q(K);window.scrollTo(0,r*(1-ke)),K<1&&requestAnimationFrame(xe)}requestAnimationFrame(xe)}async function qt(r){const s=r?e(pt)?.offsetHeight??0:e(bt)?.offsetHeight??0;o(Bt,r,!0),await Or();const y=r?e(bt)?.offsetHeight??0:e(pt)?.offsetHeight??0;window.scrollBy(0,y-s)}async function mr(){o(Ce,null),Qr(),o(Le,!0),o(ge,!0);try{const r=await er();o(re,r.map(String),!0),!e($)&&e(re).length>0&&o($,e(re)[0],!0),e($)&&await it()}catch(r){o(Ce,r instanceof Error?r.message:"Load failed",!0)}finally{o(Le,!1),o(ge,!1)}}async function zt(r){o(be,r,!0),o(Nt,!0),o(lt,null),o(gt,!0);try{const s=await Vr(r);o(lt,s?{...s,id:r}:null,!0)}finally{o(gt,!1)}}function hr(){o(Nt,!1),o(be,null),o(lt,null)}async function _r(){if(!e(nt)||!e(be)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(nt)),console.log("selectedGameId",e(be));return}e(I).has(e(be))?(await Jr(e(nt).uid,e(be)),o(I,new Set([...e(I)].filter(s=>s!==e(be))),!0)):(await Xr(e(nt).uid,e(be)),o(I,new Set([...e(I),e(be)]),!0)),e(ee)&&it()}qe(()=>{o(Ce,null),er().then(r=>{o(re,r.map(String),!0),o(Le,!1),!e($)&&e(re).length>0&&o($,e(re)[0],!0)}).catch(r=>{o(Ce,r instanceof Error?r.message:"Load failed",!0),o(Le,!1)})}),qe(()=>{const r=e($)?parseInt(e($),10):0;if(!r||Number.isNaN(r)){o(de,[],!0);return}Zr(r).then(s=>o(de,s,!0))}),qe(()=>{const r=e(nt);if(!r){o(I,new Set,!0);return}Kr(r.uid).then(s=>o(I,s,!0))});function Zt(r){const s={sortBy:e(me),order:e(X),search:e(pe).trim()||void 0,hideReleased:e(Z)||void 0,genres:e(M).length?e(M):void 0};if(e(H)){const{start:y,end:Q}=Ur(e(H),r);s.releaseFrom=y,s.releaseTo=Q}return e(ee)&&(s.bookmarkedOnly=!0,s.bookmarkedIds=e(I)),s}async function it(){const r=e($)?parseInt(e($),10):0;if(!(!r||Number.isNaN(r))){o(ge,!0),o(j,[],!0),o(_e,0);try{const{games:s,total:y}=await tr(r,_,0,Zt(r));o(j,s,!0),o(_e,y,!0),o(Ce,null)}catch(s){o(Ce,s instanceof Error?s.message:"Load failed",!0)}finally{o(ge,!1)}}}async function gr(){const r=e($)?parseInt(e($),10):0;if(!(!r||Number.isNaN(r)||e(Fe)||e(ge))&&!(e(j).length>=e(_e))){o(Fe,!0);try{const{games:s,total:y}=await tr(r,_,e(j).length,Zt(r));o(j,[...e(j),...s],!0),o(_e,y,!0)}finally{o(Fe,!1)}}}function At(r){e(me)===r?o(w,e(X)==="asc"?`${r}-desc`:`${r}-asc`,!0):o(w,`${r}-asc`),it()}qe(()=>{e(w),e(H),e(Z),e(M),e(ee),e($)&&it()}),qe(()=>{if(e(pe)===e(Ut))return;const r=e(pe),s=setTimeout(()=>{o(Ut,r,!0),e($)&&it()},300);return()=>clearTimeout(s)}),qe(()=>{const r=e(Mt);if(!r)return;const s=new IntersectionObserver(y=>{const[Q]=y;Q?.isIntersecting&&e(j).length>0&&e(j).length<e(_e)&&!e(Fe)&&!e(ge)&&gr()},{rootMargin:"200px 0px 0px 0px",threshold:0});return s.observe(r),()=>s.disconnect()}),qe(()=>{const r=e(It);if(!r)return;const s=new IntersectionObserver(([y])=>{y&&o(Bt,!y.isIntersecting)},{threshold:0,rootMargin:"-60px 0px 0px 0px"});return s.observe(r),()=>s.disconnect()}),qe(()=>{const r=()=>o(Yt,window.scrollY,!0);return window.addEventListener("scroll",r,{passive:!0}),r(),()=>window.removeEventListener("scroll",r)});var Qt=rs();Dr("6rw1dw",r=>{cr(()=>{Fr.title="Browse Games"})});var Gt=g(Qt),Et=f(u(Gt),2),pr=u(Et);{var br=r=>{var s=ya(),y=u(s);ht(y,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-foreground hover:bg-white/6",onclick:()=>qt(!1),"aria-label":"Show filters",children:(Q,xe)=>{var z=$a(),F=g(z);wa(F,{class:"h-4 w-4"}),te(2),a(Q,z)},$$slots:{default:!0}}),d(s),Be(s,Q=>o(bt,Q),()=>e(bt)),a(r,s)},xr=r=>{var s=Ia(),y=u(s);ht(y,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-muted-foreground hover:bg-white/6 hover:text-foreground",onclick:()=>qt(!0),"aria-label":"Hide filters",children:(p,O)=>{var k=ka(),ue=g(k);rr(ue,{class:"h-4 w-4"}),te(2),a(p,k)},$$slots:{default:!0}});var Q=f(y,2),xe=u(Q);ea(xe,{class:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"});var z=f(xe,2);sa(z,{placeholder:"Search games...",class:"border-white/8 bg-white/4 pl-9",get value(){return e(pe)},set value(p){o(pe,p,!0)}}),d(Q);var F=f(Q,2),K=u(F),ke=u(K),Re=u(ke);oa(Re,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var le=f(Re,2);N(le,()=>kt,(p,O)=>{O(p,{type:"single",get value(){return e($)},set value(k){o($,k,!0)},children:(k,ue)=>{var ae=Pa(),C=g(ae);N(C,()=>$t,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:w-[120px] sm:flex-initial",children:(h,B)=>{te();var b=ye();U(()=>q(b,e($)||"Year")),a(h,b)},$$slots:{default:!0}})});var ve=f(C,2);N(ve,()=>yt,(R,P)=>{P(R,{children:(h,B)=>{var b=L(),se=g(b);Je(se,17,()=>e(re),Xe,(ne,V)=>{var E=L(),Y=g(E);{let W=Me(()=>String(e(V))),ie=Me(()=>String(e(V)));N(Y,()=>_t,(S,J)=>{J(S,{get value(){return e(W)},get label(){return e(ie)},children:(D,$e)=>{te();var x=ye();U(()=>q(x,e(V))),a(D,x)},$$slots:{default:!0}})})}a(ne,E)}),a(h,b)},$$slots:{default:!0}})}),a(k,ae)},$$slots:{default:!0}})}),d(ke);var we=f(ke,2),He=u(we);la(He,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var Lt=f(He,2);N(Lt,()=>kt,(p,O)=>{O(p,{type:"single",get value(){return e(H)},set value(k){o(H,k,!0)},children:(k,ue)=>{var ae=Ta(),C=g(ae);N(C,()=>$t,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:w-[130px] sm:flex-initial",children:(h,B)=>{te();var b=ye();U(()=>q(b,e(H)?wt[e(H)].label:"All seasons")),a(h,b)},$$slots:{default:!0}})});var ve=f(C,2);N(ve,()=>yt,(R,P)=>{P(R,{children:(h,B)=>{var b=Sa(),se=g(b);N(se,()=>_t,(V,E)=>{E(V,{value:"",label:"All seasons",children:(Y,W)=>{te();var ie=ye("All seasons");a(Y,ie)},$$slots:{default:!0}})});var ne=f(se,2);Je(ne,17,()=>Yr,Xe,(V,E)=>{var Y=L(),W=g(Y);N(W,()=>_t,(ie,S)=>{S(ie,{get value(){return e(E)},get label(){return wt[e(E)].label},children:(J,D)=>{te();var $e=ye();U(()=>q($e,wt[e(E)].label)),a(J,$e)},$$slots:{default:!0}})}),a(V,Y)}),a(h,b)},$$slots:{default:!0}})}),a(k,ae)},$$slots:{default:!0}})}),d(we),d(K);var dt=f(K,2),Ae=u(dt);ta(Ae,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var et=f(Ae,2);N(et,()=>kt,(p,O)=>{O(p,{type:"multiple",get value(){return e(M)},set value(k){o(M,k,!0)},children:(k,ue)=>{var ae=Na(),C=g(ae);N(C,()=>$t,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:max-w-[180px] sm:min-w-[140px] sm:flex-initial",children:(h,B)=>{te();var b=ye();U(()=>q(b,e(M).length>1?`${e(M).length} genres`:e(M)[0]??"Genre")),a(h,b)},$$slots:{default:!0}})});var ve=f(C,2);N(ve,()=>yt,(R,P)=>{P(R,{children:(h,B)=>{var b=L(),se=g(b);Je(se,17,()=>e(de),Xe,(ne,V)=>{var E=L(),Y=g(E);N(Y,()=>_t,(W,ie)=>{ie(W,{get value(){return e(V)},get label(){return e(V)},children:(S,J)=>{te();var D=ye();U(()=>q(D,e(V))),a(S,D)},$$slots:{default:!0}})}),a(ne,E)}),a(h,b)},$$slots:{default:!0}})}),a(k,ae)},$$slots:{default:!0}})}),d(dt);var ct=f(dt,2),Ze=u(ct);Ze.__click=()=>o(Z,!e(Z));var ut=u(Ze),je=u(ut);{var De=p=>{sr(p,{class:"h-2.5 w-2.5"})};G(je,p=>{e(Z)&&p(De)})}d(ut),te(2),d(Ze);var Ue=f(Ze,2);Ue.__click=()=>o(ee,!e(ee));var vt=u(Ue),Ft=u(vt);{var Ye=p=>{sr(p,{class:"h-2.5 w-2.5"})};G(Ft,p=>{e(ee)&&p(Ye)})}d(vt),te(2),d(Ue),d(ct);var Te=f(ct,2),Qe=u(Te),ce=u(Qe);N(ce,()=>kt,(p,O)=>{O(p,{type:"single",get value(){return e(w)},set value(k){o(w,k,!0)},children:(k,ue)=>{var ae=Ma(),C=g(ae);N(C,()=>$t,(R,P)=>{P(R,{class:"min-w-0 flex-1 border-white/8 bg-white/4 sm:w-[170px] sm:flex-initial",children:(h,B)=>{te();var b=ye();U(()=>q(b,e(he))),a(h,b)},$$slots:{default:!0}})});var ve=f(C,2);N(ve,()=>yt,(R,P)=>{P(R,{children:(h,B)=>{var b=L(),se=g(b);Je(se,17,()=>i,Xe,(ne,V)=>{var E=L(),Y=g(E);N(Y,()=>_t,(W,ie)=>{ie(W,{get value(){return e(V).value},get label(){return e(V).label},children:(S,J)=>{te();var D=ye();U(()=>q(D,e(V).label)),a(S,D)},$$slots:{default:!0}})}),a(ne,E)}),a(h,b)},$$slots:{default:!0}})}),a(k,ae)},$$slots:{default:!0}})}),d(Qe);var Ve=f(Qe,2),Ne=u(Ve);{let p=Me(()=>e(Oe)==="table"?"secondary":"ghost");ht(Ne,{get variant(){return e(p)},size:"icon",class:"size-7 ",onclick:()=>o(Oe,"table"),"aria-label":"Table view",children:(O,k)=>{ra(O,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}var ft=f(Ne,2);{let p=Me(()=>e(Oe)==="grid"?"secondary":"ghost");ht(ft,{get variant(){return e(p)},size:"icon",class:"size-7 ",onclick:()=>o(Oe,"grid"),"aria-label":"Grid view",children:(O,k)=>{aa(O,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}d(Ve);var tt=f(Ve,2);{var rt=p=>{var O=Ba(),k=u(O);d(O),U(()=>q(k,`${e(_e)??""} games`)),a(p,O)};G(tt,p=>{e(_e)>0&&!e(ge)&&p(rt)})}d(Te),d(F),d(s),Be(s,p=>o(pt,p),()=>e(pt)),U(()=>{xt(Ze,"aria-checked",e(Z)),Jt(ut,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/8 bg-white/4 transition-colors ${e(Z)?"border-primary bg-primary text-primary-foreground":""}`),xt(Ue,"aria-checked",e(ee)),Jt(vt,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/8 bg-white/4 transition-colors ${e(ee)?"border-primary bg-primary text-primary-foreground":""}`)}),a(r,s)};G(pr,r=>{e(Bt)?r(br):r(xr,!1)})}d(Et);var Vt=f(Et,2);Be(Vt,r=>o(It,r),()=>e(It));var Kt=f(Vt,2);{var wr=r=>{var s=Aa();Je(s,20,()=>Array(12),Xe,(y,Q,xe)=>{var z=za();Xt(z,`animation-delay: ${xe*.03}s`),a(y,z)}),d(s),a(r,s)},$r=r=>{var s=L(),y=g(s);{var Q=z=>{var F=Ga(),K=u(F),ke=u(K,!0);d(K);var Re=f(K,2);ht(Re,{onclick:mr,variant:"outline",children:(le,we)=>{te();var He=ye("Retry");a(le,He)},$$slots:{default:!0}}),d(F),U(()=>q(ke,e(Ce))),a(z,F)},xe=z=>{var F=L(),K=g(F);{var ke=le=>{var we=Ea();a(le,we)},Re=le=>{var we=L(),He=g(we);{var Lt=Ae=>{var et=La();a(Ae,et)},dt=Ae=>{var et=L(),ct=g(et);{var Ze=je=>{var De=Fa(),Ue=u(De);d(De),U(()=>q(Ue,`No games found${e(pe)?` matching "${e(pe)}"`:e(H)?` for ${e($)} ${wt[e(H)].label}`:` for ${e($)}`}.`)),a(je,De)},ut=je=>{var De=L(),Ue=g(De);{var vt=Ye=>{var Te=Ya(),Qe=u(Te);N(Qe,()=>fa,(ce,Ve)=>{Ve(ce,{class:"w-full min-w-0 table-fixed",children:(Ne,ft)=>{var tt=Ua(),rt=g(tt);N(rt,()=>ba,(O,k)=>{k(O,{children:(ue,ae)=>{var C=L(),ve=g(C);N(ve,()=>dr,(R,P)=>{P(R,{class:"border-white/6 hover:bg-transparent",children:(h,B)=>{var b=Ha(),se=g(b);N(se,()=>Ct,(E,Y)=>{Y(E,{class:"w-[120px]",children:(W,ie)=>{var S=Oa();S.__click=()=>At("date");var J=f(u(S));{var D=x=>{var fe=L(),Ke=g(fe);{var Ge=A=>{Rt(A,{class:"size-3 "})},We=A=>{Ht(A,{class:"size-3 "})};G(Ke,A=>{e(X)==="asc"?A(Ge):A(We,!1)})}a(x,fe)},$e=x=>{jt(x,{class:"size-3  opacity-40"})};G(J,x=>{e(me)==="date"?x(D):x($e,!1)})}d(S),a(W,S)},$$slots:{default:!0}})});var ne=f(se,2);N(ne,()=>Ct,(E,Y)=>{Y(E,{class:"min-w-0",children:(W,ie)=>{var S=Ca();S.__click=()=>At("name");var J=f(u(S));{var D=x=>{var fe=L(),Ke=g(fe);{var Ge=A=>{Rt(A,{class:"size-3 "})},We=A=>{Ht(A,{class:"size-3 "})};G(Ke,A=>{e(X)==="asc"?A(Ge):A(We,!1)})}a(x,fe)},$e=x=>{jt(x,{class:"size-3  opacity-40"})};G(J,x=>{e(me)==="name"?x(D):x($e,!1)})}d(S),a(W,S)},$$slots:{default:!0}})});var V=f(ne,2);N(V,()=>Ct,(E,Y)=>{Y(E,{class:"w-[80px] text-right",children:(W,ie)=>{var S=Ra();S.__click=()=>At("score");var J=f(u(S));{var D=x=>{var fe=L(),Ke=g(fe);{var Ge=A=>{Rt(A,{class:"size-3 "})},We=A=>{Ht(A,{class:"size-3 "})};G(Ke,A=>{e(X)==="asc"?A(Ge):A(We,!1)})}a(x,fe)},$e=x=>{jt(x,{class:"size-3  opacity-40"})};G(J,x=>{e(me)==="score"?x(D):x($e,!1)})}d(S),a(W,S)},$$slots:{default:!0}})}),a(h,b)},$$slots:{default:!0}})}),a(ue,C)},$$slots:{default:!0}})});var p=f(rt,2);N(p,()=>ha,(O,k)=>{k(O,{children:(ue,ae)=>{var C=L(),ve=g(C);Je(ve,17,()=>e(j),Xe,(R,P)=>{var h=L(),B=g(h);N(B,()=>dr,(b,se)=>{se(b,{role:"button",tabindex:0,class:"cursor-pointer border-white/4 transition-colors hover:bg-white/3",onclick:()=>zt(e(P).id),onkeydown:ne=>ne.key==="Enter"&&zt(e(P).id),children:(ne,V)=>{var E=Da(),Y=g(E);N(Y,()=>Ot,(S,J)=>{J(S,{class:"text-xs text-muted-foreground",children:(D,$e)=>{te();var x=ye();U(()=>q(x,e(P).releaseDate??"TBA")),a(D,x)},$$slots:{default:!0}})});var W=f(Y,2);N(W,()=>Ot,(S,J)=>{J(S,{class:"min-w-0 overflow-hidden text-sm font-medium",children:(D,$e)=>{var x=ja(),fe=u(x);{var Ke=A=>{ar(A,{class:"h-3.5 w-3.5 shrink-0 text-yellow-400"})};G(fe,A=>{e(I).has(e(P).id)&&A(Ke)})}var Ge=f(fe,2),We=u(Ge,!0);d(Ge),d(x),U(()=>{xt(Ge,"title",e(P).name),q(We,e(P).name)}),a(D,x)},$$slots:{default:!0}})});var ie=f(W,2);N(ie,()=>Ot,(S,J)=>{J(S,{class:"text-right font-mono text-xs text-muted-foreground",children:(D,$e)=>{te();var x=ye();U(fe=>q(x,fe),[()=>e(P).score!=null?Math.round(e(P).score).toLocaleString():"—"]),a(D,x)},$$slots:{default:!0}})}),a(ne,E)},$$slots:{default:!0}})}),a(R,h)}),a(ue,C)},$$slots:{default:!0}})}),a(Ne,tt)},$$slots:{default:!0}})}),d(Te),a(Ye,Te)},Ft=Ye=>{var Te=Wa();Je(Te,21,()=>e(j),Xe,(Qe,ce,Ve)=>{var Ne=Ka();Ne.__click=()=>zt(e(ce).id);var ft=u(Ne);{var tt=h=>{var B=qa();U(()=>xt(B,"src",e(ce).coverUrl)),a(h,B)},rt=h=>{var B=Za(),b=u(B,!0);d(B),U(()=>q(b,e(ce).name)),a(h,B)};G(ft,h=>{e(ce).coverUrl?h(tt):h(rt,!1)})}var p=f(ft,2);{var O=h=>{var B=Qa(),b=u(B);ar(b,{class:"h-4 w-4 text-yellow-400"}),d(B),a(h,B)};G(p,h=>{e(I).has(e(ce).id)&&h(O)})}var k=f(p,2),ue=u(k),ae=u(ue,!0);d(ue);var C=f(ue,2),ve=u(C,!0);d(C);var R=f(C,2);{var P=h=>{var B=Va(),b=u(B);d(B),U(se=>q(b,`Score: ${se??""}`),[()=>Math.round(e(ce).score).toLocaleString()]),a(h,B)};G(R,h=>{e(ce).score!=null&&h(P)})}d(k),d(Ne),U(h=>{Xt(Ne,`animation-delay: ${h??""}s`),q(ae,e(ce).name),q(ve,e(ce).releaseDate??"TBA")},[()=>Math.min(Ve*.02,.3)]),a(Qe,Ne)}),d(Te),a(Ye,Te)};G(Ue,Ye=>{e(Oe)==="table"?Ye(vt):Ye(Ft,!1)},!0)}a(je,De)};G(ct,je=>{e(j).length===0?je(Ze):je(ut,!1)},!0)}a(Ae,et)};G(He,Ae=>{e($)?Ae(dt,!1):Ae(Lt)},!0)}a(le,we)};G(K,le=>{e(re).length===0?le(ke):le(Re,!1)},!0)}a(z,F)};G(y,z=>{e(Ce)?z(Q):z(xe,!1)},!0)}a(r,s)};G(Kt,r=>{e(Le)||e(ge)?r(wr):r($r,!1)})}var Wt=f(Kt,2);{var yr=r=>{var s=es(),y=g(s);Be(y,F=>o(Mt,F),()=>e(Mt));var Q=f(y,2);{var xe=F=>{var K=Ja();a(F,K)},z=F=>{var K=L(),ke=g(K);{var Re=le=>{var we=Xa(),He=u(we);d(we),U(()=>q(He,`${e(j).length??""} of ${e(_e)??""} games`)),a(le,we)};G(ke,le=>{e(j).length<e(_e)&&le(Re)},!0)}a(F,K)};G(Q,F=>{e(Fe)?F(xe):F(z,!1)})}a(r,s)};G(Wt,r=>{e(j).length>0&&r(yr)})}var kr=f(Wt,2);{var Pr=r=>{var s=ts();s.__click=fr;var y=u(s);rr(y,{class:"h-6 w-6 text-foreground"}),d(s),lr(1,s,()=>ir,()=>({y:8,duration:200})),lr(2,s,()=>ir,()=>({y:8,duration:150})),a(r,s)};G(kr,r=>{e(Yt)>300&&r(Pr)})}d(Gt);var Sr=f(Gt,2);{let r=Me(()=>e(be)!=null&&!e(gt)&&e(lt)==null),s=Me(()=>e(be)!=null&&e(I).has(e(be)));Wr(Sr,{get open(){return e(Nt)},onOpenChange:y=>!y&&hr(),get game(){return e(lt)},get loading(){return e(gt)},get showNotFound(){return e(r)},get isBookmarked(){return e(s)},onToggleBookmark:_r})}a(l,Qt),Se(),n()}Rr(["click"]);export{xs as component};
