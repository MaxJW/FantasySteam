import{p as pa,c as R,a as r,f as i,t as Qe,d as _t}from"../chunks/C-txDrIU.js";import{p as Oe,f as u,a as Ee,g as e,c as a,q as Ye,r as t,P as v,b as oe,v as st,u as ot,s as f,Q as ma,d as o,$ as ga,n as ke,t as P}from"../chunks/B3kg7STf.js";import{d as _a,s as _,e as xr}from"../chunks/eHwK_pec.js";import{p as Pt,i as m,r as ze,s as ft}from"../chunks/BLFEfHvi.js";import{a as er,c as tr,I as xt,b as Se,i as De,s as hr,d as L,f as br}from"../chunks/C2sax5ki.js";import{c as Ce}from"../chunks/WTJoWbb0.js";import{h as xa,B as nt}from"../chunks/D0K52Ymi.js";import{g as ha}from"../chunks/D_9Bzrfm.js";import{g as ba}from"../chunks/CSwjyKrx.js";import{p as ya}from"../chunks/DgpByA_3.js";import{g as yr}from"../chunks/V1ThnXvC.js";import{l as Nt,j as jt,P as Xt,D as Fe,e as wa,a as ka,b as $a}from"../chunks/CzOqzXZD.js";import{a as Zt,f as Pa,s as Sa,h as Da,i as Ma,k as La,l as Ca}from"../chunks/DNBGoQ58.js";import{a as wr,d as Na}from"../chunks/DOiIeLCc.js";import{a as ja,P as Ta}from"../chunks/BIbVJvQ_.js";import{d as Ua,g as Ba,G as Ia,r as Aa,c as Ga,D as Oa,a as Ea,b as Ra,C as Ha,e as Fa,S as Wa}from"../chunks/WNVAp9EX.js";import{I as za}from"../chunks/CEbPfyDv.js";import{L as kr}from"../chunks/CJ9xks4X.js";import{B as Va}from"../chunks/DHMx5tZ5.js";import{T as $r,S as qa}from"../chunks/CDqn2TO2.js";import{s as We}from"../chunks/1uktLeRY.js";import{b as Nr}from"../chunks/TCx7b1jQ.js";import{c as Ja,b as Pr,m as Ka}from"../chunks/B6K_Q3kx.js";import{A as Sr,a as Dr}from"../chunks/C1BlhXKC.js";import{A as Mr}from"../chunks/B_u_t58v.js";import{A as Lr}from"../chunks/5WwWcRaY.js";import{T as Qa}from"../chunks/DkRY_Xip.js";import{T as Ya,B as Xa,S as Za}from"../chunks/CIti5ivr.js";import{S as es}from"../chunks/DeZ0sK82.js";var ts=i("<div><!></div>");function rs(ue,p){const n=pa();Oe(p,!0);let H=Pt(p,"id",19,()=>Ja(n)),N=Pt(p,"ref",15,null),re=ze(p,["$$slots","$$events","$$legacy","id","children","child","ref"]);const U=Ua.create({id:Pr(()=>H()),ref:Pr(()=>N(),Ne=>N(Ne))}),Q=v(()=>Ka(re,U.props));var Re=R(),ht=u(Re);{var it=Ne=>{var je=R(),dt=u(je);We(dt,()=>p.child,()=>({props:e(Q)})),r(Ne,je)},lt=Ne=>{var je=ts();er(je,()=>({...e(Q)}));var dt=a(je);We(dt,()=>p.children??Ye),t(je),r(Ne,je)};m(ht,Ne=>{p.child?Ne(it):Ne(lt,!1)})}r(ue,Re),Ee()}var as=i("<div><!></div>");function ss(ue,p){Oe(p,!0);let n=Pt(p,"ref",15,null),H=ze(p,["$$slots","$$events","$$legacy","ref","class","children"]);var N=as();er(N,U=>({"data-slot":"dialog-footer",class:U,...H}),[()=>tr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",p.class)]);var re=a(N);We(re,()=>p.children??Ye),t(N),Nr(N,U=>n(U),()=>n()),r(ue,N),Ee()}var os=i("<div><!></div>");function ns(ue,p){Oe(p,!0);let n=Pt(p,"ref",15,null),H=ze(p,["$$slots","$$events","$$legacy","ref","class","children"]);var N=os();er(N,U=>({"data-slot":"dialog-header",class:U,...H}),[()=>tr("flex flex-col gap-2 text-center sm:text-start",p.class)]);var re=a(N);We(re,()=>p.children??Ye),t(N),Nr(N,U=>n(U),()=>n()),r(ue,N),Ee()}function is(ue,p){Oe(p,!0);let n=Pt(p,"ref",15,null),H=ze(p,["$$slots","$$events","$$legacy","ref","class"]);var N=R(),re=u(N);{let U=v(()=>tr("text-sm text-muted-foreground",p.class));Ce(re,()=>rs,(Q,Re)=>{Re(Q,ft({"data-slot":"dialog-description",get class(){return e(U)}},()=>H,{get ref(){return n()},set ref(ht){n(ht)}}))})}r(ue,N),Ee()}function ls(ue,p){Oe(p,!0);let n=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];xt(ue,ft({name:"settings"},()=>n,{get iconNode(){return H},children:(N,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(N,U)},$$slots:{default:!0}})),Ee()}function ds(ue,p){Oe(p,!0);let n=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];xt(ue,ft({name:"trash-2"},()=>n,{get iconNode(){return H},children:(N,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(N,U)},$$slots:{default:!0}})),Ee()}function Cr(ue,p){Oe(p,!0);let n=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];xt(ue,ft({name:"circle-check-big"},()=>n,{get iconNode(){return H},children:(N,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(N,U)},$$slots:{default:!0}})),Ee()}function cs(ue,p){Oe(p,!0);let n=ze(p,["$$slots","$$events","$$legacy"]);const H=[["circle",{cx:"12",cy:"12",r:"10"}]];xt(ue,ft({name:"circle"},()=>n,{get iconNode(){return H},children:(N,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(N,U)},$$slots:{default:!0}})),Ee()}function Tt(ue,p){Oe(p,!0);let n=ze(p,["$$slots","$$events","$$legacy"]);const H=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];xt(ue,ft({name:"loader"},()=>n,{get iconNode(){return H},children:(N,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(N,U)},$$slots:{default:!0}})),Ee()}function vs(ue,p){Oe(p,!0);let n=ze(p,["$$slots","$$events","$$legacy"]);const H=[["line",{x1:"10",x2:"14",y1:"2",y2:"2"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11"}],["circle",{cx:"12",cy:"14",r:"8"}]];xt(ue,ft({name:"timer"},()=>n,{get iconNode(){return H},children:(N,re)=>{var U=R(),Q=u(U);We(Q,()=>p.children??Ye),r(N,U)},$$slots:{default:!0}})),Ee()}var fs=i('<div class="h-32 animate-pulse rounded-xl bg-white/[0.04]"></div>'),us=i('<div class="space-y-4"><div class="h-12 w-48 animate-pulse rounded-lg bg-white/[0.04]"></div> <div class="grid gap-4 sm:grid-cols-3"></div></div>'),ps=i("<!> Back to dashboard",1),ms=i('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">Connection error</h2> <p class="text-sm text-muted-foreground"> </p> <div class="flex gap-3"><!> <!></div></div>'),gs=i("<!> Back to dashboard",1),_s=i('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">League not found</h2> <!></div>'),xs=i('<p class="text-lg font-semibold text-primary"> </p>'),hs=i("<!> <!>",1),bs=i('<div class="overflow-hidden rounded-2xl border border-accent/20 bg-gradient-to-br from-accent/10 via-accent/5 to-transparent"><div class="flex flex-col items-center gap-4 px-6 py-10 text-center sm:flex-row sm:justify-center sm:gap-8 sm:text-left"><div class="flex h-20 w-20 shrink-0 items-center justify-center rounded-2xl bg-accent/20"><!></div> <div class="space-y-1"><p class="text-sm font-medium tracking-wider text-muted-foreground uppercase"> </p> <h2 class="text-2xl font-bold text-foreground md:text-3xl"> </h2> <!></div> <!></div></div>'),ys=i('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-amber-500/60 via-amber-500 to-amber-500/60"></div>'),ws=i('<div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-primary/60 via-primary to-primary/60"></div>'),ks=i('<div class="absolute inset-x-0 top-0 h-0.5 bg-accent/40"></div>'),$s=i('<p class="text-center text-xs text-muted-foreground">Loading...</p>'),Ps=i("<!> ",1),Ss=i('<p class="text-center text-xs text-muted-foreground">Draft complete</p>'),Ds=i('<p class="text-center text-xs text-muted-foreground">Skipped</p>'),Ms=i('<p class="text-center text-xs text-muted-foreground"> </p>'),Ls=i('<p class="text-center text-xs text-muted-foreground"> </p>'),Cs=i('<p class="text-center text-xs text-muted-foreground"> </p>'),Ns=i('<div><!> <div class="p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="font-semibold"> </span></div> <span class="text-[10px] font-medium text-muted-foreground uppercase"> </span></div> <p class="mt-1 text-xs text-muted-foreground"> </p> <div class="mt-3"><!></div></div></div>'),js=i('<div class="grid gap-3 sm:grid-cols-3"></div>'),Ts=i("<!> Delete",1),Us=i("This will permanently delete <strong> </strong>. You cannot undo this.",1),Bs=i("<!> <!>",1),Is=i("<!> <!>",1),As=i("<!> <!>",1),Gs=i('<div class="animate-fade-in-up overflow-hidden rounded-xl border border-primary/20 bg-card/60"><div class="border-b border-white/[0.06] bg-white/[0.02] px-5 py-4"><h3 class="font-semibold">League Settings</h3> <p class="text-sm text-muted-foreground">Manage picks per phase and league options.</p></div> <div class="space-y-6 p-5"><div class="flex flex-wrap items-end gap-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <p class="text-sm"> </p></div></div> <!> <div class="rounded-lg border border-destructive/20 bg-destructive/5 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div><p class="text-sm font-medium text-destructive">Delete league</p> <p class="mt-0.5 text-xs text-muted-foreground">This cannot be undone.</p></div> <!></div></div></div></div> <!>',1),Os=i('<div class="flex h-48 items-center justify-center md:h-64"><!></div>'),Es=_t('<line stroke="white" stroke-opacity="0.06" stroke-width="1"></line><text text-anchor="end" fill="#8899aa" font-size="10"> </text>',1),Rs=_t('<defs><linearGradient x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-opacity="0.15"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><polygon></polygon><polyline fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></polyline><circle r="3"></circle>',1),Hs=_t('<rect fill="transparent" role="presentation"></rect>'),Fs=_t('<circle r="4" stroke="#111827" stroke-width="2"></circle>'),Ws=_t('<line stroke="white" stroke-opacity="0.15" stroke-width="1" stroke-dasharray="3 3"></line><!>',1),zs=_t('<text text-anchor="middle" fill="#8899aa" font-size="10"> </text>'),Vs=i('<div class="flex items-center gap-1.5"><div class="h-2 w-2 rounded-full"></div> <span class="text-xs text-muted-foreground"> </span> <span class="font-mono text-xs font-medium text-foreground"> </span></div>'),qs=i('<div class="mt-2 rounded-lg border border-white/[0.06] bg-white/[0.03] px-4 py-2.5"><p class="mb-1.5 text-xs font-medium text-muted-foreground"> </p> <div class="flex flex-wrap gap-x-5 gap-y-1"></div></div>'),Js=i('<div class="flex items-center gap-1.5"><div class="h-2.5 w-2.5 rounded-sm"></div> <span class="text-xs text-muted-foreground"> </span></div>'),Ks=i('<div class="overflow-x-auto"><svg class="w-full" style="min-width: 500px" role="img" aria-label="Score history chart"><!><!><!><!><!></svg></div> <!> <div class="mt-3 flex flex-wrap gap-x-4 gap-y-1.5 px-1"></div>',1),Qs=i('<div class="flex h-48 flex-col items-center justify-center gap-2 text-muted-foreground md:h-64"><!> <p class="text-sm">No score data available yet</p></div>'),Ys=i('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No teams yet. Wait for the draft!</div>'),Xs=i("<!> <!>",1),Zs=i('<img class="aspect-[3/4] w-full object-cover"/>'),eo=i('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),to=i('<span class="font-mono text-[9px] font-bold text-white"> </span>'),ro=i('<span class="text-[9px] text-white/70">—</span>'),ao=i('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-accent/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Hit</span></div> <!></div></button>'),so=i('<img class="aspect-[3/4] w-full object-cover"/>'),oo=i('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),no=i('<button type="button" class="group relative block w-20 cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-destructive/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1.5 py-0.5"><div class="flex items-center gap-0.5"><!> <span class="text-[9px] font-medium text-white">Bomb</span></div></div></button>'),io=i('<div class="flex flex-wrap gap-2.5"><!> <!></div>'),lo=i('<img class="aspect-[3/4] w-full object-cover"/>'),co=i('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),vo=i('<span class="font-mono text-[9px] font-bold text-white"> </span>'),fo=i('<span class="text-[9px] text-white/70">—</span>'),uo=i('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-white/[0.08] text-left transition-all hover:border-sky-400/40 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!> <!></div></button>'),po=i('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase"> </p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),mo=i('<img class="aspect-[3/4] w-full object-cover"/>'),go=i('<div class="flex aspect-[3/4] w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),_o=i('<button type="button" class="group relative block w-full cursor-pointer overflow-hidden rounded-lg border border-dashed border-purple-400/20 text-left opacity-60 transition-all hover:border-purple-400/40 hover:opacity-100 hover:shadow-md focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-1 py-0.5"><!></div></button>'),xo=i('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Alt (Backup)</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),ho=i('<div class="animate-fade-in-up space-y-4 border-t border-white/[0.06] px-4 py-4"><!> <!> <!></div>'),bo=i('<div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 transition-colors hover:border-white/[0.1]"><button class="flex w-full cursor-pointer items-center gap-3 px-4 py-3 text-left"><span></span> <!> <div class="min-w-0 flex-1"><p class="truncate font-medium"> </p> <p class="truncate text-xs text-muted-foreground"> </p></div> <div class="flex items-center gap-3"><span class="font-mono text-lg font-bold text-primary"> </span> <!></div></button> <!></div>'),yo=i('<h2 class="text-lg font-semibold">Season Summary</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40 p-4"><div class="space-y-2 text-sm text-muted-foreground"><p> </p> <p> </p></div></div>',1),wo=i('<div class="py-10 text-center text-sm text-muted-foreground">No upcoming games</div>'),ko=i('<img class="h-14 w-10 shrink-0 rounded object-cover"/>'),$o=i('<div class="flex h-14 w-10 shrink-0 items-center justify-center rounded bg-white/[0.04] text-[8px] text-muted-foreground">N/A</div>'),Po=i('<span class="rounded bg-primary/10 px-1.5 py-0.5 text-[9px] font-medium text-primary"> </span>'),So=i('<span class="text-[10px] text-muted-foreground"> </span> <!>',1),Do=i('<span class="rounded bg-white/[0.06] px-1.5 py-0.5 text-[9px] text-muted-foreground"> </span>'),Mo=i('<button type="button" class="flex w-full cursor-pointer items-start gap-2.5 rounded-lg p-2.5 text-left transition-colors hover:bg-white/[0.04] focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="min-w-0 flex-1"><h3 class="line-clamp-1 text-sm font-medium"> </h3> <div class="mt-0.5 flex items-center gap-1.5"><!></div> <div class="mt-1 flex flex-wrap gap-1"></div></div></button>'),Lo=i('<div class="space-y-1 p-2"><!></div>'),Co=i('<h2 class="text-lg font-semibold">Upcoming Releases</h2> <div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><!></div>',1),No=i('<div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"><div class="space-y-2"><div class="flex items-center gap-3"><h1 class="text-3xl font-bold tracking-tight md:text-4xl"> </h1> <!></div> <div class="flex flex-wrap items-center gap-2"><span class="text-sm text-muted-foreground"> </span> <span class="rounded-md bg-white/[0.05] px-2 py-0.5 font-mono text-xs text-foreground"> </span> <!></div></div></div> <!> <!> <div class="grid gap-6 lg:grid-cols-[1fr_320px]"><div class="space-y-6"><div class="overflow-hidden rounded-xl border border-white/[0.06] bg-card/40"><div class="flex items-center gap-2 border-b border-white/[0.06] px-5 py-3"><!> <h2 class="font-semibold"> </h2></div> <div class="p-4"><!></div></div> <div class="space-y-3"><h2 class="text-lg font-semibold"> </h2> <!></div></div> <div class="space-y-3"><!></div></div>',1),jo=i('<div class="space-y-6"><!></div> <!>',1);function dn(ue,p){Oe(p,!0);let n=oe(null),H=oe(st([])),N=oe(st({})),re=oe(st({})),U=oe(!0),Q=oe(void 0),Re=oe(!1),ht=oe(!1),it=oe(!1),lt=oe(!1),Ne=oe(st(new Set)),je=oe(st(new Map)),dt=oe(st([])),St=oe(!1),Ut=oe(!1),Ie=oe(null),bt=oe(null),Dt=oe(!1),Xe=oe(null),ct=oe(st({winter:null,summer:null,fall:null})),Mt=oe(!1),Ge=oe(null),ut=oe(null),Ze=oe(st(new Set));const yt=v(yr);async function jr(){if(e(Q)){f(ut,null),f(U,!0);try{const s=await Zt(e(Q));f(n,s,!0)}catch(s){f(ut,s instanceof Error?s.message:"Load failed",!0)}finally{f(U,!1)}}}async function wt(s){f(Ie,s,!0),f(Ut,!0),f(bt,null),f(Dt,!0);try{const l=await wr(s);f(bt,l?{...l,id:s}:null,!0)}finally{f(Dt,!1)}}function Tr(){f(Ut,!1),f(Ie,null),f(bt,null)}async function Ur(){if(!e(yt)||!e(Ie)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(yt)),console.log("selectedGameId",e(Ie));return}e(Ze).has(e(Ie))?(await Aa(e(yt).uid,e(Ie)),f(Ze,new Set([...e(Ze)].filter(l=>l!==e(Ie))),!0)):(await Ga(e(yt).uid,e(Ie)),f(Ze,new Set([...e(Ze),e(Ie)]),!0))}ot(()=>{const s=e(yt);if(!s){f(Ze,new Set,!0);return}Ba(s.uid).then(l=>f(Ze,l,!0))}),ot(()=>{const s=ha(ya).params?.id;f(Q,s,!0),s&&f(U,!0)}),ot(()=>{const s=e(Q);s&&(f(ut,null),Zt(s).then(l=>{f(n,l,!0),f(U,!1)}).catch(l=>{f(ut,l instanceof Error?l.message:"Load failed",!0),f(U,!1)}))}),ot(()=>{const s=e(Q),l=e(n)?.season;!s||!l||(f(Mt,!1),Pa(s,l).then(async G=>{if(f(ct,G,!0),f(Mt,!0),!Nt(l)){await Sa(s);const b=await Zt(s);b&&b.currentPhase!==e(n)?.currentPhase&&f(n,b,!0)}}))}),ot(()=>{const s=e(Q);s&&Da(s).then(l=>{f(H,l,!0),Promise.all(l.map(G=>ja(G.id))).then(G=>{const b={};G.forEach((E,ee)=>{E?b[l[ee].id]={displayName:E.displayName||l[ee].name,avatarUrl:E.avatarUrl}:b[l[ee].id]={displayName:l[ee].name,avatarUrl:null}}),f(re,b,!0)})})}),ot(()=>{const s=[],l=new Set;for(const G of e(H)){const b=G.picks;for(const E of[b?.hitPick,b?.bombPick,...b?.winterPicks??[],...b?.summerPicks??[],...b?.fallPicks??[],...b?.altPicks??[]].filter(Boolean))l.has(E)||(l.add(E),s.push(E))}s.length!==0&&Promise.all(s.map(G=>wr(G))).then(G=>{const b={};G.forEach((E,ee)=>{E&&(b[s[ee]]=E)}),f(N,{...e(N),...b},!0)})}),ot(()=>{const s=e(Q),l=e(n)?.season;!s||e(H).length===0||(f(St,!0),f(Ge,null),l&&Nt(l)?Ma(s,l).then(G=>{f(Ge,G,!0);const b=new Map;for(const E of G.graphData.series){const ee=new Map;G.graphData.dates.forEach((tt,vt)=>ee.set(tt,E.data[vt]??0)),b.set(E.teamId,ee)}f(je,b,!0)}).finally(()=>f(St,!1)):La(s).then(G=>f(je,G,!0)).finally(()=>f(St,!1)))}),ot(()=>{Na().then(s=>f(dt,s,!0))});function Br(s){const l=new Set(e(Ne));l.has(s)?l.delete(s):l.add(s),f(Ne,l,!0)}function Bt(s){const l=e(n)?.delistedGames??[],G=ka(s.picks,l);let b=0;for(const E of G){const ee=e(N)[E]?.score;ee!=null&&(b+=ee)}return b+(s.bombAdjustment??0)}const Te=v(()=>!!e(n)&&!!e(n).season&&Nt(e(n).season)),It=v(()=>e(Te)&&e(Ge)?[...e(H)].sort((s,l)=>(e(Ge).finalRanks[s.id]??999)-(e(Ge).finalRanks[l.id]??999)):[...e(H)].sort((s,l)=>Bt(l)-Bt(s))),At=v(()=>{if(e(Te)&&e(Ge)?.graphData)return{dates:e(Ge).graphData.dates,series:e(Ge).graphData.series.map(b=>({name:e(re)[b.teamId]?.displayName||e(H).find(E=>E.id===b.teamId)?.name||"Unknown",data:b.data}))};if(e(je).size===0)return null;const s=new Set;e(je).forEach(b=>{b.forEach((E,ee)=>s.add(ee))});const l=Array.from(s).sort(),G=e(It).map(b=>{const E=e(je).get(b.id)||new Map;return{name:e(re)[b.id]?.displayName||b.name,data:l.map(ee=>E.get(ee)||0)}});return{dates:l,series:G}});function rr(s){return e(Te)&&e(Ge)?e(Ge).finalScores[s.id]??0:Bt(s)}function ar(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}function Ir(s){if(!s)return"";const l=new Date,b=new Date(s).getTime()-l.getTime(),E=Math.ceil(b/(1e3*60*60*24));return E<=0?"Released":E===1?"Tomorrow":E<=7?`${E}d`:E<=30?`${Math.ceil(E/7)}w`:`${Math.ceil(E/30)}mo`}const sr=v(()=>!!(e(n)&&yr()?.uid===e(n).commissionerId));function or(){f(ht,!1)}function Ar(){or(),f(Re,!0)}function Gr(){or(),f(Re,!1)}async function Or(){if(e(Q)){f(lt,!0);try{await Ca(e(Q)),f(it,!1),f(Re,!1),ba("/dashboard")}catch(s){console.error(s)}finally{f(lt,!1)}}}function Er(){if(!e(n))return"";if(e(n).status==="completed")return e(n).season&&Nt(e(n).season)?`Season ${e(n).season} Complete`:"Completed";if(e(n).status==="draft"){const s=e(n).currentPhase??"winter";return s!=="winter"?"Scoring":e(n).season&&jt(s,e(n).season)?"Drafting":"Pre-Season"}return"Scoring"}function Gt(s){if(!e(n))return!1;const l=Fe.indexOf(s),G=Fe.indexOf(e(n).currentPhase);return l<G}function nr(s){return Gt(s)?"completed":e(ct)[s]}function Rr(s){if(Gt(s))return Cr;if(!e(Mt))return Tt;const l=e(ct)[s];return l==="completed"?Cr:l==="active"||l==="pending"?Tt:cs}const Ot={winter:"Dec",summer:"Apr",fall:"Aug"};function ir(s){if(Gt(s))return"Complete";if(!e(Mt))return"Loading";const l=e(ct)[s];if(l==="completed")return"Complete";if(l==="active"||l==="pending")return e(n)&&!jt(s,e(n).season)?`Opens ${Ot[s]}`:"In Progress";const G=Fe.indexOf(s),b=Fe.indexOf(e(n)?.currentPhase??"winter");return G<b?"Skipped":e(n)?.currentPhase===s&&e(n)&&jt(s,e(n).season)?"Ready":`Opens ${Ot[s]}`}function Hr(s){if(!e(n))return!1;const l=Fe.indexOf(s),G=Fe.indexOf(e(n).currentPhase);return l!==G||e(ct)[s]==="completed"?!1:jt(s,e(n).season)}const et=["#5b9bf5","#6ddb7b","#f59e42","#e05d5d","#b47aed","#38bdf8","#f472b6","#facc15"];function Fr(s){return s===0?"bg-yellow-500/15 text-yellow-400 ring-1 ring-yellow-500/30":s===1?"bg-slate-400/15 text-slate-300 ring-1 ring-slate-400/30":s===2?"bg-amber-600/15 text-amber-500 ring-1 ring-amber-600/30":"bg-white/[0.05] text-muted-foreground"}var lr=jo();xa("5wjyo2",s=>{ma(()=>{ga.title=e(n)?.name??"League"??""})});var Et=u(lr),Wr=a(Et);{var zr=s=>{var l=us(),G=o(a(l),2);Se(G,20,()=>Array(3),De,(b,E)=>{var ee=fs();r(b,ee)}),t(G),t(l),r(s,l)},Vr=s=>{var l=R(),G=u(l);{var b=ee=>{var tt=ms(),vt=o(a(tt),2),Rt=a(vt,!0);t(vt);var Lt=o(vt,2),Ve=a(Lt);nt(Ve,{onclick:jr,variant:"outline",children:(qe,pt)=>{ke();var Je=Qe("Retry");r(qe,Je)},$$slots:{default:!0}});var rt=o(Ve,2);nt(rt,{variant:"ghost",href:"/dashboard",class:"gap-2",children:(qe,pt)=>{var Je=ps(),at=u(Je);Lr(at,{class:"h-4 w-4"}),ke(),r(qe,Je)},$$slots:{default:!0}}),t(Lt),t(tt),P(()=>_(Rt,e(ut))),r(ee,tt)},E=ee=>{var tt=R(),vt=u(tt);{var Rt=Ve=>{var rt=_s(),qe=o(a(rt),2);nt(qe,{variant:"outline",href:"/dashboard",class:"gap-2",children:(pt,Je)=>{var at=gs(),Ht=u(at);Lr(Ht,{class:"h-4 w-4"}),ke(),r(pt,at)},$$slots:{default:!0}}),t(rt),r(Ve,rt)},Lt=Ve=>{var rt=No(),qe=u(rt),pt=a(qe),Je=a(pt),at=a(Je),Ht=a(at,!0);t(at);var Jr=o(at,2);{var Kr=j=>{nt(j,{variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-foreground",onclick:()=>e(Re)?Gr():Ar(),children:(C,ne)=>{ls(C,{class:"h-4 w-4"})},$$slots:{default:!0}})};m(Jr,j=>{e(sr)&&!e(Te)&&j(Kr)})}t(Je);var dr=o(Je,2),Ft=a(dr),Qr=a(Ft);t(Ft);var Wt=o(Ft,2),Yr=a(Wt,!0);t(Wt);var Xr=o(Wt,2);{let j=v(()=>e(n).status==="active"?"default":e(n).status==="completed"?"secondary":"outline");Va(Xr,{get variant(){return e(j)},class:"text-[10px]",children:(C,ne)=>{ke();var F=Qe();P(y=>_(F,y),[Er]),r(C,F)},$$slots:{default:!0}})}t(dr),t(pt),t(qe);var cr=o(qe,2);{var Zr=j=>{const C=v(()=>e(It)[0]);var ne=bs(),F=a(ne),y=a(F),ie=a(y);Qa(ie,{class:"h-10 w-10 text-accent"}),t(y);var g=o(y,2),ce=a(g),w=a(ce);t(ce);var _e=o(ce,2),W=a(_e);t(_e);var Y=o(_e,2);{var pe=le=>{var ve=xs(),ae=a(ve);t(ve),P(ye=>_(ae,`Final score: ${ye??""}`),[()=>Math.round(rr(e(C))).toLocaleString()]),r(le,ve)};m(Y,le=>{e(C)&&le(pe)})}t(g);var Me=o(g,2);{var J=le=>{var ve=R(),ae=u(ve);Ce(ae,()=>Dr,(ye,te)=>{te(ye,{class:"size-16 shrink-0 ring-2 ring-accent/40 ring-offset-2 ring-offset-background",children:(fe,Ue)=>{var Be=hs(),X=u(Be);{let k=v(()=>e(re)[e(C).id]?.avatarUrl??void 0);Ce(X,()=>Mr,(z,$)=>{$(z,{get src(){return e(k)},get alt(){return e(C).name}})})}var se=o(X,2);Ce(se,()=>Sr,(k,z)=>{z(k,{class:"text-xl",children:($,T)=>{ke();var S=Qe();P(B=>_(S,B),[()=>(e(re)[e(C).id]?.displayName||e(C).name).slice(0,2).toUpperCase()]),r($,S)},$$slots:{default:!0}})}),r(fe,Be)},$$slots:{default:!0}})}),r(le,ve)};m(Me,le=>{e(C)&&le(J)})}t(F),t(ne),P(()=>{_(w,`Season ${e(n).season??""} Complete`),_(W,`${(e(C)?e(re)[e(C).id]?.displayName||e(C).name:"—")??""} is the Champion`)}),r(j,ne)},ea=j=>{var C=js();Se(C,21,()=>Fe,De,(ne,F)=>{const y=v(()=>Xt[e(F)]),ie=v(()=>nr(e(F))),g=v(()=>ir(e(F))),ce=v(()=>Rr(e(F))),w=v(()=>e(n).currentPhase===e(F)),_e=v(()=>Hr(e(F))),W=v(()=>e(w)&&!e(_e)&&e(g).startsWith("Opens"));var Y=Ns(),pe=a(Y);{var Me=d=>{var c=ys();r(d,c)},J=d=>{var c=R(),x=u(c);{var h=D=>{var I=ws();r(D,I)},O=D=>{var I=R(),A=u(I);{var M=q=>{var V=ks();r(q,V)};m(A,q=>{e(ie)==="completed"&&q(M)},!0)}r(D,I)};m(x,D=>{e(w)?D(h):D(O,!1)},!0)}r(d,c)};m(pe,d=>{e(W)?d(Me):d(J,!1)})}var le=o(pe,2),ve=a(le),ae=a(ve),ye=a(ae);{var te=d=>{vs(d,{class:"h-4 w-4 text-amber-500"})},fe=d=>{var c=R(),x=u(c);{let h=v(()=>e(g)==="Loading"?"animate-spin text-muted-foreground":e(ie)==="completed"?"text-accent":e(w)?"animate-spin text-primary":"text-muted-foreground");Ce(x,()=>e(ce),(O,D)=>{D(O,{get class(){return`h-4 w-4 ${e(h)??""}`}})})}r(d,c)};m(ye,d=>{e(W)?d(te):d(fe,!1)})}var Ue=o(ye,2),Be=a(Ue,!0);t(Ue),t(ae);var X=o(ae,2),se=a(X,!0);t(X),t(ve);var k=o(ve,2),z=a(k);t(k);var $=o(k,2),T=a($);{var S=d=>{var c=$s();r(d,c)},B=d=>{var c=R(),x=u(c);{var h=D=>{{let I=v(()=>e(n).id),A=v(()=>$a(e(F),e(n).season)),M=v(()=>e(w)?"glow-sm-primary":""),q=v(()=>e(w)?"default":"outline");nt(D,{get href(){return`/league/${e(I)??""}/draft/${e(A)??""}`},size:"sm",get class(){return`w-full gap-2 ${e(M)??""}`},get variant(){return e(q)},children:(V,me)=>{var xe=Ps(),$e=u(xe);Ta($e,{class:"h-3.5 w-3.5"});var Ae=o($e);P(()=>_(Ae,` ${e(ct)[e(F)]==="active"||e(ct)[e(F)]==="pending"?"Continue Draft":"Enter Draft Room"}`)),r(V,xe)},$$slots:{default:!0}})}},O=D=>{var I=R(),A=u(I);{var M=V=>{var me=Ss();r(V,me)},q=V=>{var me=R(),xe=u(me);{var $e=Z=>{var be=Ds();r(Z,be)},Ae=Z=>{var be=R(),Pe=u(be);{var K=he=>{var Le=Ms(),Ke=a(Le,!0);t(Le),P(()=>_(Ke,e(g))),r(he,Le)},de=he=>{const Le=v(()=>Fe.indexOf(e(F))),Ke=v(()=>Fe.slice(0,e(Le))),mt=v(()=>e(Ke).find(He=>nr(He)!=="completed"));var kt=R(),Ct=u(kt);{var Kt=He=>{var ge=Ls(),we=a(ge);t(ge),P(()=>_(we,`Opens ${Ot[e(F)]??""}`)),r(He,ge)},Qt=He=>{var ge=Cs(),we=a(ge);t(ge),P(()=>_(we,`Complete ${Xt[e(mt)]?.label??""??""} first`)),r(He,ge)};m(Ct,He=>{e(mt)==null?He(Kt):He(Qt,!1)})}r(he,kt)};m(Pe,he=>{e(g).startsWith("Opens")?he(K):he(de,!1)},!0)}r(Z,be)};m(xe,Z=>{e(g)==="Skipped"?Z($e):Z(Ae,!1)},!0)}r(V,me)};m(A,V=>{e(ie)==="completed"?V(M):V(q,!1)},!0)}r(D,I)};m(x,D=>{e(_e)?D(h):D(O,!1)},!0)}r(d,c)};m(T,d=>{e(g)==="Loading"?d(S):d(B,!1)})}t($),t(le),t(Y),P((d,c,x)=>{hr(Y,1,`relative overflow-hidden rounded-xl border transition-all ${e(W)?"border-amber-500/40 bg-amber-500/[0.04]":e(w)?"border-primary/40 bg-primary/[0.04]":e(ie)==="completed"?"border-accent/20 bg-accent/[0.03]":e(g)==="Loading"?"border-white/[0.06] bg-white/[0.02]":e(g)==="Skipped"?"border-white/[0.04] bg-white/[0.01] opacity-50":"border-white/[0.06] bg-white/[0.02] opacity-60"}`),_(Be,e(y).label),_(se,d),_(z,`${c??""} — ${x??""}`)},[()=>ir(e(F)),()=>e(y).releaseStart(parseInt(e(n).season)).slice(5),()=>e(y).releaseEnd(parseInt(e(n).season)).slice(5)]),r(ne,Y)}),t(C),r(j,C)};m(cr,j=>{e(Te)&&e(Ge)?j(Zr):j(ea,!1)})}var vr=o(cr,2);{var ta=j=>{var C=Gs(),ne=u(C),F=o(a(ne),2),y=a(F),ie=a(y),g=a(ie);kr(g,{for:"editSeason",class:"text-muted-foreground",children:(ae,ye)=>{ke();var te=Qe("Season");r(ae,te)},$$slots:{default:!0}});var ce=o(g,2);za(ce,{id:"editSeason",get value(){return e(n).season},readonly:!0,class:"w-28 bg-white/[0.03] font-mono read-only:cursor-default read-only:opacity-100"}),t(ie);var w=o(ie,2),_e=a(w);kr(_e,{class:"text-muted-foreground",children:(ae,ye)=>{ke();var te=Qe("Picks per phase");r(ae,te)},$$slots:{default:!0}});var W=o(_e,2),Y=a(W);t(W),t(w),t(y);var pe=o(y,2);qa(pe,{class:"opacity-30"});var Me=o(pe,2),J=a(Me),le=o(a(J),2);nt(le,{variant:"destructive",size:"sm",onclick:()=>f(it,!0),class:"shrink-0 gap-2",children:(ae,ye)=>{var te=Ts(),fe=u(te);ds(fe,{class:"h-4 w-4"}),ke(),r(ae,te)},$$slots:{default:!0}}),t(J),t(Me),t(F),t(ne);var ve=o(ne,2);Ce(ve,()=>Ra,(ae,ye)=>{ye(ae,{get open(){return e(it)},set open(te){f(it,te,!0)},children:(te,fe)=>{var Ue=R(),Be=u(Ue);Ce(Be,()=>Oa,(X,se)=>{se(X,{children:(k,z)=>{var $=As(),T=u($);Ce(T,()=>ns,(B,d)=>{d(B,{children:(c,x)=>{var h=Bs(),O=u(h);Ce(O,()=>Ea,(I,A)=>{A(I,{children:(M,q)=>{ke();var V=Qe("Delete league?");r(M,V)},$$slots:{default:!0}})});var D=o(O,2);Ce(D,()=>is,(I,A)=>{A(I,{children:(M,q)=>{ke();var V=Us(),me=o(u(V)),xe=a(me,!0);t(me),ke(),P(()=>_(xe,e(n)?.name)),r(M,V)},$$slots:{default:!0}})}),r(c,h)},$$slots:{default:!0}})});var S=o(T,2);Ce(S,()=>ss,(B,d)=>{d(B,{class:"gap-2",children:(c,x)=>{var h=Is(),O=u(h);nt(O,{variant:"outline",onclick:()=>f(it,!1),get disabled(){return e(lt)},children:(I,A)=>{ke();var M=Qe("Cancel");r(I,M)},$$slots:{default:!0}});var D=o(O,2);nt(D,{variant:"destructive",onclick:Or,get disabled(){return e(lt)},children:(I,A)=>{ke();var M=Qe();P(()=>_(M,e(lt)?"Deleting...":"Delete league")),r(I,M)},$$slots:{default:!0}}),r(c,h)},$$slots:{default:!0}})}),r(k,$)},$$slots:{default:!0}})}),r(te,Ue)},$$slots:{default:!0}})}),P(ae=>_(Y,`${ae??""} (based on 
								${e(n)?.members.length??0??""} players)`),[()=>e(n)?wa(e(n).members.length):"—"]),r(j,C)};m(vr,j=>{e(Re)&&e(sr)&&!e(Te)&&j(ta)})}var fr=o(vr,2),zt=a(fr),Vt=a(zt),qt=a(Vt),ur=a(qt);$r(ur,{class:"h-4 w-4 text-primary"});var pr=o(ur,2),ra=a(pr,!0);t(pr),t(qt);var mr=o(qt,2),aa=a(mr);{var sa=j=>{var C=Os(),ne=a(C);Tt(ne,{class:"h-5 w-5 animate-spin text-muted-foreground"}),t(C),r(j,C)},oa=j=>{var C=R(),ne=u(C);{var F=ie=>{const g=v(()=>e(At)),ce=v(()=>Math.max(...e(g).series.map(k=>Math.max(...k.data)),1)),w=v(()=>({top:20,right:20,bottom:30,left:45})),_e=v(()=>800),W=v(()=>280),Y=v(()=>e(_e)-e(w).left-e(w).right),pe=v(()=>e(W)-e(w).top-e(w).bottom);var Me=Ks(),J=u(Me),le=a(J);L(le,"viewBox",`0 0 ${e(_e)??""} ${e(W)??""}`);var ve=a(le);Se(ve,16,()=>Array(5),De,(k,z,$)=>{const T=v(()=>e(w).top+e(pe)*$/4);var S=Es(),B=u(S),d=o(B),c=a(d,!0);t(d),P(x=>{L(B,"x1",e(w).left),L(B,"y1",e(T)),L(B,"x2",e(_e)-e(w).right),L(B,"y2",e(T)),L(d,"x",e(w).left-8),L(d,"y",e(T)+4),_(c,x)},[()=>Math.round(e(ce)*(1-$/4))]),r(k,S)});var ae=o(ve);Se(ae,17,()=>e(g).series,De,(k,z,$)=>{const T=v(()=>et[$%et.length]),S=v(()=>e(z).data.map((q,V)=>{const me=e(w).left+e(Y)*V/(e(g).dates.length-1||1),xe=e(w).top+e(pe)-e(pe)*q/e(ce);return{x:me,y:xe}})),B=v(()=>e(S).map(q=>`${q.x},${q.y}`).join(" ")),d=v(()=>e(S)[e(S).length-1]);var c=Rs(),x=u(c),h=a(x);L(h,"id",`grad-${$}`);var O=a(h),D=o(O);t(h),t(x);var I=o(x);L(I,"fill",`url(#grad-${$})`);var A=o(I),M=o(A);P(()=>{L(O,"stop-color",e(T)),L(D,"stop-color",e(T)),L(I,"points",`${e(w).left??""},${e(w).top+e(pe)} ${e(B)??""} ${e(S)[e(S).length-1].x??""},${e(w).top+e(pe)}`),L(A,"points",e(B)),L(A,"stroke",e(T)),L(M,"cx",e(d).x),L(M,"cy",e(d).y),L(M,"fill",e(T))}),r(k,c)});var ye=o(ae);Se(ye,17,()=>e(g).dates,De,(k,z,$)=>{const T=v(()=>e(w).left+e(Y)*$/(e(g).dates.length-1||1));var S=Hs();P(()=>{L(S,"x",e(T)-e(Y)/(e(g).dates.length-1||1)/2),L(S,"y",e(w).top),L(S,"width",e(Y)/(e(g).dates.length-1||1)),L(S,"height",e(pe))}),xr("mouseenter",S,()=>f(Xe,$,!0)),r(k,S)});var te=o(ye);{var fe=k=>{const z=v(()=>e(w).left+e(Y)*e(Xe)/(e(g).dates.length-1||1));var $=Ws(),T=u($),S=o(T);Se(S,17,()=>e(g).series,De,(B,d,c)=>{const x=v(()=>et[c%et.length]),h=v(()=>e(d).data[e(Xe)]),O=v(()=>e(w).top+e(pe)-e(pe)*e(h)/e(ce));var D=Fs();P(()=>{L(D,"cx",e(z)),L(D,"cy",e(O)),L(D,"fill",e(x))}),r(B,D)}),P(()=>{L(T,"x1",e(z)),L(T,"y1",e(w).top),L(T,"x2",e(z)),L(T,"y2",e(w).top+e(pe))}),r(k,$)};m(te,k=>{e(Xe)!==null&&k(fe)})}var Ue=o(te);Se(Ue,17,()=>e(g).dates,De,(k,z,$)=>{const T=v(()=>$%Math.ceil(e(g).dates.length/7)===0||$===e(g).dates.length-1);var S=R(),B=u(S);{var d=c=>{const x=v(()=>e(w).left+e(Y)*$/(e(g).dates.length-1||1));var h=zs();L(h,"y",e(W)-6);var O=a(h,!0);t(h),P(D=>{L(h,"x",e(x)),_(O,D)},[()=>ar(e(z))]),r(c,h)};m(B,c=>{e(T)&&c(d)})}r(k,S)}),t(le),t(J);var Be=o(J,2);{var X=k=>{var z=qs(),$=a(z),T=a($,!0);t($);var S=o($,2);Se(S,21,()=>e(g).series,De,(B,d,c)=>{var x=Vs(),h=a(x),O=o(h,2),D=a(O,!0);t(O);var I=o(O,2),A=a(I,!0);t(I),t(x),P(M=>{br(h,`background: ${et[c%et.length]??""}`),_(D,e(d).name),_(A,M)},[()=>Math.round(e(d).data[e(Xe)])]),r(B,x)}),t(S),t(z),P(B=>_(T,B),[()=>ar(e(g).dates[e(Xe)])]),r(k,z)};m(Be,k=>{e(Xe)!==null&&k(X)})}var se=o(Be,2);Se(se,21,()=>e(g).series,De,(k,z,$)=>{var T=Js(),S=a(T),B=o(S,2),d=a(B,!0);t(B),t(T),P(()=>{br(S,`background: ${et[$%et.length]??""}`),_(d,e(z).name)}),r(k,T)}),t(se),xr("mouseleave",le,()=>f(Xe,null)),r(ie,Me)},y=ie=>{var g=Qs(),ce=a(g);$r(ce,{class:"h-8 w-8 opacity-30"}),ke(2),t(g),r(ie,g)};m(ne,ie=>{e(At)&&e(At).dates.length>0?ie(F):ie(y,!1)},!0)}r(j,C)};m(aa,j=>{e(St)?j(sa):j(oa,!1)})}t(mr),t(Vt);var gr=o(Vt,2),Jt=a(gr),na=a(Jt,!0);t(Jt);var ia=o(Jt,2);{var la=j=>{var C=Ys();r(j,C)},da=j=>{var C=R(),ne=u(C);Se(ne,17,()=>e(It),De,(F,y,ie)=>{var g=bo(),ce=a(g);ce.__click=()=>Br(e(y).id);var w=a(ce);w.textContent=ie+1;var _e=o(w,2);Ce(_e,()=>Dr,(X,se)=>{se(X,{class:"size-9 shrink-0",children:(k,z)=>{var $=Xs(),T=u($);{let B=v(()=>e(re)[e(y).id]?.avatarUrl??void 0);Ce(T,()=>Mr,(d,c)=>{c(d,{get src(){return e(B)},get alt(){return e(y).name}})})}var S=o(T,2);Ce(S,()=>Sr,(B,d)=>{d(B,{class:"text-xs",children:(c,x)=>{ke();var h=Qe();P(O=>_(h,O),[()=>(e(re)[e(y).id]?.displayName||e(y).name).slice(0,2).toUpperCase()]),r(c,h)},$$slots:{default:!0}})}),r(k,$)},$$slots:{default:!0}})});var W=o(_e,2),Y=a(W),pe=a(Y,!0);t(Y);var Me=o(Y,2),J=a(Me,!0);t(Me),t(W);var le=o(W,2),ve=a(le),ae=a(ve,!0);t(ve);var ye=o(ve,2);{var te=X=>{Ha(X,{class:"h-4 w-4 text-muted-foreground"})},fe=X=>{Fa(X,{class:"h-4 w-4 text-muted-foreground"})};m(ye,X=>{e(Ne).has(e(y).id)?X(te):X(fe,!1)})}t(le),t(ce);var Ue=o(ce,2);{var Be=X=>{const se=v(()=>e(y).picks?.hitPick?e(N)[e(y).picks.hitPick]:null),k=v(()=>e(y).picks?.bombPick?e(N)[e(y).picks.bombPick]:null);var z=ho(),$=a(z);{var T=c=>{var x=io(),h=a(x);{var O=A=>{var M=ao();M.__click=()=>wt(e(y).picks.hitPick);var q=a(M);{var V=K=>{var de=Zs();P(()=>{L(de,"src",e(se).coverUrl),L(de,"alt",e(se).name)}),r(K,de)},me=K=>{var de=eo(),he=a(de),Le=a(he,!0);t(he),t(de),P(()=>_(Le,e(se).name)),r(K,de)};m(q,K=>{e(se).coverUrl?K(V):K(me,!1)})}var xe=o(q,2),$e=a(xe),Ae=a($e);Ya(Ae,{class:"h-2.5 w-2.5 text-accent"}),ke(2),t($e);var Z=o($e,2);{var be=K=>{var de=to(),he=a(de,!0);t(de),P(Le=>_(he,Le),[()=>Math.round(e(se).score)]),r(K,de)},Pe=K=>{var de=R(),he=u(de);{var Le=Ke=>{var mt=ro();r(Ke,mt)};m(he,Ke=>{e(Te)&&Ke(Le)},!0)}r(K,de)};m(Z,K=>{!e(Te)&&e(se).score!=null?K(be):K(Pe,!1)})}t(xe),t(M),r(A,M)};m(h,A=>{e(se)&&A(O)})}var D=o(h,2);{var I=A=>{var M=no();M.__click=()=>wt(e(y).picks.bombPick);var q=a(M);{var V=Z=>{var be=so();P(()=>{L(be,"src",e(k).coverUrl),L(be,"alt",e(k).name)}),r(Z,be)},me=Z=>{var be=oo(),Pe=a(be),K=a(Pe,!0);t(Pe),t(be),P(()=>_(K,e(k).name)),r(Z,be)};m(q,Z=>{e(k).coverUrl?Z(V):Z(me,!1)})}var xe=o(q,2),$e=a(xe),Ae=a($e);Xa(Ae,{class:"h-2.5 w-2.5 text-destructive"}),ke(2),t($e),t(xe),t(M),r(A,M)};m(D,A=>{e(k)&&A(I)})}t(x),r(c,x)};m($,c=>{(e(se)||e(k))&&c(T)})}var S=o($,2);Se(S,17,()=>Fe,De,(c,x)=>{const h=v(()=>e(x)==="winter"?"winterPicks":e(x)==="summer"?"summerPicks":"fallPicks"),O=v(()=>e(y).picks?.[e(h)]??[]);var D=R(),I=u(D);{var A=M=>{var q=po(),V=a(q),me=a(V,!0);t(V);var xe=o(V,2);Se(xe,21,()=>e(O),De,($e,Ae)=>{const Z=v(()=>e(N)[e(Ae)]);var be=R(),Pe=u(be);{var K=de=>{var he=uo();he.__click=()=>wt(e(Ae));var Le=a(he);{var Ke=ge=>{var we=lo();P(()=>{L(we,"src",e(Z).coverUrl),L(we,"alt",e(Z).name)}),r(ge,we)},mt=ge=>{var we=co(),gt=a(we),$t=a(gt,!0);t(gt),t(we),P(()=>_($t,e(Z).name)),r(ge,we)};m(Le,ge=>{e(Z).coverUrl?ge(Ke):ge(mt,!1)})}var kt=o(Le,2),Ct=a(kt);es(Ct,{class:"h-2.5 w-2.5 text-sky-400"});var Kt=o(Ct,2);{var Qt=ge=>{var we=vo(),gt=a(we,!0);t(we),P($t=>_(gt,$t),[()=>Math.round(e(Z).score)]),r(ge,we)},He=ge=>{var we=R(),gt=u(we);{var $t=Yt=>{var ua=fo();r(Yt,ua)};m(gt,Yt=>{e(Te)&&Yt($t)},!0)}r(ge,we)};m(Kt,ge=>{!e(Te)&&e(Z).score!=null?ge(Qt):ge(He,!1)})}t(kt),t(he),r(de,he)};m(Pe,de=>{e(Z)&&de(K)})}r($e,be)}),t(xe),t(q),P(()=>_(me,Xt[e(x)].label)),r(M,q)};m(I,M=>{e(O).length>0&&M(A)})}r(c,D)});var B=o(S,2);{var d=c=>{var x=xo(),h=o(a(x),2);Se(h,21,()=>e(y).picks?.altPicks??[],De,(O,D)=>{const I=v(()=>e(N)[e(D)]);var A=R(),M=u(A);{var q=V=>{var me=_o();me.__click=()=>wt(e(D));var xe=a(me);{var $e=Pe=>{var K=mo();P(()=>{L(K,"src",e(I).coverUrl),L(K,"alt",e(I).name)}),r(Pe,K)},Ae=Pe=>{var K=go(),de=a(K),he=a(de,!0);t(de),t(K),P(()=>_(he,e(I).name)),r(Pe,K)};m(xe,Pe=>{e(I).coverUrl?Pe($e):Pe(Ae,!1)})}var Z=o(xe,2),be=a(Z);Za(be,{class:"h-2.5 w-2.5 text-purple-400"}),t(Z),t(me),r(V,me)};m(M,V=>{e(I)&&V(q)})}r(O,A)}),t(h),t(x),r(c,x)};m(B,c=>{(e(y).picks?.altPicks??[]).length>0&&c(d)})}t(z),r(X,z)};m(Ue,X=>{e(Ne).has(e(y).id)&&X(Be)})}t(g),P((X,se)=>{hr(w,1,`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-xs font-bold ${X??""}`),_(pe,e(re)[e(y).id]?.displayName||e(y).name),_(J,e(y).name),_(ae,se)},[()=>Fr(ie),()=>Math.round(rr(e(y)))]),r(F,g)}),r(j,C)};m(ia,j=>{e(H).length===0?j(la):j(da,!1)})}t(gr),t(zt);var _r=o(zt,2),ca=a(_r);{var va=j=>{var C=yo(),ne=o(u(C),2),F=a(ne),y=a(F),ie=a(y);t(y);var g=o(y,2),ce=a(g);t(g),t(F),t(ne),P(w=>{_(ie,`${e(H).length??""} players competed in Season ${e(n).season??""}.`),_(ce,`${w??""} games drafted`)},[()=>e(H).reduce((w,_e)=>{const W=_e.picks,Y=(W?.hitPick?1:0)+(W?.bombPick?1:0)+(W?.winterPicks?.length??0)+(W?.summerPicks?.length??0)+(W?.fallPicks?.length??0)+(W?.altPicks?.length??0);return w+Y},0)]),r(j,C)},fa=j=>{var C=Co(),ne=o(u(C),2),F=a(ne);Wa(F,{class:"h-[calc(100vh-14rem)]",children:(y,ie)=>{var g=Lo(),ce=a(g);{var w=W=>{var Y=wo();r(W,Y)},_e=W=>{var Y=R(),pe=u(Y);Se(pe,17,()=>e(dt),De,(Me,J)=>{const le=v(()=>e(H).filter(te=>{const fe=te.picks;return fe?.hitPick===e(J).id||fe?.bombPick===e(J).id||fe?.winterPicks?.includes(e(J).id)||fe?.summerPicks?.includes(e(J).id)||fe?.fallPicks?.includes(e(J).id)||fe?.altPicks?.includes(e(J).id)}));var ve=R(),ae=u(ve);{var ye=te=>{var fe=Mo();fe.__click=()=>wt(e(J).id);var Ue=a(fe);{var Be=d=>{var c=ko();P(()=>{L(c,"src",e(J).coverUrl),L(c,"alt",e(J).name)}),r(d,c)},X=d=>{var c=$o();r(d,c)};m(Ue,d=>{e(J).coverUrl?d(Be):d(X,!1)})}var se=o(Ue,2),k=a(se),z=a(k,!0);t(k);var $=o(k,2),T=a($);{var S=d=>{const c=v(()=>Ir(e(J).releaseDate));var x=So(),h=u(x),O=a(h,!0);t(h);var D=o(h,2);{var I=A=>{var M=Po(),q=a(M,!0);t(M),P(()=>_(q,e(c))),r(A,M)};m(D,A=>{e(c)&&e(c)!=="Released"&&A(I)})}P(A=>_(O,A),[()=>new Date(e(J).releaseDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),r(d,x)};m(T,d=>{e(J).releaseDate&&d(S)})}t($);var B=o($,2);Se(B,21,()=>e(le),De,(d,c)=>{var x=Do(),h=a(x,!0);t(x),P(()=>_(h,e(re)[e(c).id]?.displayName||e(c).name)),r(d,x)}),t(B),t(se),t(fe),P(()=>_(z,e(J).name)),r(te,fe)};m(ae,te=>{e(le).length>0&&te(ye)})}r(Me,ve)}),r(W,Y)};m(ce,W=>{e(dt).length===0?W(w):W(_e,!1)})}t(g),r(y,g)},$$slots:{default:!0}}),t(ne),r(j,C)};m(ca,j=>{e(Te)?j(va):j(fa,!1)})}t(_r),t(fr),P(()=>{_(Ht,e(n).name),_(Qr,`Season ${e(n).season??""}`),_(Yr,e(n).code),_(ra,e(Te)?"Season score progression":"Score History"),_(na,e(Te)?"Final Standings":"Standings")}),r(Ve,rt)};m(vt,Ve=>{e(n)?Ve(Lt,!1):Ve(Rt)},!0)}r(ee,tt)};m(G,ee=>{e(ut)?ee(b):ee(E,!1)},!0)}r(s,l)};m(Wr,s=>{e(U)?s(zr):s(Vr,!1)})}t(Et);var qr=o(Et,2);{let s=v(()=>e(Ie)!=null&&!e(Dt)&&e(bt)==null),l=v(()=>e(Ie)!=null&&e(Ze).has(e(Ie)));Ia(qr,{get open(){return e(Ut)},onOpenChange:G=>!G&&Tr(),get game(){return e(bt)},get loading(){return e(Dt)},get showNotFound(){return e(s)},get isBookmarked(){return e(l)},onToggleBookmark:Ur})}r(ue,lr),Ee()}_a(["click"]);export{dn as component};
