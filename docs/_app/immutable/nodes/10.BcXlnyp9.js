import{p as Sa,c as L,a,f as c,t as st,d as Qt}from"../chunks/Cz0PwdDH.js";import{p as Qe,f,a as Ye,g as e,c as r,q as Ct,r as t,Q as d,d as o,t as k,n as De,b as te,v as dt,u as ct,s as u,R as Da,$ as Ca}from"../chunks/Ct8wem7Y.js";import{d as br,s as p,e as Gr}from"../chunks/CIvy6oFH.js";import{p as ut,i as g,r as mt,s as Vt}from"../chunks/Bfs_sO9o.js";import{a as yr,c as wr,I as Yt,s as Kt,d as U,b as we,i as ke,f as Ir}from"../chunks/BGhj1fUa.js";import{c as Pe}from"../chunks/bAwpQOpp.js";import{h as Ba,B as Ot}from"../chunks/Dijvr1QR.js";import{g as jr}from"../chunks/Dphw77Gg.js";import{g as Ta}from"../chunks/CD3ia4LE.js";import{p as Ma}from"../chunks/Dka68UTO.js";import{c as Ar}from"../chunks/CUsvRYbg.js";import{P as ir,n as Na,m as tr,c as La,k as sr,D as vt,f as Ga,a as Ia,b as ja}from"../chunks/nK_5IJdR.js";import{a as hr,f as Aa,s as Oa,h as Ra,i as Ua,k as Ea,l as Fa,m as Ha}from"../chunks/BEOB4OA7.js";import{a as Or,d as Wa}from"../chunks/BXpgMER4.js";import{a as Va,P as za}from"../chunks/B_1bKy9M.js";import{d as qa,D as Jr,a as Kr,b as Qr,g as Ja,G as Ka,r as Qa,c as Ya,C as Xa,e as Za,S as es}from"../chunks/9vxe5iIg.js";import{I as ts}from"../chunks/aVuIq0C4.js";import{L as Rr}from"../chunks/B3Ac3L4t.js";import{B as rs}from"../chunks/5Ywcp8Rj.js";import{L as Yr,S as Xr,T as Ur,a as as}from"../chunks/DpVEZyEG.js";import{s as ft}from"../chunks/OA-tvGsZ.js";import{b as Zr}from"../chunks/D_ppcZRu.js";import{c as ss,b as Er,m as os}from"../chunks/Dwc4IZpf.js";import{A as Fr,a as Hr}from"../chunks/BilSgz2m.js";import{A as Wr}from"../chunks/CbGW4Iq0.js";import{S as ns,B as ea,T as ta}from"../chunks/DU7lnnFl.js";import{S as ra}from"../chunks/DkoLoA3y.js";import{A as Vr}from"../chunks/ZM-ulDmt.js";import{T as is}from"../chunks/Dv3Ee5-X.js";import{I as zr}from"../chunks/ByNPLtsw.js";var ls=c("<div><!></div>");function ds(se,n){const i=Sa();Qe(n,!0);let T=ut(n,"id",19,()=>ss(i)),h=ut(n,"ref",15,null),E=mt(n,["$$slots","$$events","$$legacy","id","children","child","ref"]);const y=qa.create({id:Er(()=>T()),ref:Er(()=>h(),H=>h(H))}),V=d(()=>os(E,y.props));var Ge=L(),Fe=f(Ge);{var Ce=H=>{var xe=L(),Me=f(xe);ft(Me,()=>n.child,()=>({props:e(V)})),a(H,xe)},Xe=H=>{var xe=ls();yr(xe,()=>({...e(V)}));var Me=r(xe);ft(Me,()=>n.children??Ct),t(xe),a(H,xe)};g(Fe,H=>{n.child?H(Ce):H(Xe,!1)})}a(se,Ge),Ye()}var cs=c("<div><!></div>");function vs(se,n){Qe(n,!0);let i=ut(n,"ref",15,null),T=mt(n,["$$slots","$$events","$$legacy","ref","class","children"]);var h=cs();yr(h,y=>({"data-slot":"dialog-footer",class:y,...T}),[()=>wr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n.class)]);var E=r(h);ft(E,()=>n.children??Ct),t(h),Zr(h,y=>i(y),()=>i()),a(se,h),Ye()}var us=c("<div><!></div>");function fs(se,n){Qe(n,!0);let i=ut(n,"ref",15,null),T=mt(n,["$$slots","$$events","$$legacy","ref","class","children"]);var h=us();yr(h,y=>({"data-slot":"dialog-header",class:y,...T}),[()=>wr("flex flex-col gap-2 text-center sm:text-start",n.class)]);var E=r(h);ft(E,()=>n.children??Ct),t(h),Zr(h,y=>i(y),()=>i()),a(se,h),Ye()}function aa(se,n){Qe(n,!0);let i=ut(n,"ref",15,null),T=mt(n,["$$slots","$$events","$$legacy","ref","class"]);var h=L(),E=f(h);{let y=d(()=>wr("text-sm text-muted-foreground",n.class));Pe(E,()=>ds,(V,Ge)=>{Ge(V,Vt({"data-slot":"dialog-description",get class(){return e(y)}},()=>T,{get ref(){return i()},set ref(Fe){i(Fe)}}))})}a(se,h),Ye()}function ms(se,n){Qe(n,!0);let i=mt(n,["$$slots","$$events","$$legacy"]);const T=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];Yt(se,Vt({name:"settings"},()=>i,{get iconNode(){return T},children:(h,E)=>{var y=L(),V=f(y);ft(V,()=>n.children??Ct),a(h,y)},$$slots:{default:!0}})),Ye()}function gs(se,n){Qe(n,!0);let i=mt(n,["$$slots","$$events","$$legacy"]);const T=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Yt(se,Vt({name:"trash-2"},()=>i,{get iconNode(){return T},children:(h,E)=>{var y=L(),V=f(y);ft(V,()=>n.children??Ct),a(h,y)},$$slots:{default:!0}})),Ye()}var ps=c('<img class="aspect-3/4 w-full object-cover"/>'),_s=c('<div class="flex aspect-3/4 w-full items-center justify-center bg-muted"><span class="px-1 text-center text-[9px] text-muted-foreground"> </span></div>'),xs=c('<span class="font-mono text-xs font-bold text-destructive"> </span>'),hs=c('<span class="font-mono text-xs font-bold text-white"> </span>'),bs=c('<span class="text-xs text-white/70">—</span>'),ys=c('<button type="button"><!> <div class="absolute inset-x-0 bottom-0 flex items-center justify-between bg-black/80 px-2 py-1.5"><div class="flex min-w-0 flex-1 items-center gap-1"><!> <span class="truncate text-xs font-medium text-white"> </span></div> <div class="flex h-4 min-w-6 shrink-0 items-center justify-end"><!></div></div></button>');function or(se,n){Qe(n,!0);let i=ut(n,"phase",3,"winter"),T=ut(n,"isPastSeasonView",3,!1);const h=d(()=>n.pickType==="bombPick"&&n.bombReceivedLabel!=null&&n.bombDamageReceived!=null),E=d(()=>{switch(n.pickType){case"hitPick":return{icon:ta,label:"Hit",color:"text-accent",hoverBorder:"hover:border-accent/40",border:"border-white/[0.08]"};case"bombPick":return{icon:ea,label:"Bomb",color:"text-destructive",hoverBorder:"hover:border-destructive/40",border:"border-white/[0.08]"};case"seasonalPick":const X={winter:ra,summer:Xr,fall:Yr},ve={winter:"text-sky-400",summer:"text-amber-400",fall:"text-amber-600"};return{icon:X[i()],label:ir[i()].label,color:ve[i()],hoverBorder:"hover:border-sky-400/40",border:"border-white/[0.08]"};case"altPick":return{icon:ns,label:"Alt",color:"text-purple-400",hoverBorder:"hover:border-purple-400/40",border:"border-dashed border-purple-400/20"}}}),y=d(()=>n.pickType==="hitPick"||n.pickType==="seasonalPick"||e(h)),V=d(()=>e(h)?n.bombReceivedLabel:e(E).label),Ge=d(()=>e(E).icon);var Fe=ys();Fe.__click=function(...X){n.onclick?.apply(this,X)};var Ce=r(Fe);{var Xe=X=>{var ve=ps();k(()=>{U(ve,"src",n.game.coverUrl),U(ve,"alt",n.game.name)}),a(X,ve)},H=X=>{var ve=_s(),$e=r(ve),We=r($e,!0);t($e),t(ve),k(()=>p(We,n.game.name)),a(X,ve)};g(Ce,X=>{n.game.coverUrl?X(Xe):X(H,!1)})}var xe=o(Ce,2),Me=r(xe),gt=r(Me);Pe(gt,()=>e(Ge),(X,ve)=>{ve(X,{get class(){return`h-3.5 w-3.5 shrink-0 ${e(E).color??""}`}})});var Bt=o(gt,2),Ne=r(Bt,!0);t(Bt),t(Me);var ot=o(Me,2),Rt=r(ot);{var He=X=>{var ve=L(),$e=f(ve);{var We=pe=>{var Oe=xs(),ue=r(Oe,!0);t(Oe),k((Ie,Be)=>{U(Oe,"title",`${Ie??""} damage from this bomb`),p(ue,Be)},[()=>Math.round(n.bombDamageReceived),()=>Math.round(n.bombDamageReceived)]),a(pe,Oe)},Ze=pe=>{var Oe=L(),ue=f(Oe);{var Ie=Ve=>{var je=hs(),pt=r(je,!0);t(je),k(nt=>p(pt,nt),[()=>Math.round(n.game.score)]),a(Ve,je)},Be=Ve=>{var je=L(),pt=f(je);{var nt=he=>{var ze=bs();a(he,ze)};g(pt,he=>{T()&&he(nt)},!0)}a(Ve,je)};g(ue,Ve=>{!T()&&n.game.score!=null?Ve(Ie):Ve(Be,!1)},!0)}a(pe,Oe)};g($e,pe=>{e(h)?pe(We):pe(Ze,!1)})}a(X,ve)};g(Rt,X=>{e(y)&&X(He)})}t(ot),t(xe),t(Fe),k(()=>{Kt(Fe,1,`group relative block w-full cursor-pointer overflow-hidden rounded-lg text-left transition-all focus:ring-2 focus:ring-ring focus:outline-none ${e(E).border??""} ${e(E).hoverBorder??""} ${n.pickType==="altPick"?"opacity-60 hover:opacity-100":""} hover:shadow-md`),p(Ne,e(V))}),a(se,Fe),Ye()}br(["click"]);var ws=c('<p class="text-xs text-muted-foreground"> </p>'),ks=c('<button type="button" class="flex w-full items-center justify-between gap-3 px-3 py-2 text-left transition-colors hover:bg-white/4 focus:ring-2 focus:ring-ring focus:outline-none disabled:pointer-events-none disabled:opacity-50"><div class="min-w-0 flex-1"><p class="truncate text-sm font-medium"> </p> <!></div> <span class="shrink-0 font-mono text-sm font-semibold tabular-nums"> </span></button>'),Ps=c('<div><div><!> <p class="text-sm font-medium"> </p></div> <div class="max-h-40 overflow-y-auto"></div> <div><span class="text-xs font-medium text-muted-foreground">Subtotal</span> <span class="font-mono text-sm font-semibold tabular-nums"> </span></div></div>'),$s=c('<button type="button" class="flex w-full items-center justify-between gap-3 px-3 py-2 text-left transition-colors hover:bg-destructive/10 focus:ring-2 focus:ring-ring focus:outline-none disabled:pointer-events-none disabled:opacity-50"><div class="min-w-0 flex-1"><p class="truncate text-sm font-medium"> </p> <p class="text-xs text-muted-foreground"> </p></div> <span class="shrink-0 font-mono text-sm font-semibold text-destructive tabular-nums"> </span></button>'),Ss=c('<div class="max-h-40 overflow-y-auto"></div>'),Ds=c(`<div class="overflow-hidden rounded-lg border border-destructive/20 bg-destructive/5"><div class="flex items-center gap-2 border-b border-destructive/10 px-3 py-2.5"><!> <div><p class="text-sm font-medium">Bomb damage received</p> <p class="text-xs text-muted-foreground">From other players' bomb picks</p></div></div> <!> <div class="flex items-center justify-between border-t border-destructive/10 bg-destructive/5 px-3 py-2"><span class="text-xs font-medium text-muted-foreground">Subtotal</span> <span class="font-mono text-sm font-semibold text-destructive tabular-nums"> </span></div></div>`),Cs=c('<div class="space-y-3"><!> <!> <div class="flex items-center justify-between border-t border-white/6 pt-3"><p class="font-semibold">Total</p> <span class="font-mono text-lg font-bold text-primary tabular-nums"> </span></div></div>'),Bs=c('<p class="py-8 text-center text-sm text-muted-foreground">No score data available.</p>'),Ts=c('<div class="border-b border-white/6 px-5 py-4"><!> <!></div> <div class="max-h-[60vh] overflow-y-auto px-5 py-4"><!></div>',1);function Ms(se,n){Qe(n,!0);let i=ut(n,"delistedGames",19,()=>[]),T=ut(n,"teamDisplayName",3,""),h=ut(n,"bombBreakdown",19,()=>[]);const E=d(()=>T()||n.team?.name||"Unknown"),y=d(()=>n.team?Na(n.team.picks,n.games,i(),n.team.bombAdjustment??0):null),V=d(()=>{if(!e(y))return[];const Ce=e(y).items.filter(H=>H.score!==0);return[{key:"hit",label:"Hit",items:Ce.filter(H=>H.pickType==="hitPick"),border:"border-accent/20",bg:"bg-accent/5",divider:"border-accent/10",iconColor:"text-accent"},{key:"winter",label:"Winter",items:Ce.filter(H=>H.phase==="winter"),border:"border-sky-400/20",bg:"bg-sky-400/5",divider:"border-sky-400/10",iconColor:"text-sky-400"},{key:"summer",label:"Summer",items:Ce.filter(H=>H.phase==="summer"),border:"border-amber-400/20",bg:"bg-amber-400/5",divider:"border-amber-400/10",iconColor:"text-amber-400"},{key:"fall",label:"Fall",items:Ce.filter(H=>H.phase==="fall"),border:"border-amber-600/20",bg:"bg-amber-600/5",divider:"border-amber-600/10",iconColor:"text-amber-600"}].map(H=>({...H,subtotal:H.items.reduce((xe,Me)=>xe+Me.score,0)})).filter(H=>H.items.length>0)});var Ge=L(),Fe=f(Ge);Pe(Fe,()=>Qr,(Ce,Xe)=>{Xe(Ce,{get open(){return n.open},get onOpenChange(){return n.onOpenChange},children:(H,xe)=>{var Me=L(),gt=f(Me);Pe(gt,()=>Jr,(Bt,Ne)=>{Ne(Bt,{class:"gap-0 overflow-hidden p-0 sm:max-w-md",children:(ot,Rt)=>{var He=Ts(),X=f(He),ve=r(X);Pe(ve,()=>Kr,(ue,Ie)=>{Ie(ue,{class:"text-lg font-semibold",children:(Be,Ve)=>{De();var je=st("Score breakdown");a(Be,je)},$$slots:{default:!0}})});var $e=o(ve,2);Pe($e,()=>aa,(ue,Ie)=>{Ie(ue,{class:"mt-0.5 text-sm text-muted-foreground",children:(Be,Ve)=>{De();var je=st();k(()=>p(je,e(E))),a(Be,je)},$$slots:{default:!0}})}),t(X);var We=o(X,2),Ze=r(We);{var pe=ue=>{var Ie=Cs(),Be=r(Ie);we(Be,17,()=>e(V),ke,(ze,oe)=>{var rt=Ps(),_t=r(rt),Ut=r(_t);{var zt=Se=>{ta(Se,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})},Et=Se=>{var Le=L(),Re=f(Le);{var bt=et=>{ra(et,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})},Te=et=>{var it=L(),yt=f(it);{var Mt=Ue=>{Xr(Ue,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})},Zt=Ue=>{var wt=L(),er=f(wt);{var s=l=>{Yr(l,{get class(){return`h-4 w-4 shrink-0 ${e(oe).iconColor??""}`}})};g(er,l=>{e(oe).key==="fall"&&l(s)},!0)}a(Ue,wt)};g(yt,Ue=>{e(oe).key==="summer"?Ue(Mt):Ue(Zt,!1)},!0)}a(et,it)};g(Re,et=>{e(oe).key==="winter"?et(bt):et(Te,!1)},!0)}a(Se,Le)};g(Ut,Se=>{e(oe).key==="hit"?Se(zt):Se(Et,!1)})}var Ft=o(Ut,2),Xt=r(Ft,!0);t(Ft),t(_t);var at=o(_t,2);we(at,21,()=>e(oe).items,ke,(Se,Le)=>{var Re=ks();Re.__click=()=>n.onGameClick?.(e(Le).gameId);var bt=r(Re),Te=r(bt),et=r(Te,!0);t(Te);var it=o(Te,2);{var yt=Ue=>{var wt=ws(),er=r(wt,!0);t(wt),k(()=>p(er,e(Le).label)),a(Ue,wt)};g(it,Ue=>{e(Le).label!==e(oe).label&&Ue(yt)})}t(bt);var Mt=o(bt,2),Zt=r(Mt);t(Mt),t(Re),k(Ue=>{Re.disabled=!n.onGameClick,p(et,e(Le).gameName),p(Zt,`+${Ue??""}`)},[()=>Math.round(e(Le).score)]),a(Se,Re)}),t(at);var xt=o(at,2),Tt=o(r(xt),2),ht=r(Tt);t(Tt),t(xt),t(rt),k(Se=>{Kt(rt,1,`overflow-hidden rounded-lg border ${e(oe).border??""} ${e(oe).bg??""}`),Kt(_t,1,`flex items-center gap-2 border-b ${e(oe).divider??""} px-3 py-2.5`),p(Xt,e(oe).label),Kt(xt,1,`flex items-center justify-between border-t ${e(oe).divider??""} bg-white/2 px-3 py-2`),p(ht,`+${Se??""}`)},[()=>Math.round(e(oe).subtotal)]),a(ze,rt)});var Ve=o(Be,2);{var je=ze=>{var oe=Ds(),rt=r(oe),_t=r(rt);ea(_t,{class:"h-4 w-4 shrink-0 text-destructive"}),De(2),t(rt);var Ut=o(rt,2);{var zt=at=>{var xt=Ss();we(xt,21,h,ke,(Tt,ht)=>{var Se=$s();Se.__click=()=>n.onGameClick?.(e(ht).gameId);var Le=r(Se),Re=r(Le),bt=r(Re,!0);t(Re);var Te=o(Re,2),et=r(Te);t(Te),t(Le);var it=o(Le,2),yt=r(it,!0);t(it),t(Se),k(Mt=>{Se.disabled=!n.onGameClick,p(bt,e(ht).gameName),p(et,`${e(ht).pickerTeamName??""}'s bomb`),p(yt,Mt)},[()=>Math.round(e(ht).damage)]),a(Tt,Se)}),t(xt),a(at,xt)};g(Ut,at=>{h().length>0&&at(zt)})}var Et=o(Ut,2),Ft=o(r(Et),2),Xt=r(Ft,!0);t(Ft),t(Et),t(oe),k(at=>p(Xt,at),[()=>Math.round(e(y).bombAdjustment)]),a(ze,oe)};g(Ve,ze=>{(n.team?.bombAdjustment??0)!==0&&ze(je)})}var pt=o(Ve,2),nt=o(r(pt),2),he=r(nt,!0);t(nt),t(pt),t(Ie),k(ze=>p(he,ze),[()=>Math.round(e(y).total)]),a(ue,Ie)},Oe=ue=>{var Ie=Bs();a(ue,Ie)};g(Ze,ue=>{e(y)?ue(pe):ue(Oe,!1)})}t(We),a(ot,He)},$$slots:{default:!0}})}),a(H,Me)},$$slots:{default:!0}})}),a(se,Ge),Ye()}br(["click"]);function qr(se,n){Qe(n,!0);let i=mt(n,["$$slots","$$events","$$legacy"]);const T=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];Yt(se,Vt({name:"circle-check-big"},()=>i,{get iconNode(){return T},children:(h,E)=>{var y=L(),V=f(y);ft(V,()=>n.children??Ct),a(h,y)},$$slots:{default:!0}})),Ye()}function Ns(se,n){Qe(n,!0);let i=mt(n,["$$slots","$$events","$$legacy"]);const T=[["circle",{cx:"12",cy:"12",r:"10"}]];Yt(se,Vt({name:"circle"},()=>i,{get iconNode(){return T},children:(h,E)=>{var y=L(),V=f(y);ft(V,()=>n.children??Ct),a(h,y)},$$slots:{default:!0}})),Ye()}function nr(se,n){Qe(n,!0);let i=mt(n,["$$slots","$$events","$$legacy"]);const T=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];Yt(se,Vt({name:"loader"},()=>i,{get iconNode(){return T},children:(h,E)=>{var y=L(),V=f(y);ft(V,()=>n.children??Ct),a(h,y)},$$slots:{default:!0}})),Ye()}function Ls(se,n){Qe(n,!0);let i=mt(n,["$$slots","$$events","$$legacy"]);const T=[["line",{x1:"10",x2:"14",y1:"2",y2:"2"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11"}],["circle",{cx:"12",cy:"14",r:"8"}]];Yt(se,Vt({name:"timer"},()=>i,{get iconNode(){return T},children:(h,E)=>{var y=L(),V=f(y);ft(V,()=>n.children??Ct),a(h,y)},$$slots:{default:!0}})),Ye()}var Gs=c('<div class="h-32 animate-pulse rounded-xl bg-white/4"></div>'),Is=c('<div class="space-y-4"><div class="h-12 w-48 animate-pulse rounded-lg bg-white/4"></div> <div class="grid gap-4 sm:grid-cols-3"></div></div>'),js=c("<!> Back to dashboard",1),As=c('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">Connection error</h2> <p class="text-sm text-muted-foreground"> </p> <div class="flex gap-3"><!> <!></div></div>'),Os=c("<!> Back to dashboard",1),Rs=c('<div class="flex flex-col items-center gap-4 py-16 text-center"><h2 class="text-xl font-bold">League not found</h2> <!></div>'),Us=c('<div class="flex items-center gap-2"><p class="text-lg font-semibold text-primary"> </p> <button type="button" class="rounded p-1 text-muted-foreground transition-colors hover:bg-white/6 hover:text-foreground focus:ring-2 focus:ring-ring focus:outline-none" title="Score breakdown"><!></button></div>'),Es=c("<!> <!>",1),Fs=c('<div class="overflow-hidden rounded-2xl border border-accent/20 bg-linear-to-br from-accent/10 via-accent/5 to-transparent"><div class="flex flex-col items-center gap-4 px-6 py-10 text-center sm:flex-row sm:justify-center sm:gap-8 sm:text-left"><div class="flex h-20 w-20 shrink-0 items-center justify-center rounded-2xl bg-accent/20"><!></div> <div class="space-y-1"><p class="text-sm font-medium tracking-wider text-muted-foreground uppercase"> </p> <h2 class="text-2xl font-bold text-foreground md:text-3xl"> </h2> <!></div> <!></div></div>'),Hs=c('<div class="absolute inset-x-0 top-0 h-0.5 bg-linear-to-r from-amber-500/60 via-amber-500 to-amber-500/60"></div>'),Ws=c('<div class="absolute inset-x-0 top-0 h-0.5 bg-linear-to-r from-primary/60 via-primary to-primary/60"></div>'),Vs=c('<div class="absolute inset-x-0 top-0 h-0.5 bg-accent/40"></div>'),zs=c('<p class="text-center text-xs text-muted-foreground">Loading...</p>'),qs=c("<!> ",1),Js=c('<p class="text-center text-xs text-muted-foreground">Draft complete</p>'),Ks=c('<p class="text-center text-xs text-muted-foreground">Skipped</p>'),Qs=c('<p class="text-center text-xs text-muted-foreground"> </p>'),Ys=c('<p class="text-center text-xs text-muted-foreground"> </p>'),Xs=c('<p class="text-center text-xs text-muted-foreground"> </p>'),Zs=c('<div><!> <div class="p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="font-semibold"> </span></div> <span class="text-[10px] font-medium text-muted-foreground uppercase"> </span></div> <p class="mt-1 text-xs text-muted-foreground"> </p> <div class="mt-3"><!></div></div></div>'),eo=c('<div class="grid gap-3 sm:grid-cols-3"></div>'),to=c("<!> Delete",1),ro=c("This will permanently delete <strong> </strong>. You cannot undo this.",1),ao=c("<!> <!>",1),so=c("<!> <!>",1),oo=c("<!> <!>",1),no=c('<div class="animate-fade-in-up overflow-hidden rounded-xl border border-primary/20 bg-card/60"><div class="border-b border-white/6 bg-white/2 px-5 py-4"><h3 class="font-semibold">League Settings</h3> <p class="text-sm text-muted-foreground">Manage picks per phase and league options.</p></div> <div class="space-y-6 p-5"><div class="flex flex-wrap items-end gap-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <p class="text-sm"> </p></div></div> <!> <div class="rounded-lg border border-destructive/20 bg-destructive/5 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div><p class="text-sm font-medium text-destructive">Delete league</p> <p class="mt-0.5 text-xs text-muted-foreground">This cannot be undone.</p></div> <!></div></div></div></div> <!>',1),io=c('<div class="flex h-48 items-center justify-center md:h-64"><!></div>'),lo=Qt('<line stroke="white" stroke-opacity="0.06" stroke-width="1"></line><text text-anchor="end" fill="#8899aa" font-size="10"> </text>',1),co=Qt('<defs><linearGradient x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-opacity="0.15"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><polygon></polygon><polyline fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></polyline><circle r="3"></circle>',1),vo=Qt('<rect fill="transparent" role="presentation"></rect>'),uo=Qt('<circle r="4" stroke="#111827" stroke-width="2"></circle>'),fo=Qt('<line stroke="white" stroke-opacity="0.15" stroke-width="1" stroke-dasharray="3 3"></line><!>',1),mo=Qt('<text text-anchor="middle" fill="#8899aa" font-size="10"> </text>'),go=c('<div class="flex items-center gap-1.5"><div class="h-2 w-2 rounded-full"></div> <span class="text-xs text-muted-foreground"> </span> <span class="font-mono text-xs font-medium text-foreground"> </span></div>'),po=c('<div class="mt-2 rounded-lg border border-white/6 bg-white/3 px-4 py-2.5"><p class="mb-1.5 text-xs font-medium text-muted-foreground"> </p> <div class="flex flex-wrap gap-x-5 gap-y-1"></div></div>'),_o=c('<div class="flex items-center gap-1.5"><div class="h-2.5 w-2.5 rounded-sm"></div> <span class="text-xs text-muted-foreground"> </span></div>'),xo=c('<div class="overflow-x-auto"><svg class="w-full" style="min-width: 500px" role="img" aria-label="Score history chart"><!><!><!><!><!></svg></div> <!> <div class="mt-3 flex flex-wrap gap-x-4 gap-y-1.5 px-1"></div>',1),ho=c('<div class="flex h-48 flex-col items-center justify-center gap-2 text-muted-foreground md:h-64"><!> <p class="text-sm">No score data available yet</p></div>'),bo=c('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No teams yet. Wait for the draft!</div>'),yo=c("<!> <!>",1),wo=c('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Hit & Bomb</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"><!> <!></div></div>'),ko=c('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase"> </p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),Po=c('<div><p class="mb-2 text-[10px] font-semibold tracking-wider text-muted-foreground uppercase">Alt (Backup)</p> <div class="grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6"></div></div>'),$o=c('<div class="animate-fade-in-up space-y-4 border-t border-white/6 px-4 py-4"><!> <!> <!></div>'),So=c('<div class="overflow-hidden rounded-xl border border-white/6 bg-card/40 transition-colors hover:border-white/10"><div role="button" tabindex="0" class="flex w-full cursor-pointer items-center gap-3 px-4 py-3 text-left"><span></span> <!> <div class="min-w-0 flex-1"><p class="truncate font-medium"> </p> <p class="truncate text-xs text-muted-foreground"> </p></div> <div class="flex items-center gap-3"><span class="font-mono text-lg font-bold text-primary"> </span> <button type="button" class="rounded p-1 text-muted-foreground transition-colors hover:bg-white/6 hover:text-foreground focus:ring-2 focus:ring-ring focus:outline-none" title="Score breakdown"><!></button> <!></div></div> <!></div>'),Do=c('<h2 class="text-lg font-semibold">Season Summary</h2> <div class="overflow-hidden rounded-xl border border-white/6 bg-card/40 p-4"><div class="space-y-2 text-sm text-muted-foreground"><p> </p> <p> </p></div></div>',1),Co=c('<div class="py-10 text-center text-sm text-muted-foreground">No upcoming games</div>'),Bo=c('<img class="h-14 w-10 shrink-0 rounded object-cover"/>'),To=c('<div class="flex h-14 w-10 shrink-0 items-center justify-center rounded bg-white/4 text-[8px] text-muted-foreground">N/A</div>'),Mo=c('<span class="rounded bg-primary/10 px-1.5 py-0.5 text-[9px] font-medium text-primary"> </span>'),No=c('<span class="text-[10px] text-muted-foreground"> </span> <!>',1),Lo=c('<span class="rounded bg-white/6 px-1.5 py-0.5 text-[9px] text-muted-foreground"> </span>'),Go=c('<button type="button" class="flex w-full cursor-pointer items-start gap-2.5 rounded-lg p-2.5 text-left transition-colors hover:bg-white/4 focus:ring-2 focus:ring-ring focus:outline-none"><!> <div class="min-w-0 flex-1"><h3 class="line-clamp-1 text-sm font-medium"> </h3> <div class="mt-0.5 flex items-center gap-1.5"><!></div> <div class="mt-1 flex flex-wrap gap-1"></div></div></button>'),Io=c('<div class="space-y-1 p-2"><!></div>'),jo=c('<h2 class="text-lg font-semibold">Upcoming Releases</h2> <div class="overflow-hidden rounded-xl border border-white/6 bg-card/40"><!></div>',1),Ao=c('<div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"><div class="space-y-2"><div class="flex items-center gap-3"><h1 class="text-3xl font-bold tracking-tight md:text-4xl"> </h1> <!></div> <div class="flex flex-wrap items-center gap-2"><span class="text-sm text-muted-foreground"> </span> <span class="rounded-md bg-white/5 px-2 py-0.5 font-mono text-xs text-foreground"> </span> <!></div></div></div> <!> <!> <div class="grid gap-6 lg:grid-cols-[1fr_320px]"><div class="space-y-6"><div class="overflow-hidden rounded-xl border border-white/6 bg-card/40"><div class="flex items-center gap-2 border-b border-white/6 px-5 py-3"><!> <h2 class="font-semibold"> </h2></div> <div class="p-4"><!></div></div> <div class="space-y-3"><h2 class="text-lg font-semibold"> </h2> <!></div></div> <div class="space-y-3"><!></div></div>',1),Oo=c('<div class="space-y-6"><!></div> <!> <!>',1);function pn(se,n){Qe(n,!0);let i=te(null),T=te(dt([])),h=te(dt({})),E=te(dt({})),y=te(!0),V=te(void 0),Ge=te(!1),Fe=te(!1),Ce=te(!1),Xe=te(!1),H=te(dt(new Set)),xe=te(dt(new Map)),Me=te(dt([])),gt=te(!1),Bt=te(!1),Ne=te(null),ot=te(null),Rt=te(!1),He=te(null),X=te(dt({winter:null,summer:null,fall:null})),ve=te(!1),$e=te(null),We=te(null),Ze=te(dt(new Set)),pe=te(null),Oe=te(dt({})),ue=te(dt(jr(Ar)));ct(()=>Ar.subscribe(l=>u(ue,l??null,!0)));async function Ie(){if(e(V)){u(We,null),u(y,!0);try{const s=await hr(e(V));u(i,s,!0)}catch(s){u(We,s instanceof Error?s.message:"Load failed",!0)}finally{u(y,!1)}}}async function Be(s){u(Ne,s,!0),u(Bt,!0),u(ot,null),u(Rt,!0);try{const l=await Or(s);u(ot,l?{...l,id:s}:null,!0)}finally{u(Rt,!1)}}function Ve(){u(Bt,!1),u(Ne,null),u(ot,null)}async function je(){if(!e(ue)||!e(Ne)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(ue)),console.log("selectedGameId",e(Ne));return}e(Ze).has(e(Ne))?(await Qa(e(ue).uid,e(Ne)),u(Ze,new Set([...e(Ze)].filter(l=>l!==e(Ne))),!0)):(await Ya(e(ue).uid,e(Ne)),u(Ze,new Set([...e(Ze),e(Ne)]),!0))}ct(()=>{const s=e(ue);if(!s){u(Ze,new Set,!0);return}Ja(s.uid).then(l=>u(Ze,l,!0))}),ct(()=>{const s=jr(Ma).params?.id;u(V,s,!0),s&&u(y,!0)}),ct(()=>{const s=e(V);s&&(u(We,null),hr(s).then(l=>{u(i,l,!0),u(y,!1)}).catch(l=>{u(We,l instanceof Error?l.message:"Load failed",!0),u(y,!1)}))}),ct(()=>{const s=e(V),l=e(i)?.season;!s||!l||(u(ve,!1),Aa(s,l).then(async M=>{if(u(X,M,!0),u(ve,!0),!tr(l)){await Oa(s);const w=await hr(s);w&&w.currentPhase!==e(i)?.currentPhase&&u(i,w,!0)}}))}),ct(()=>{const s=e(V);s&&Ra(s).then(l=>{u(T,l,!0),Promise.all(l.map(M=>Va(M.id))).then(M=>{const w={};M.forEach((F,O)=>{F?w[l[O].id]={displayName:F.displayName||l[O].name,avatarUrl:F.avatarUrl}:w[l[O].id]={displayName:l[O].name,avatarUrl:null}}),u(E,w,!0)})})}),ct(()=>{const s=[],l=new Set;for(const M of e(T)){const w=M.picks;for(const F of[w?.hitPick,w?.bombPick,...w?.winterPicks??[],...w?.summerPicks??[],...w?.fallPicks??[],...w?.altPicks??[]].filter(Boolean))l.has(F)||(l.add(F),s.push(F))}s.length!==0&&Promise.all(s.map(M=>Or(M))).then(M=>{const w={};M.forEach((F,O)=>{F&&(w[s[O]]=F)}),u(h,{...e(h),...w},!0)})}),ct(()=>{const s=e(V),l=e(i)?.season;!s||e(T).length===0||(u(gt,!0),u($e,null),l&&tr(l)?Ua(s,l).then(M=>{u($e,M,!0);const w=new Map;for(const F of M.graphData.series){const O=new Map;M.graphData.dates.forEach((lt,Ht)=>O.set(lt,F.data[Ht]??0)),w.set(F.teamId,O)}u(xe,w,!0)}).finally(()=>u(gt,!1)):Ea(s).then(M=>u(xe,M,!0)).finally(()=>u(gt,!1)))}),ct(()=>{Wa().then(s=>u(Me,s,!0))}),ct(()=>{const s=e(V);if(!s||e(T).length===0){u(Oe,{},!0);return}const l=e(i)?.season&&tr(e(i).season)?La(e(i).season):void 0;Fa(s,e(T),e(h),l).then(M=>u(Oe,M,!0))});function pt(s){const l=new Set(e(H));l.has(s)?l.delete(s):l.add(s),u(H,l,!0)}function nt(s){const l=e(i)?.delistedGames??[],M=Ia(s.picks,l);let w=0;for(const F of M){const O=e(h)[F]?.score;O!=null&&(w+=O)}return w+(s.bombAdjustment??0)}const he=d(()=>!!e(i)&&!!e(i).season&&tr(e(i).season)),ze=d(()=>e(he)&&e($e)?[...e(T)].sort((s,l)=>(e($e).finalRanks[s.id]??999)-(e($e).finalRanks[l.id]??999)):[...e(T)].sort((s,l)=>nt(l)-nt(s))),oe=d(()=>{if(e(he)&&e($e)?.graphData)return{dates:e($e).graphData.dates,series:e($e).graphData.series.map(w=>({name:e(T).find(F=>F.id===w.teamId)?.name||e(E)[w.teamId]?.displayName||"Unknown",data:w.data}))};if(e(xe).size===0)return null;const s=new Set;e(xe).forEach(w=>{w.forEach((F,O)=>s.add(O))});const l=Array.from(s).sort(),M=e(ze).map(w=>{const F=e(xe).get(w.id)||new Map;return{name:w.name||e(E)[w.id]?.displayName,data:l.map(O=>F.get(O)||0)}});return{dates:l,series:M}});function rt(s){return e(he)&&e($e)?e($e).finalScores[s.id]??0:nt(s)}function _t(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}function Ut(s){if(!s)return"";const l=new Date,w=new Date(s).getTime()-l.getTime(),F=Math.ceil(w/(1e3*60*60*24));return F<=0?"Released":F===1?"Tomorrow":F<=7?`${F}d`:F<=30?`${Math.ceil(F/7)}w`:`${Math.ceil(F/30)}mo`}const zt=d(()=>!!(e(i)&&e(ue)?.uid===e(i).commissionerId));function Et(){u(Fe,!1)}function Ft(){Et(),u(Ge,!0)}function Xt(){Et(),u(Ge,!1)}async function at(){if(e(V)){u(Xe,!0);try{await Ha(e(V)),u(Ce,!1),u(Ge,!1),Ta("/dashboard")}catch(s){console.error(s)}finally{u(Xe,!1)}}}function xt(){if(!e(i))return"";if(e(i).status==="completed")return e(i).season&&tr(e(i).season)?`Season ${e(i).season} Complete`:"Completed";if(e(i).status==="draft"){const s=e(i).currentPhase??"winter";return s!=="winter"?"Scoring":e(i).season&&sr(s,e(i).season)?"Drafting":"Pre-Season"}return"Scoring"}function Tt(s){if(!e(i))return!1;const l=vt.indexOf(s),M=vt.indexOf(e(i).currentPhase);return l<M}function ht(s){return Tt(s)?"completed":e(X)[s]}function Se(s){if(Tt(s))return qr;if(!e(ve))return nr;const l=e(X)[s];return l==="completed"?qr:l==="active"||l==="pending"?nr:Ns}const Le={winter:"December",summer:"April",fall:"August"};function Re(s){if(Tt(s))return"Complete";if(!e(ve))return"Loading";const l=e(X)[s];if(l==="completed")return"Complete";if(l==="active"||l==="pending")return e(i)&&!sr(s,e(i).season)?`Opens ${Le[s]}`:"In Progress";const M=vt.indexOf(s),w=vt.indexOf(e(i)?.currentPhase??"winter");return M<w?"Skipped":e(i)?.currentPhase===s&&e(i)&&sr(s,e(i).season)?"Ready":`Opens ${Le[s]}`}function bt(s){if(!e(i))return!1;const l=vt.indexOf(s),M=vt.indexOf(e(i).currentPhase);return l!==M||e(X)[s]==="completed"?!1:sr(s,e(i).season)}const Te=["#5b9bf5","#6ddb7b","#f59e42","#e05d5d","#b47aed","#38bdf8","#f472b6","#facc15"];function et(s){return s===0?"bg-yellow-500/15 text-yellow-400 ring-1 ring-yellow-500/30":s===1?"bg-slate-400/15 text-slate-300 ring-1 ring-slate-400/30":s===2?"bg-amber-600/15 text-amber-500 ring-1 ring-amber-600/30":"bg-white/[0.05] text-muted-foreground"}var it=Oo();Ba("5wjyo2",s=>{Da(()=>{Ca.title=e(i)?.name??"League"??""})});var yt=f(it),Mt=r(yt);{var Zt=s=>{var l=Is(),M=o(r(l),2);we(M,20,()=>Array(3),ke,(w,F)=>{var O=Gs();a(w,O)}),t(M),t(l),a(s,l)},Ue=s=>{var l=L(),M=f(l);{var w=O=>{var lt=As(),Ht=o(r(lt),2),lr=r(Ht,!0);t(Ht);var rr=o(Ht,2),kt=r(rr);Ot(kt,{onclick:Ie,variant:"outline",children:(Pt,qt)=>{De();var $t=st("Retry");a(Pt,$t)},$$slots:{default:!0}});var Nt=o(kt,2);Ot(Nt,{variant:"ghost",href:"/dashboard",class:"gap-2",children:(Pt,qt)=>{var $t=js(),Lt=f($t);Vr(Lt,{class:"h-4 w-4"}),De(),a(Pt,$t)},$$slots:{default:!0}}),t(rr),t(lt),k(()=>p(lr,e(We))),a(O,lt)},F=O=>{var lt=L(),Ht=f(lt);{var lr=kt=>{var Nt=Rs(),Pt=o(r(Nt),2);Ot(Pt,{variant:"outline",href:"/dashboard",class:"gap-2",children:(qt,$t)=>{var Lt=Os(),dr=f(Lt);Vr(dr,{class:"h-4 w-4"}),De(),a(qt,Lt)},$$slots:{default:!0}}),t(Nt),a(kt,Nt)},rr=kt=>{var Nt=Ao(),Pt=f(Nt),qt=r(Pt),$t=r(qt),Lt=r($t),dr=r(Lt,!0);t(Lt);var sa=o(Lt,2);{var oa=G=>{Ot(G,{variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-foreground",onclick:()=>e(Ge)?Xt():Ft(),children:(B,ie)=>{ms(B,{class:"h-4 w-4"})},$$slots:{default:!0}})};g(sa,G=>{e(zt)&&!e(he)&&G(oa)})}t($t);var kr=o($t,2),cr=r(kr),na=r(cr);t(cr);var vr=o(cr,2),ia=r(vr,!0);t(vr);var la=o(vr,2);{let G=d(()=>e(i).status==="active"?"default":e(i).status==="completed"?"secondary":"outline");rs(la,{get variant(){return e(G)},class:"text-[10px]",children:(B,ie)=>{De();var J=st();k($=>p(J,$),[xt]),a(B,J)},$$slots:{default:!0}})}t(kr),t(qt),t(Pt);var Pr=o(Pt,2);{var da=G=>{const B=d(()=>e(ze)[0]);var ie=Fs(),J=r(ie),$=r(J),le=r($);is(le,{class:"h-10 w-10 text-accent"}),t($);var x=o($,2),de=r(x),S=r(de);t(de);var _e=o(de,2),K=r(_e);t(_e);var re=o(_e,2);{var me=ce=>{var fe=Us(),ae=r(fe),ge=r(ae);t(ae);var Q=o(ae,2);Q.__click=()=>u(pe,e(B).id,!0);var ne=r(Q);zr(ne,{class:"h-4 w-4"}),t(Q),t(fe),k(Ae=>p(ge,`Final score: ${Ae??""}`),[()=>Math.round(rt(e(B))).toLocaleString()]),a(ce,fe)};g(re,ce=>{e(B)&&ce(me)})}t(x);var Ee=o(x,2);{var Z=ce=>{var fe=L(),ae=f(fe);Pe(ae,()=>Hr,(ge,Q)=>{Q(ge,{class:"size-16 shrink-0 ring-2 ring-accent/40 ring-offset-2 ring-offset-background",children:(ne,Ae)=>{var qe=Es(),Je=f(qe);{let m=d(()=>e(E)[e(B).id]?.avatarUrl??void 0);Pe(Je,()=>Wr,(W,D)=>{D(W,{get src(){return e(m)},get alt(){return e(B).name}})})}var Ke=o(Je,2);Pe(Ke,()=>Fr,(m,W)=>{W(m,{class:"text-xl",children:(D,I)=>{De();var C=st();k(R=>p(C,R),[()=>(e(B).name||e(E)[e(B).id]?.displayName).slice(0,2).toUpperCase()]),a(D,C)},$$slots:{default:!0}})}),a(ne,qe)},$$slots:{default:!0}})}),a(ce,fe)};g(Ee,ce=>{e(B)&&ce(Z)})}t(J),t(ie),k(()=>{p(S,`Season ${e(i).season??""} Complete`),p(K,`${(e(B)?e(B).name||e(E)[e(B).id]?.displayName:"—")??""} is the Champion`)}),a(G,ie)},ca=G=>{var B=eo();we(B,21,()=>vt,ke,(ie,J)=>{const $=d(()=>ir[e(J)]),le=d(()=>ht(e(J))),x=d(()=>Re(e(J))),de=d(()=>Se(e(J))),S=d(()=>e(i).currentPhase===e(J)),_e=d(()=>bt(e(J))),K=d(()=>e(S)&&!e(_e)&&e(x).startsWith("Opens"));var re=Zs(),me=r(re);{var Ee=v=>{var _=Hs();a(v,_)},Z=v=>{var _=L(),j=f(_);{var b=P=>{var A=Ws();a(P,A)},N=P=>{var A=L(),z=f(A);{var q=ee=>{var Y=Vs();a(ee,Y)};g(z,ee=>{e(le)==="completed"&&ee(q)},!0)}a(P,A)};g(j,P=>{e(S)?P(b):P(N,!1)},!0)}a(v,_)};g(me,v=>{e(K)?v(Ee):v(Z,!1)})}var ce=o(me,2),fe=r(ce),ae=r(fe),ge=r(ae);{var Q=v=>{Ls(v,{class:"h-4 w-4 text-amber-500"})},ne=v=>{var _=L(),j=f(_);{let b=d(()=>e(x)==="Loading"?"animate-spin text-muted-foreground":e(le)==="completed"?"text-accent":e(S)?"animate-spin text-primary":"text-muted-foreground");Pe(j,()=>e(de),(N,P)=>{P(N,{get class(){return`h-4 w-4 ${e(b)??""}`}})})}a(v,_)};g(ge,v=>{e(K)?v(Q):v(ne,!1)})}var Ae=o(ge,2),qe=r(Ae,!0);t(Ae),t(ae);var Je=o(ae,2),Ke=r(Je,!0);t(Je),t(fe);var m=o(fe,2),W=r(m);t(m);var D=o(m,2),I=r(D);{var C=v=>{var _=zs();a(v,_)},R=v=>{var _=L(),j=f(_);{var b=P=>{{let A=d(()=>e(i).id),z=d(()=>ja(e(J),e(i).season)),q=d(()=>e(S)?"glow-sm-primary":""),ee=d(()=>e(S)?"default":"outline");Ot(P,{get href(){return`/league/${e(A)??""}/draft/${e(z)??""}`},size:"sm",get class(){return`w-full gap-2 ${e(q)??""}`},get variant(){return e(ee)},children:(Y,be)=>{var ye=qs(),Gt=f(ye);za(Gt,{class:"h-3.5 w-3.5"});var It=o(Gt);k(()=>p(It,` ${e(X)[e(J)]==="active"||e(X)[e(J)]==="pending"?"Continue Draft":"Enter Draft Room"}`)),a(Y,ye)},$$slots:{default:!0}})}},N=P=>{var A=L(),z=f(A);{var q=Y=>{var be=Js();a(Y,be)},ee=Y=>{var be=L(),ye=f(be);{var Gt=tt=>{var St=Ks();a(tt,St)},It=tt=>{var St=L(),Jt=f(St);{var ar=jt=>{var Dt=Qs(),_r=r(Dt,!0);t(Dt),k(()=>p(_r,e(x))),a(jt,Dt)},pr=jt=>{const Dt=d(()=>vt.indexOf(e(J))),_r=d(()=>vt.slice(0,e(Dt))),Nr=d(()=>e(_r).find(At=>ht(At)!=="completed"));var Lr=L(),ka=f(Lr);{var Pa=At=>{var Wt=Ys(),xr=r(Wt);t(Wt),k(()=>p(xr,`Opens ${Le[e(J)]??""}`)),a(At,Wt)},$a=At=>{var Wt=Xs(),xr=r(Wt);t(Wt),k(()=>p(xr,`Complete ${ir[e(Nr)]?.label??""??""} first`)),a(At,Wt)};g(ka,At=>{e(Nr)==null?At(Pa):At($a,!1)})}a(jt,Lr)};g(Jt,jt=>{e(x).startsWith("Opens")?jt(ar):jt(pr,!1)},!0)}a(tt,St)};g(ye,tt=>{e(x)==="Skipped"?tt(Gt):tt(It,!1)},!0)}a(Y,be)};g(z,Y=>{e(le)==="completed"?Y(q):Y(ee,!1)},!0)}a(P,A)};g(j,P=>{e(_e)?P(b):P(N,!1)},!0)}a(v,_)};g(I,v=>{e(x)==="Loading"?v(C):v(R,!1)})}t(D),t(ce),t(re),k((v,_,j)=>{Kt(re,1,`relative overflow-hidden rounded-xl border transition-all ${e(K)?"border-amber-500/40 bg-amber-500/4":e(S)?"border-primary/40 bg-primary/4":e(le)==="completed"?"border-accent/20 bg-accent/3":e(x)==="Loading"?"border-white/6 bg-white/2":e(x)==="Skipped"?"border-white/4 bg-white/1 opacity-50":"border-white/6 bg-white/2 opacity-60"}`),p(qe,e($).label),p(Ke,v),p(W,`${_??""} — ${j??""}`)},[()=>Re(e(J)),()=>e($).releaseStart(parseInt(e(i).season)).slice(5),()=>e($).releaseEnd(parseInt(e(i).season)).slice(5)]),a(ie,re)}),t(B),a(G,B)};g(Pr,G=>{e(he)&&e($e)?G(da):G(ca,!1)})}var $r=o(Pr,2);{var va=G=>{var B=no(),ie=f(B),J=o(r(ie),2),$=r(J),le=r($),x=r(le);Rr(x,{for:"editSeason",class:"text-muted-foreground",children:(ae,ge)=>{De();var Q=st("Season");a(ae,Q)},$$slots:{default:!0}});var de=o(x,2);ts(de,{id:"editSeason",get value(){return e(i).season},readonly:!0,class:"w-28 bg-white/3 font-mono read-only:cursor-default read-only:opacity-100"}),t(le);var S=o(le,2),_e=r(S);Rr(_e,{class:"text-muted-foreground",children:(ae,ge)=>{De();var Q=st("Picks per phase");a(ae,Q)},$$slots:{default:!0}});var K=o(_e,2),re=r(K);t(K),t(S),t($);var me=o($,2);as(me,{class:"opacity-30"});var Ee=o(me,2),Z=r(Ee),ce=o(r(Z),2);Ot(ce,{variant:"destructive",size:"sm",onclick:()=>u(Ce,!0),class:"shrink-0 gap-2",children:(ae,ge)=>{var Q=to(),ne=f(Q);gs(ne,{class:"h-4 w-4"}),De(),a(ae,Q)},$$slots:{default:!0}}),t(Z),t(Ee),t(J),t(ie);var fe=o(ie,2);Pe(fe,()=>Qr,(ae,ge)=>{ge(ae,{get open(){return e(Ce)},set open(Q){u(Ce,Q,!0)},children:(Q,ne)=>{var Ae=L(),qe=f(Ae);Pe(qe,()=>Jr,(Je,Ke)=>{Ke(Je,{children:(m,W)=>{var D=oo(),I=f(D);Pe(I,()=>fs,(R,v)=>{v(R,{children:(_,j)=>{var b=ao(),N=f(b);Pe(N,()=>Kr,(A,z)=>{z(A,{children:(q,ee)=>{De();var Y=st("Delete league?");a(q,Y)},$$slots:{default:!0}})});var P=o(N,2);Pe(P,()=>aa,(A,z)=>{z(A,{children:(q,ee)=>{De();var Y=ro(),be=o(f(Y)),ye=r(be,!0);t(be),De(),k(()=>p(ye,e(i)?.name)),a(q,Y)},$$slots:{default:!0}})}),a(_,b)},$$slots:{default:!0}})});var C=o(I,2);Pe(C,()=>vs,(R,v)=>{v(R,{class:"gap-2",children:(_,j)=>{var b=so(),N=f(b);Ot(N,{variant:"outline",onclick:()=>u(Ce,!1),get disabled(){return e(Xe)},children:(A,z)=>{De();var q=st("Cancel");a(A,q)},$$slots:{default:!0}});var P=o(N,2);Ot(P,{variant:"destructive",onclick:at,get disabled(){return e(Xe)},children:(A,z)=>{De();var q=st();k(()=>p(q,e(Xe)?"Deleting...":"Delete league")),a(A,q)},$$slots:{default:!0}}),a(_,b)},$$slots:{default:!0}})}),a(m,D)},$$slots:{default:!0}})}),a(Q,Ae)},$$slots:{default:!0}})}),k(ae=>p(re,`${ae??""} (based on 
								${e(i)?.members.length??0??""} players)`),[()=>e(i)?Ga(e(i).members.length):"—"]),a(G,B)};g($r,G=>{e(Ge)&&e(zt)&&!e(he)&&G(va)})}var Sr=o($r,2),ur=r(Sr),fr=r(ur),mr=r(fr),Dr=r(mr);Ur(Dr,{class:"h-4 w-4 text-primary"});var Cr=o(Dr,2),ua=r(Cr,!0);t(Cr),t(mr);var Br=o(mr,2),fa=r(Br);{var ma=G=>{var B=io(),ie=r(B);nr(ie,{class:"h-5 w-5 animate-spin text-muted-foreground"}),t(B),a(G,B)},ga=G=>{var B=L(),ie=f(B);{var J=le=>{const x=d(()=>e(oe)),de=d(()=>Math.max(...e(x).series.map(m=>Math.max(...m.data)),1)),S=d(()=>({top:20,right:20,bottom:30,left:45})),_e=d(()=>800),K=d(()=>280),re=d(()=>e(_e)-e(S).left-e(S).right),me=d(()=>e(K)-e(S).top-e(S).bottom);var Ee=xo(),Z=f(Ee),ce=r(Z);U(ce,"viewBox",`0 0 ${e(_e)??""} ${e(K)??""}`);var fe=r(ce);we(fe,16,()=>Array(5),ke,(m,W,D)=>{const I=d(()=>e(S).top+e(me)*D/4);var C=lo(),R=f(C),v=o(R),_=r(v,!0);t(v),k(j=>{U(R,"x1",e(S).left),U(R,"y1",e(I)),U(R,"x2",e(_e)-e(S).right),U(R,"y2",e(I)),U(v,"x",e(S).left-8),U(v,"y",e(I)+4),p(_,j)},[()=>Math.round(e(de)*(1-D/4))]),a(m,C)});var ae=o(fe);we(ae,17,()=>e(x).series,ke,(m,W,D)=>{const I=d(()=>Te[D%Te.length]),C=d(()=>e(W).data.map((ee,Y)=>{const be=e(S).left+e(re)*Y/(e(x).dates.length-1||1),ye=e(S).top+e(me)-e(me)*ee/e(de);return{x:be,y:ye}})),R=d(()=>e(C).map(ee=>`${ee.x},${ee.y}`).join(" ")),v=d(()=>e(C)[e(C).length-1]);var _=co(),j=f(_),b=r(j);U(b,"id",`grad-${D}`);var N=r(b),P=o(N);t(b),t(j);var A=o(j);U(A,"fill",`url(#grad-${D})`);var z=o(A),q=o(z);k(()=>{U(N,"stop-color",e(I)),U(P,"stop-color",e(I)),U(A,"points",`${e(S).left??""},${e(S).top+e(me)} ${e(R)??""} ${e(C)[e(C).length-1].x??""},${e(S).top+e(me)}`),U(z,"points",e(R)),U(z,"stroke",e(I)),U(q,"cx",e(v).x),U(q,"cy",e(v).y),U(q,"fill",e(I))}),a(m,_)});var ge=o(ae);we(ge,17,()=>e(x).dates,ke,(m,W,D)=>{const I=d(()=>e(S).left+e(re)*D/(e(x).dates.length-1||1));var C=vo();k(()=>{U(C,"x",e(I)-e(re)/(e(x).dates.length-1||1)/2),U(C,"y",e(S).top),U(C,"width",e(re)/(e(x).dates.length-1||1)),U(C,"height",e(me))}),Gr("mouseenter",C,()=>u(He,D,!0)),a(m,C)});var Q=o(ge);{var ne=m=>{const W=d(()=>e(S).left+e(re)*e(He)/(e(x).dates.length-1||1));var D=fo(),I=f(D),C=o(I);we(C,17,()=>e(x).series,ke,(R,v,_)=>{const j=d(()=>Te[_%Te.length]),b=d(()=>e(v).data[e(He)]),N=d(()=>e(S).top+e(me)-e(me)*e(b)/e(de));var P=uo();k(()=>{U(P,"cx",e(W)),U(P,"cy",e(N)),U(P,"fill",e(j))}),a(R,P)}),k(()=>{U(I,"x1",e(W)),U(I,"y1",e(S).top),U(I,"x2",e(W)),U(I,"y2",e(S).top+e(me))}),a(m,D)};g(Q,m=>{e(He)!==null&&m(ne)})}var Ae=o(Q);we(Ae,17,()=>e(x).dates,ke,(m,W,D)=>{const I=d(()=>D%Math.ceil(e(x).dates.length/7)===0||D===e(x).dates.length-1);var C=L(),R=f(C);{var v=_=>{const j=d(()=>e(S).left+e(re)*D/(e(x).dates.length-1||1));var b=mo();U(b,"y",e(K)-6);var N=r(b,!0);t(b),k(P=>{U(b,"x",e(j)),p(N,P)},[()=>_t(e(W))]),a(_,b)};g(R,_=>{e(I)&&_(v)})}a(m,C)}),t(ce),t(Z);var qe=o(Z,2);{var Je=m=>{var W=po(),D=r(W),I=r(D,!0);t(D);var C=o(D,2);we(C,21,()=>e(x).series,ke,(R,v,_)=>{var j=go(),b=r(j),N=o(b,2),P=r(N,!0);t(N);var A=o(N,2),z=r(A,!0);t(A),t(j),k(q=>{Ir(b,`background: ${Te[_%Te.length]??""}`),p(P,e(v).name),p(z,q)},[()=>Math.round(e(v).data[e(He)])]),a(R,j)}),t(C),t(W),k(R=>p(I,R),[()=>_t(e(x).dates[e(He)])]),a(m,W)};g(qe,m=>{e(He)!==null&&m(Je)})}var Ke=o(qe,2);we(Ke,21,()=>e(x).series,ke,(m,W,D)=>{var I=_o(),C=r(I),R=o(C,2),v=r(R,!0);t(R),t(I),k(()=>{Ir(C,`background: ${Te[D%Te.length]??""}`),p(v,e(W).name)}),a(m,I)}),t(Ke),Gr("mouseleave",ce,()=>u(He,null)),a(le,Ee)},$=le=>{var x=ho(),de=r(x);Ur(de,{class:"h-8 w-8 opacity-30"}),De(2),t(x),a(le,x)};g(ie,le=>{e(oe)&&e(oe).dates.length>0?le(J):le($,!1)},!0)}a(G,B)};g(fa,G=>{e(gt)?G(ma):G(ga,!1)})}t(Br),t(fr);var Tr=o(fr,2),gr=r(Tr),pa=r(gr,!0);t(gr);var _a=o(gr,2);{var xa=G=>{var B=bo();a(G,B)},ha=G=>{var B=L(),ie=f(B);we(ie,17,()=>e(ze),ke,(J,$,le)=>{var x=So(),de=r(x);de.__click=()=>pt(e($).id),de.__keydown=m=>(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),pt(e($).id));var S=r(de);S.textContent=le+1;var _e=o(S,2);Pe(_e,()=>Hr,(m,W)=>{W(m,{class:"size-9 shrink-0",children:(D,I)=>{var C=yo(),R=f(C);{let _=d(()=>e(E)[e($).id]?.avatarUrl??void 0);Pe(R,()=>Wr,(j,b)=>{b(j,{get src(){return e(_)},get alt(){return e($).name}})})}var v=o(R,2);Pe(v,()=>Fr,(_,j)=>{j(_,{class:"text-xs",children:(b,N)=>{De();var P=st();k(A=>p(P,A),[()=>(e($).name||e(E)[e($).id]?.displayName).slice(0,2).toUpperCase()]),a(b,P)},$$slots:{default:!0}})}),a(D,C)},$$slots:{default:!0}})});var K=o(_e,2),re=r(K),me=r(re,!0);t(re);var Ee=o(re,2),Z=r(Ee,!0);t(Ee),t(K);var ce=o(K,2),fe=r(ce),ae=r(fe,!0);t(fe);var ge=o(fe,2);ge.__click=m=>{m.stopPropagation(),u(pe,e($).id,!0)};var Q=r(ge);zr(Q,{class:"h-4 w-4"}),t(ge);var ne=o(ge,2);{var Ae=m=>{Xa(m,{class:"h-4 w-4 text-muted-foreground"})},qe=m=>{Za(m,{class:"h-4 w-4 text-muted-foreground"})};g(ne,m=>{e(H).has(e($).id)?m(Ae):m(qe,!1)})}t(ce),t(de);var Je=o(de,2);{var Ke=m=>{const W=d(()=>e($).picks?.hitPick?e(h)[e($).picks.hitPick]:null),D=d(()=>e(Oe)[e($).id]??[]);var I=$o(),C=r(I);{var R=b=>{var N=wo(),P=o(r(N),2),A=r(P);{var z=ee=>{or(ee,{get game(){return e(W)},pickType:"hitPick",get isPastSeasonView(){return e(he)},onclick:()=>Be(e($).picks.hitPick)})};g(A,ee=>{e(W)&&ee(z)})}var q=o(A,2);we(q,17,()=>e(D),ke,(ee,Y)=>{const be=d(()=>e(h)[e(Y).gameId]);var ye=L(),Gt=f(ye);{var It=tt=>{{let St=d(()=>({...e(be),id:e(Y).gameId})),Jt=d(()=>`${e(Y).pickerTeamName}'s bomb`);or(tt,{get game(){return e(St)},pickType:"bombPick",get isPastSeasonView(){return e(he)},get bombReceivedLabel(){return e(Jt)},get bombDamageReceived(){return e(Y).damage},onclick:()=>Be(e(Y).gameId)})}};g(Gt,tt=>{e(be)&&tt(It)})}a(ee,ye)}),t(P),t(N),a(b,N)};g(C,b=>{(e(W)||e(D).length>0)&&b(R)})}var v=o(C,2);we(v,17,()=>vt,ke,(b,N)=>{const P=d(()=>e(N)==="winter"?"winterPicks":e(N)==="summer"?"summerPicks":"fallPicks"),A=d(()=>e($).picks?.[e(P)]??[]);var z=L(),q=f(z);{var ee=Y=>{var be=ko(),ye=r(be),Gt=r(ye,!0);t(ye);var It=o(ye,2);we(It,21,()=>e(A),ke,(tt,St)=>{const Jt=d(()=>e(h)[e(St)]);var ar=L(),pr=f(ar);{var jt=Dt=>{or(Dt,{get game(){return e(Jt)},pickType:"seasonalPick",get phase(){return e(N)},get isPastSeasonView(){return e(he)},onclick:()=>Be(e(St))})};g(pr,Dt=>{e(Jt)&&Dt(jt)})}a(tt,ar)}),t(It),t(be),k(()=>p(Gt,ir[e(N)].label)),a(Y,be)};g(q,Y=>{e(A).length>0&&Y(ee)})}a(b,z)});var _=o(v,2);{var j=b=>{var N=Po(),P=o(r(N),2);we(P,21,()=>e($).picks?.altPicks??[],ke,(A,z)=>{const q=d(()=>e(h)[e(z)]);var ee=L(),Y=f(ee);{var be=ye=>{or(ye,{get game(){return e(q)},pickType:"altPick",get isPastSeasonView(){return e(he)},onclick:()=>Be(e(z))})};g(Y,ye=>{e(q)&&ye(be)})}a(A,ee)}),t(P),t(N),a(b,N)};g(_,b=>{(e($).picks?.altPicks??[]).length>0&&b(j)})}t(I),a(m,I)};g(Je,m=>{e(H).has(e($).id)&&m(Ke)})}t(x),k((m,W)=>{Kt(S,1,`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-xs font-bold ${m??""}`),p(me,e($).name),p(Z,e(E)[e($).id]?.displayName||e($).name),p(ae,W)},[()=>et(le),()=>Math.round(rt(e($)))]),a(J,x)}),a(G,B)};g(_a,G=>{e(T).length===0?G(xa):G(ha,!1)})}t(Tr),t(ur);var Mr=o(ur,2),ba=r(Mr);{var ya=G=>{var B=Do(),ie=o(f(B),2),J=r(ie),$=r(J),le=r($);t($);var x=o($,2),de=r(x);t(x),t(J),t(ie),k(S=>{p(le,`${e(T).length??""} players competed in Season ${e(i).season??""}.`),p(de,`${S??""} games drafted`)},[()=>e(T).reduce((S,_e)=>{const K=_e.picks,re=(K?.hitPick?1:0)+(K?.bombPick?1:0)+(K?.winterPicks?.length??0)+(K?.summerPicks?.length??0)+(K?.fallPicks?.length??0)+(K?.altPicks?.length??0);return S+re},0)]),a(G,B)},wa=G=>{var B=jo(),ie=o(f(B),2),J=r(ie);es(J,{class:"h-[calc(100vh-14rem)]",children:($,le)=>{var x=Io(),de=r(x);{var S=K=>{var re=Co();a(K,re)},_e=K=>{var re=L(),me=f(re);we(me,17,()=>e(Me),ke,(Ee,Z)=>{const ce=d(()=>e(T).filter(Q=>{const ne=Q.picks;return ne?.hitPick===e(Z).id||ne?.bombPick===e(Z).id||ne?.winterPicks?.includes(e(Z).id)||ne?.summerPicks?.includes(e(Z).id)||ne?.fallPicks?.includes(e(Z).id)||ne?.altPicks?.includes(e(Z).id)}));var fe=L(),ae=f(fe);{var ge=Q=>{var ne=Go();ne.__click=()=>Be(e(Z).id);var Ae=r(ne);{var qe=v=>{var _=Bo();k(()=>{U(_,"src",e(Z).coverUrl),U(_,"alt",e(Z).name)}),a(v,_)},Je=v=>{var _=To();a(v,_)};g(Ae,v=>{e(Z).coverUrl?v(qe):v(Je,!1)})}var Ke=o(Ae,2),m=r(Ke),W=r(m,!0);t(m);var D=o(m,2),I=r(D);{var C=v=>{const _=d(()=>Ut(e(Z).releaseDate));var j=No(),b=f(j),N=r(b,!0);t(b);var P=o(b,2);{var A=z=>{var q=Mo(),ee=r(q,!0);t(q),k(()=>p(ee,e(_))),a(z,q)};g(P,z=>{e(_)&&e(_)!=="Released"&&z(A)})}k(z=>p(N,z),[()=>new Date(e(Z).releaseDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),a(v,j)};g(I,v=>{e(Z).releaseDate&&v(C)})}t(D);var R=o(D,2);we(R,21,()=>e(ce),ke,(v,_)=>{var j=Lo(),b=r(j,!0);t(j),k(()=>p(b,e(_).name||e(E)[e(_).id]?.displayName)),a(v,j)}),t(R),t(Ke),t(ne),k(()=>p(W,e(Z).name)),a(Q,ne)};g(ae,Q=>{e(ce).length>0&&Q(ge)})}a(Ee,fe)}),a(K,re)};g(de,K=>{e(Me).length===0?K(S):K(_e,!1)})}t(x),a($,x)},$$slots:{default:!0}}),t(ie),a(G,B)};g(ba,G=>{e(he)?G(ya):G(wa,!1)})}t(Mr),t(Sr),k(()=>{p(dr,e(i).name),p(na,`Season ${e(i).season??""}`),p(ia,e(i).code),p(ua,e(he)?"Season score progression":"Score History"),p(pa,e(he)?"Final Standings":"Standings")}),a(kt,Nt)};g(Ht,kt=>{e(i)?kt(rr,!1):kt(lr)},!0)}a(O,lt)};g(M,O=>{e(We)?O(w):O(F,!1)},!0)}a(s,l)};g(Mt,s=>{e(y)?s(Zt):s(Ue,!1)})}t(yt);var wt=o(yt,2);{let s=d(()=>e(Ne)!=null&&!e(Rt)&&e(ot)==null),l=d(()=>e(Ne)!=null&&e(Ze).has(e(Ne)));Ka(wt,{get open(){return e(Bt)},onOpenChange:M=>!M&&Ve(),get game(){return e(ot)},get loading(){return e(Rt)},get showNotFound(){return e(s)},get isBookmarked(){return e(l)},onToggleBookmark:je})}var er=o(wt,2);{let s=d(()=>e(pe)!=null),l=d(()=>e(pe)?e(T).find(O=>O.id===e(pe))??null:null),M=d(()=>e(i)?.delistedGames??[]),w=d(()=>(()=>{const O=e(pe)?e(T).find(lt=>lt.id===e(pe)):null;return O?O.name||e(E)[O.id]?.displayName||"Unknown":""})()),F=d(()=>e(pe)?e(Oe)[e(pe)]??[]:[]);Ms(er,{get open(){return e(s)},onOpenChange:O=>!O&&u(pe,null),get team(){return e(l)},get games(){return e(h)},get delistedGames(){return e(M)},get teamDisplayName(){return e(w)},get bombBreakdown(){return e(F)},onGameClick:O=>{u(pe,null),Be(O)}})}a(se,it),Ye()}br(["click","keydown"]);export{pn as component};
