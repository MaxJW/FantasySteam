import{a as l,t as m,f as L}from"../chunks/Cz0PwdDH.js";import{p as Q,b as c,v as R,a as V,e as W,f as X,c as a,s as i,g as d,t as k,d as o,$ as Z,n as v,r as s}from"../chunks/Ct8wem7Y.js";import{e as ee,s as A}from"../chunks/CIvy6oFH.js";import{i as te}from"../chunks/Bfs_sO9o.js";import{h as re,B as y}from"../chunks/Dijvr1QR.js";import{g as ae}from"../chunks/DqHVy02u.js";import{g as E}from"../chunks/CUsvRYbg.js";import{g as se,j as oe}from"../chunks/DvyQ2pgq.js";import{I}from"../chunks/aVuIq0C4.js";import{L as U}from"../chunks/B3Ac3L4t.js";import{g as ie}from"../chunks/BGhj1fUa.js";import{U as de}from"../chunks/LXreZyCw.js";import{A as le}from"../chunks/ZM-ulDmt.js";var ve=L("<!> Back",1),ne=L('<div class="rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-center text-sm text-destructive"> </div>'),ue=L('<div class="mx-auto max-w-md"><div class="mb-4"><!></div> <div class="glass overflow-hidden rounded-xl"><div class="h-1 w-full bg-linear-to-r from-primary/60 via-primary/30 to-transparent"></div> <div class="flex flex-col items-center gap-3 border-b border-white/6 p-6"><div class="flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"><!></div> <div class="text-center"><h1 class="text-xl font-semibold">Join a League</h1> <p class="mt-1 text-sm text-muted-foreground">Enter the invite code from your league commissioner.</p></div></div> <form><div class="space-y-4 p-5"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <!></div> <div class="flex flex-col gap-2 border-t border-white/6 bg-white/2 p-5"><!> <!></div></form></div></div>');function Ne(D,q){Q(q,!0);const N=()=>ie(E()?.displayName);let f=c(""),p=c(R(N())),n=c(!1),u=c("");async function z(e){e.preventDefault();const r=E();if(r){i(n,!0),i(u,"");try{const t=await se(d(f).trim());if(!t){i(u,"No league found with that code"),i(n,!1);return}await oe(t.id,r.uid,d(p).trim()||N()),await ae(`/league/${t.id}`)}catch(t){i(u,t instanceof Error?t.message:"Failed to join league",!0)}finally{i(n,!1)}}}var g=ue();re("1wxez71",e=>{W(()=>{Z.title="Join League"})});var h=a(g),F=a(h);y(F,{variant:"ghost",href:"/dashboard",class:"gap-1.5 text-sm text-muted-foreground hover:text-foreground",children:(e,r)=>{var t=ve(),O=X(t);le(O,{class:"h-4 w-4"}),v(),l(e,t)},$$slots:{default:!0}}),s(h);var S=o(h,2),x=o(a(S),2),J=a(x),M=a(J);de(M,{class:"h-6 w-6 text-primary"}),s(J),v(2),s(x);var _=o(x,2),b=a(_),$=a(b),P=a($);U(P,{for:"studioName",children:(e,r)=>{v();var t=m("Your Studio Name");l(e,t)},$$slots:{default:!0}});var T=o(P,2);I(T,{id:"studioName",placeholder:"e.g. John's Studio",class:"h-10 border-white/8 bg-white/3",get value(){return d(p)},set value(e){i(p,e,!0)}}),s($);var w=o($,2),j=a(w);U(j,{for:"code",children:(e,r)=>{v();var t=m("Invite Code");l(e,t)},$$slots:{default:!0}});var Y=o(j,2);I(Y,{id:"code",required:!0,placeholder:"e.g. STEAM26",class:"h-12 border-white/8 bg-white/3 text-center text-lg tracking-[0.2em] uppercase",get value(){return d(f)},set value(e){i(f,e,!0)}}),s(w);var G=o(w,2);{var H=e=>{var r=ne(),t=a(r,!0);s(r),k(()=>A(t,d(u))),l(e,r)};te(G,e=>{d(u)&&e(H)})}s(b);var B=o(b,2),C=a(B);y(C,{type:"submit",class:"glow-sm-primary w-full",get disabled(){return d(n)},children:(e,r)=>{v();var t=m();k(()=>A(t,d(n)?"Joining...":"Join League")),l(e,t)},$$slots:{default:!0}});var K=o(C,2);y(K,{variant:"ghost",href:"/dashboard",class:"w-full",children:(e,r)=>{v();var t=m("Cancel");l(e,t)},$$slots:{default:!0}}),s(B),s(_),s(S),s(g),ee("submit",_,z),l(D,g),V()}export{Ne as component};
