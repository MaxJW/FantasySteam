import{a as r,f as c,c as G,t as ie}from"../chunks/BHtw_AlX.js";import{p as fe,c as i,q as be,r as l,a as me,f as m,b as $,v as ot,u as ze,s as a,g as e,e as vr,P as _e,$ as ur,d as u,n as K,t as F,T as fr}from"../chunks/CKeWB1dl.js";import{s as Y}from"../chunks/C9QvL_TP.js";import{p as Ve,r as xe,s as bt,i as S}from"../chunks/DRRhtbEW.js";import{a as Qe,c as Je,I as xt,b as je,i as Ye,d as mt,s as qt,f as Ut}from"../chunks/Cb774uOA.js";import{c as y}from"../chunks/C9L7Q6G0.js";import{h as mr,B as lt}from"../chunks/B_mgsqJ7.js";import{d as gr}from"../chunks/Dtp5ZCgH.js";import{b as pe}from"../chunks/CSTXgzY2.js";import{i as hr,P as gt,D as _r}from"../chunks/Gs9gDzk3.js";import{g as pr}from"../chunks/CL6D_UC3.js";import{e as Zt,b as br,c as Vt,f as xr,a as wr}from"../chunks/CalA7pMV.js";import{g as $r,G as yr,r as kr,c as Pr,C as Sr,B as Qt}from"../chunks/BCcTm884.js";import{S as Br,b as ht,c as _t,d as nt,a as pt,T as Nr,L as Gr,e as Mr,C as Jt}from"../chunks/CisISRla.js";import{s as we}from"../chunks/DXanwQDV.js";import{I as Tr}from"../chunks/Ye9DFkBY.js";import{C as Ar}from"../chunks/DldPpxl_.js";import{S as Ir}from"../chunks/mkmPKvIF.js";var Lr=c('<div data-slot="table-container" class="relative w-full overflow-x-auto"><table><!></table></div>');function Hr(A,o){fe(o,!0);let p=Ve(o,"ref",15,null),I=xe(o,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Lr(),b=i(n);Qe(b,U=>({"data-slot":"table",class:U,...I}),[()=>Je("w-full caption-bottom text-sm",o.class)]);var v=i(b);we(v,()=>o.children??be),l(b),pe(b,U=>p(U),()=>p()),l(n),r(A,n),me()}var Cr=c("<tbody><!></tbody>");function Fr(A,o){fe(o,!0);let p=Ve(o,"ref",15,null),I=xe(o,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Cr();Qe(n,v=>({"data-slot":"table-body",class:v,...I}),[()=>Je("[&_tr:last-child]:border-0",o.class)]);var b=i(n);we(b,()=>o.children??be),l(n),pe(n,v=>p(v),()=>p()),r(A,n),me()}var Er=c("<td><!></td>");function It(A,o){fe(o,!0);let p=Ve(o,"ref",15,null),I=xe(o,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Er();Qe(n,v=>({"data-slot":"table-cell",class:v,...I}),[()=>Je("bg-clip-padding p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0",o.class)]);var b=i(n);we(b,()=>o.children??be),l(n),pe(n,v=>p(v),()=>p()),r(A,n),me()}var Rr=c("<th><!></th>");function Lt(A,o){fe(o,!0);let p=Ve(o,"ref",15,null),I=xe(o,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Rr();Qe(n,v=>({"data-slot":"table-head",class:v,...I}),[()=>Je("h-10 bg-clip-padding px-2 text-start align-middle font-medium whitespace-nowrap text-foreground [&:has([role=checkbox])]:pe-0",o.class)]);var b=i(n);we(b,()=>o.children??be),l(n),pe(n,v=>p(v),()=>p()),r(A,n),me()}var Or=c("<thead><!></thead>");function Dr(A,o){fe(o,!0);let p=Ve(o,"ref",15,null),I=xe(o,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Or();Qe(n,v=>({"data-slot":"table-header",class:v,...I}),[()=>Je("[&_tr]:border-b",o.class)]);var b=i(n);we(b,()=>o.children??be),l(n),pe(n,v=>p(v),()=>p()),r(A,n),me()}var zr=c("<tr><!></tr>");function Kt(A,o){fe(o,!0);let p=Ve(o,"ref",15,null),I=xe(o,["$$slots","$$events","$$legacy","ref","class","children"]);var n=zr();Qe(n,v=>({"data-slot":"table-row",class:v,...I}),[()=>Je("border-b transition-colors data-[state=selected]:bg-muted hover:[&,&>svelte-css-wrapper]:[&>th,td]:bg-muted/50",o.class)]);var b=i(n);we(b,()=>o.children??be),l(n),pe(n,v=>p(v),()=>p()),r(A,n),me()}function Ht(A,o){fe(o,!0);let p=xe(o,["$$slots","$$events","$$legacy"]);const I=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];xt(A,bt({name:"arrow-up"},()=>p,{get iconNode(){return I},children:(n,b)=>{var v=G(),U=m(v);we(U,()=>o.children??be),r(n,v)},$$slots:{default:!0}})),me()}function Ct(A,o){fe(o,!0);let p=xe(o,["$$slots","$$events","$$legacy"]);const I=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];xt(A,bt({name:"arrow-down"},()=>p,{get iconNode(){return I},children:(n,b)=>{var v=G(),U=m(v);we(U,()=>o.children??be),r(n,v)},$$slots:{default:!0}})),me()}function Ft(A,o){fe(o,!0);let p=xe(o,["$$slots","$$events","$$legacy"]);const I=[["path",{d:"m21 16-4 4-4-4"}],["path",{d:"M17 20V4"}],["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}]];xt(A,bt({name:"arrow-up-down"},()=>p,{get iconNode(){return I},children:(n,b)=>{var v=G(),U=m(v);we(U,()=>o.children??be),r(n,v)},$$slots:{default:!0}})),me()}function jr(A,o){fe(o,!0);let p=xe(o,["$$slots","$$events","$$legacy"]);const I=[["path",{d:"M10 5H3"}],["path",{d:"M12 19H3"}],["path",{d:"M14 3v4"}],["path",{d:"M16 17v4"}],["path",{d:"M21 12h-9"}],["path",{d:"M21 19h-5"}],["path",{d:"M21 5h-7"}],["path",{d:"M8 10v4"}],["path",{d:"M8 12H3"}]];xt(A,bt({name:"sliders-horizontal"},()=>p,{get iconNode(){return I},children:(n,b)=>{var v=G(),U=m(v);we(U,()=>o.children??be),r(n,v)},$$slots:{default:!0}})),me()}var Yr=c("<!> <span>Show filters</span>",1),qr=c('<div class="glass flex items-center rounded-xl px-3 py-2 transition-all duration-200 ease-out"><!></div>'),Ur=c("<!> <span>Hide filters</span>",1),Zr=c("<!> <!>",1),Vr=c("<!> <!>",1),Qr=c("<!> <!>",1),Jr=c("<!> <!>",1),Kr=c('<button type="button" role="checkbox" aria-label="Bookmarked only" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/[0.08] bg-white/[0.04] px-3 transition-colors hover:bg-white/[0.06]"><span><!></span> <span class="text-sm text-foreground">Bookmarked only</span></button>'),Wr=c("<!> <!>",1),Xr=c('<span class="text-xs text-muted-foreground"> </span>'),ea=c('<div class="glass flex flex-col gap-4 rounded-xl p-4 transition-all duration-200 ease-out sm:p-3"><!> <div class="relative w-full min-w-0"><!> <!></div> <div class="flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:gap-3"><div class="grid grid-cols-2 gap-3 sm:flex sm:grid-cols-none sm:flex-wrap sm:items-center"><div class="flex items-center gap-2"><!> <!></div> <div class="flex items-center gap-2"><!> <!></div></div> <div class="flex min-w-0 flex-1 flex-wrap items-center gap-3 sm:flex-initial"><div class="flex min-w-0 flex-1 items-center gap-2 sm:min-w-0 sm:flex-initial"><!> <!></div> <button type="button" role="checkbox" aria-label="Hide released" class="flex h-9 shrink-0 cursor-pointer items-center gap-2 rounded-md border border-white/[0.08] bg-white/[0.04] px-3 transition-colors hover:bg-white/[0.06]"><span><!></span> <span class="text-sm text-foreground">Hide released</span></button> <!></div> <div class="flex shrink-0 flex-wrap items-center gap-3 sm:ml-auto"><div class="flex items-center gap-2"><!></div> <div class="flex items-center gap-0.5 rounded-lg border border-white/[0.08] bg-white/[0.04] p-0.5"><!> <!></div> <!></div></div></div>'),ta=c('<div class="aspect-[2/3] animate-fade-in-up rounded-lg bg-white/[0.04]"></div>'),ra=c('<div class="grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),aa=c('<div class="glass flex flex-col items-center justify-center gap-4 rounded-xl py-12 text-center"><p class="text-sm text-destructive"> </p> <!></div>'),sa=c('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">No game lists available.</div>'),oa=c('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground">Select a year to browse games.</div>'),la=c('<div class="glass rounded-xl py-10 text-center text-sm text-muted-foreground"> </div>'),na=c('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Date <!></button>'),ia=c('<button type="button" class="flex cursor-pointer items-center gap-1 rounded text-left text-xs hover:text-foreground">Game Name <!></button>'),da=c('<button type="button" class="ml-auto flex cursor-pointer items-center gap-1 rounded text-xs hover:text-foreground">Score <!></button>'),ca=c("<!> <!> <!>",1),va=c('<span class="flex items-center gap-2"><!> <span class="truncate"> </span></span>'),ua=c("<!> <!> <!>",1),fa=c("<!> <!>",1),ma=c('<div class="max-w-full overflow-x-auto rounded-xl border border-white/[0.06]"><!></div>'),ga=c('<img alt="" class="absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]" loading="lazy" width="264" height="396"/>'),ha=c('<div class="flex h-full w-full items-center justify-center p-3 text-center text-sm text-muted-foreground"> </div>'),_a=c('<div class="absolute top-2 right-2 rounded-full bg-black/60 p-1" aria-hidden="true"><!></div>'),pa=c('<span class="mt-0.5 font-mono text-[10px] text-white/80"> </span>'),ba=c('<button type="button" class="group relative aspect-[2/3] w-full animate-fade-in-up cursor-pointer overflow-hidden rounded-lg border border-white/[0.06] bg-white/[0.03] text-left transition-all hover:border-white/[0.15] hover:shadow-lg hover:shadow-primary/[0.05] focus:ring-2 focus:ring-ring focus:outline-none"><!> <!> <div class="absolute inset-x-0 bottom-0 flex min-h-[50%] flex-col justify-end bg-gradient-to-t from-black/90 via-black/40 to-transparent p-3 opacity-100 transition-opacity duration-200 sm:opacity-0 sm:group-hover:opacity-100"><span class="line-clamp-2 text-sm font-medium text-white"> </span> <span class="mt-0.5 text-[10px] text-white/70"> </span> <!></div></button>'),xa=c('<div class="grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"></div>'),wa=c('<div class="py-3 text-center text-xs text-muted-foreground">Loading more…</div>'),$a=c('<div class="py-2 text-center text-[10px] text-muted-foreground"> </div>'),ya=c('<div class="h-4 w-full" role="presentation"></div> <!>',1),ka=c('<div><h1 class="pb-2 text-3xl font-bold tracking-tight">Browse Games</h1> <div class="sticky top-14 z-30 -mx-4 px-4 pt-3 pb-6 md:top-16"><!></div> <div class="h-4 w-full" aria-hidden="true"></div> <!> <!></div> <!>',1);function ja(A,o){fe(o,!0);const p=24,I=64,n=[{value:"date-asc",label:"Date (oldest first)"},{value:"date-desc",label:"Date (newest first)"},{value:"name-asc",label:"Name (A–Z)"},{value:"name-desc",label:"Name (Z–A)"},{value:"score-asc",label:"Score (low–high)"},{value:"score-desc",label:"Score (high–low)"}];let b=$("date-asc"),v=_e(()=>e(b).split("-")[0]),U=_e(()=>e(b).split("-")[1]),Wt=_e(()=>n.find(t=>t.value===e(b))?.label??e(b)),Ge=$(ot([])),R=$(""),$e=$(""),wt=$(ot([])),Me=$(ot([])),Fe=$(!1),Te=$(!1),de=$(ot(new Set)),re=$(ot([])),ye=$(0),Ke=$(!0),Ae=$(!1),We=$(!1),Xe=$("grid"),Ee=$(""),Et=$(""),$t=$(!1),le=$(null),et=$(null),it=$(!1),yt=$(void 0),Ie=$(null),dt=$(!1),Rt=$(!1),kt=$(void 0),ct=$(void 0),vt=$(void 0);const qe=_e(pr);async function Ot(t){const s=t?e(ct)?.offsetHeight??0:e(vt)?.offsetHeight??0;a(dt,t,!0),await fr();const k=t?e(vt)?.offsetHeight??0:e(ct)?.offsetHeight??0;window.scrollBy(0,k-s)}async function Xt(){a(Ie,null),xr(),a(Ke,!0),a(Ae,!0);try{const t=await Zt();a(Ge,t.map(String),!0),!e(R)&&e(Ge).length>0&&a(R,e(Ge)[0],!0),e(R)&&await tt()}catch(t){a(Ie,t instanceof Error?t.message:"Load failed",!0)}finally{a(Ke,!1),a(Ae,!1)}}async function Pt(t){a(le,t,!0),a($t,!0),a(et,null),a(it,!0);try{const s=await wr(t);a(et,s?{...s,id:t}:null,!0)}finally{a(it,!1)}}function er(){a($t,!1),a(le,null),a(et,null)}async function tr(){if(!e(qe)||!e(le)){console.log("handleToggleBookmark: not me or selectedGameId"),console.log("me",e(qe)),console.log("selectedGameId",e(le));return}e(de).has(e(le))?(await kr(e(qe).uid,e(le)),a(de,new Set([...e(de)].filter(s=>s!==e(le))),!0)):(await Pr(e(qe).uid,e(le)),a(de,new Set([...e(de),e(le)]),!0)),e(Te)&&tt()}ze(()=>{a(Ie,null),Zt().then(t=>{a(Ge,t.map(String),!0),a(Ke,!1),!e(R)&&e(Ge).length>0&&a(R,e(Ge)[0],!0)}).catch(t=>{a(Ie,t instanceof Error?t.message:"Load failed",!0),a(Ke,!1)})}),ze(()=>{const t=e(R)?parseInt(e(R),10):0;if(!t||Number.isNaN(t)){a(wt,[],!0);return}br(t).then(s=>a(wt,s,!0))}),ze(()=>{const t=e(qe);if(!t){a(de,new Set,!0);return}$r(t.uid).then(s=>a(de,s,!0))});function Dt(t){const s={sortBy:e(v),order:e(U),search:e(Ee).trim()||void 0,hideReleased:e(Fe)||void 0,genres:e(Me).length?e(Me):void 0};if(e($e)){const{start:k,end:O}=hr(e($e),t);s.releaseFrom=k,s.releaseTo=O}return e(Te)&&(s.bookmarkedOnly=!0,s.bookmarkedIds=e(de)),s}async function tt(){const t=e(R)?parseInt(e(R),10):0;if(!(!t||Number.isNaN(t))){a(Ae,!0),a(re,[],!0),a(ye,0);try{const{games:s,total:k}=await Vt(t,p,0,Dt(t));a(re,s,!0),a(ye,k,!0),a(Ie,null)}catch(s){a(Ie,s instanceof Error?s.message:"Load failed",!0)}finally{a(Ae,!1)}}}async function rr(){const t=e(R)?parseInt(e(R),10):0;if(!(!t||Number.isNaN(t)||e(We)||e(Ae))&&!(e(re).length>=e(ye))){a(We,!0);try{const{games:s,total:k}=await Vt(t,p,e(re).length,Dt(t));a(re,[...e(re),...s],!0),a(ye,k,!0)}finally{a(We,!1)}}}function St(t){e(v)===t?a(b,e(U)==="asc"?`${t}-desc`:`${t}-asc`,!0):a(b,`${t}-asc`),tt()}ze(()=>{e(b),e($e),e(Fe),e(Me),e(Te),e(R)&&tt()}),ze(()=>{if(e(Ee)===e(Et))return;const t=e(Ee),s=setTimeout(()=>{a(Et,t,!0),e(R)&&tt()},300);return()=>clearTimeout(s)}),ze(()=>{const t=e(yt);if(!t)return;const s=new IntersectionObserver(k=>{const[O]=k;O?.isIntersecting&&e(re).length>0&&e(re).length<e(ye)&&!e(We)&&!e(Ae)&&rr()},{rootMargin:"200px 0px 0px 0px",threshold:0});return s.observe(t),()=>s.disconnect()}),ze(()=>{const t=e(kt);if(!t)return;const s=(M,L)=>{const J=M<I;a(Rt,J),J?L&&a(dt,!0):a(dt,!1)},k=new IntersectionObserver(([M])=>M&&s(M.boundingClientRect.top,!0),{threshold:[0,1]});k.observe(t);let O=0;const se=()=>{O=requestAnimationFrame(()=>{O=0,s(t.getBoundingClientRect().top,!1)})};return window.addEventListener("scroll",se,{passive:!0}),s(t.getBoundingClientRect().top,!0),()=>{k.disconnect(),window.removeEventListener("scroll",se),O&&cancelAnimationFrame(O)}});var zt=ka();mr("6rw1dw",t=>{vr(()=>{ur.title="Browse Games"})});var Bt=m(zt),Nt=u(i(Bt),2),ar=i(Nt);{var sr=t=>{var s=qr(),k=i(s);lt(k,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-foreground hover:bg-white/[0.06]",onclick:()=>Ot(!1),"aria-label":"Show filters",children:(O,se)=>{var M=Yr(),L=m(M);jr(L,{class:"h-4 w-4"}),K(2),r(O,M)},$$slots:{default:!0}}),l(s),pe(s,O=>a(vt,O),()=>e(vt)),r(t,s)},or=t=>{var s=ea(),k=i(s);{var O=f=>{lt(f,{variant:"ghost",size:"sm",class:"w-full justify-center gap-2 text-muted-foreground hover:bg-white/[0.06] hover:text-foreground",onclick:()=>Ot(!0),"aria-label":"Hide filters",children:(x,g)=>{var ee=Ur(),N=m(ee);Sr(N,{class:"h-4 w-4"}),K(2),r(x,ee)},$$slots:{default:!0}})};S(k,f=>{e(Rt)&&f(O)})}var se=u(k,2),M=i(se);Br(M,{class:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"});var L=u(M,2);Tr(L,{placeholder:"Search games...",class:"border-white/[0.08] bg-white/[0.04] pl-9",get value(){return e(Ee)},set value(f){a(Ee,f,!0)}}),l(se);var J=u(se,2),ke=i(J),Pe=i(ke),W=i(Pe);Ar(W,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var ce=u(W,2);y(ce,()=>pt,(f,x)=>{x(f,{type:"single",get value(){return e(R)},set value(g){a(R,g,!0)},children:(g,ee)=>{var N=Zr(),D=m(N);y(D,()=>ht,(H,C)=>{C(H,{class:"w-full min-w-0 border-white/[0.08] bg-white/[0.04] sm:w-[120px]",children:(w,_)=>{K();var d=ie();F(()=>Y(d,e(R)||"Year")),r(w,d)},$$slots:{default:!0}})});var Z=u(D,2);y(Z,()=>_t,(H,C)=>{C(H,{children:(w,_)=>{var d=G(),z=m(d);je(z,17,()=>e(Ge),Ye,(ae,T)=>{var V=G(),j=m(V);{let Q=_e(()=>String(e(T))),q=_e(()=>String(e(T)));y(j,()=>nt,(ne,P)=>{P(ne,{get value(){return e(Q)},get label(){return e(q)},children:(E,te)=>{K();var ue=ie();F(()=>Y(ue,e(T))),r(E,ue)},$$slots:{default:!0}})})}r(ae,V)}),r(w,d)},$$slots:{default:!0}})}),r(g,N)},$$slots:{default:!0}})}),l(Pe);var Le=u(Pe,2),ut=i(Le);Ir(ut,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var Gt=u(ut,2);y(Gt,()=>pt,(f,x)=>{x(f,{type:"single",get value(){return e($e)},set value(g){a($e,g,!0)},children:(g,ee)=>{var N=Qr(),D=m(N);y(D,()=>ht,(H,C)=>{C(H,{class:"w-full min-w-0 border-white/[0.08] bg-white/[0.04] sm:w-[130px]",children:(w,_)=>{K();var d=ie();F(()=>Y(d,e($e)?gt[e($e)].label:"All seasons")),r(w,d)},$$slots:{default:!0}})});var Z=u(D,2);y(Z,()=>_t,(H,C)=>{C(H,{children:(w,_)=>{var d=Vr(),z=m(d);y(z,()=>nt,(T,V)=>{V(T,{value:"",label:"All seasons",children:(j,Q)=>{K();var q=ie("All seasons");r(j,q)},$$slots:{default:!0}})});var ae=u(z,2);je(ae,17,()=>_r,Ye,(T,V)=>{var j=G(),Q=m(j);y(Q,()=>nt,(q,ne)=>{ne(q,{get value(){return e(V)},get label(){return gt[e(V)].label},children:(P,E)=>{K();var te=ie();F(()=>Y(te,gt[e(V)].label)),r(P,te)},$$slots:{default:!0}})}),r(T,j)}),r(w,d)},$$slots:{default:!0}})}),r(g,N)},$$slots:{default:!0}})}),l(Le),l(ke);var ge=u(ke,2),He=i(ge),ft=i(He);Nr(ft,{class:"h-4 w-4 shrink-0 text-muted-foreground"});var Mt=u(ft,2);y(Mt,()=>pt,(f,x)=>{x(f,{type:"multiple",get value(){return e(Me)},set value(g){a(Me,g,!0)},children:(g,ee)=>{var N=Jr(),D=m(N);y(D,()=>ht,(H,C)=>{C(H,{class:"w-full min-w-0 border-white/[0.08] bg-white/[0.04] sm:max-w-[180px] sm:min-w-[140px]",children:(w,_)=>{K();var d=ie();F(()=>Y(d,e(Me).length>1?`${e(Me).length} genres`:e(Me)[0]??"Genre")),r(w,d)},$$slots:{default:!0}})});var Z=u(D,2);y(Z,()=>_t,(H,C)=>{C(H,{children:(w,_)=>{var d=G(),z=m(d);je(z,17,()=>e(wt),Ye,(ae,T)=>{var V=G(),j=m(V);y(j,()=>nt,(Q,q)=>{q(Q,{get value(){return e(T)},get label(){return e(T)},children:(ne,P)=>{K();var E=ie();F(()=>Y(E,e(T))),r(ne,E)},$$slots:{default:!0}})}),r(ae,V)}),r(w,d)},$$slots:{default:!0}})}),r(g,N)},$$slots:{default:!0}})}),l(He);var Re=u(He,2);Re.__click=()=>a(Fe,!e(Fe));var he=i(Re),Ce=i(he);{var rt=f=>{Jt(f,{class:"h-2.5 w-2.5"})};S(Ce,f=>{e(Fe)&&f(rt)})}l(he),K(2),l(Re);var Tt=u(Re,2);{var At=f=>{var x=Kr();x.__click=()=>a(Te,!e(Te));var g=i(x),ee=i(g);{var N=D=>{Jt(D,{class:"h-2.5 w-2.5"})};S(ee,D=>{e(Te)&&D(N)})}l(g),K(2),l(x),F(()=>{mt(x,"aria-checked",e(Te)),qt(g,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/[0.08] bg-white/[0.04] transition-colors ${e(Te)?"border-primary bg-primary text-primary-foreground":""}`)}),r(f,x)};S(Tt,f=>{e(qe)&&f(At)})}l(ge);var Se=u(ge,2),ve=i(Se),at=i(ve);y(at,()=>pt,(f,x)=>{x(f,{type:"single",get value(){return e(b)},set value(g){a(b,g,!0)},children:(g,ee)=>{var N=Wr(),D=m(N);y(D,()=>ht,(H,C)=>{C(H,{class:"w-[150px] border-white/[0.08] bg-white/[0.04] sm:w-[170px]",children:(w,_)=>{K();var d=ie();F(()=>Y(d,e(Wt))),r(w,d)},$$slots:{default:!0}})});var Z=u(D,2);y(Z,()=>_t,(H,C)=>{C(H,{children:(w,_)=>{var d=G(),z=m(d);je(z,17,()=>n,Ye,(ae,T)=>{var V=G(),j=m(V);y(j,()=>nt,(Q,q)=>{q(Q,{get value(){return e(T).value},get label(){return e(T).label},children:(ne,P)=>{K();var E=ie();F(()=>Y(E,e(T).label)),r(ne,E)},$$slots:{default:!0}})}),r(ae,V)}),r(w,d)},$$slots:{default:!0}})}),r(g,N)},$$slots:{default:!0}})}),l(ve);var X=u(ve,2),Ue=i(X);{let f=_e(()=>e(Xe)==="table"?"secondary":"ghost");lt(Ue,{get variant(){return e(f)},size:"icon",class:"h-7 w-7",onclick:()=>a(Xe,"table"),"aria-label":"Table view",children:(x,g)=>{Gr(x,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}var Be=u(Ue,2);{let f=_e(()=>e(Xe)==="grid"?"secondary":"ghost");lt(Be,{get variant(){return e(f)},size:"icon",class:"h-7 w-7",onclick:()=>a(Xe,"grid"),"aria-label":"Grid view",children:(x,g)=>{Mr(x,{class:"h-3.5 w-3.5"})},$$slots:{default:!0}})}l(X);var st=u(X,2);{var Ze=f=>{var x=Xr(),g=i(x);l(x),F(()=>Y(g,`${e(ye)??""} games`)),r(f,x)};S(st,f=>{e(ye)>0&&!e(Ae)&&f(Ze)})}l(Se),l(J),l(s),pe(s,f=>a(ct,f),()=>e(ct)),F(()=>{mt(Re,"aria-checked",e(Fe)),qt(he,1,`flex size-4 shrink-0 items-center justify-center rounded border border-white/[0.08] bg-white/[0.04] transition-colors ${e(Fe)?"border-primary bg-primary text-primary-foreground":""}`)}),r(t,s)};S(ar,t=>{e(dt)?t(sr):t(or,!1)})}l(Nt);var jt=u(Nt,2);pe(jt,t=>a(kt,t),()=>e(kt));var Yt=u(jt,2);{var lr=t=>{var s=ra();je(s,20,()=>Array(12),Ye,(k,O,se)=>{var M=ta();Ut(M,`animation-delay: ${se*.03}s`),r(k,M)}),l(s),r(t,s)},nr=t=>{var s=G(),k=m(s);{var O=M=>{var L=aa(),J=i(L),ke=i(J,!0);l(J);var Pe=u(J,2);lt(Pe,{onclick:Xt,variant:"outline",children:(W,ce)=>{K();var Le=ie("Retry");r(W,Le)},$$slots:{default:!0}}),l(L),F(()=>Y(ke,e(Ie))),r(M,L)},se=M=>{var L=G(),J=m(L);{var ke=W=>{var ce=sa();r(W,ce)},Pe=W=>{var ce=G(),Le=m(ce);{var ut=ge=>{var He=oa();r(ge,He)},Gt=ge=>{var He=G(),ft=m(He);{var Mt=he=>{var Ce=la(),rt=i(Ce);l(Ce),F(()=>Y(rt,`No games found${e(Ee)?` matching "${e(Ee)}"`:e($e)?` for ${e(R)} ${gt[e($e)].label}`:` for ${e(R)}`}.`)),r(he,Ce)},Re=he=>{var Ce=G(),rt=m(Ce);{var Tt=Se=>{var ve=ma(),at=i(ve);y(at,()=>Hr,(X,Ue)=>{Ue(X,{class:"w-full min-w-0 table-fixed",children:(Be,st)=>{var Ze=fa(),f=m(Ze);y(f,()=>Dr,(g,ee)=>{ee(g,{children:(N,D)=>{var Z=G(),H=m(Z);y(H,()=>Kt,(C,w)=>{w(C,{class:"border-white/[0.06] hover:bg-transparent",children:(_,d)=>{var z=ca(),ae=m(z);y(ae,()=>Lt,(j,Q)=>{Q(j,{class:"w-[120px]",children:(q,ne)=>{var P=na();P.__click=()=>St("date");var E=u(i(P));{var te=h=>{var oe=G(),Oe=m(oe);{var Ne=B=>{Ht(B,{class:"h-3 w-3"})},De=B=>{Ct(B,{class:"h-3 w-3"})};S(Oe,B=>{e(U)==="asc"?B(Ne):B(De,!1)})}r(h,oe)},ue=h=>{Ft(h,{class:"h-3 w-3 opacity-40"})};S(E,h=>{e(v)==="date"?h(te):h(ue,!1)})}l(P),r(q,P)},$$slots:{default:!0}})});var T=u(ae,2);y(T,()=>Lt,(j,Q)=>{Q(j,{class:"min-w-0",children:(q,ne)=>{var P=ia();P.__click=()=>St("name");var E=u(i(P));{var te=h=>{var oe=G(),Oe=m(oe);{var Ne=B=>{Ht(B,{class:"h-3 w-3"})},De=B=>{Ct(B,{class:"h-3 w-3"})};S(Oe,B=>{e(U)==="asc"?B(Ne):B(De,!1)})}r(h,oe)},ue=h=>{Ft(h,{class:"h-3 w-3 opacity-40"})};S(E,h=>{e(v)==="name"?h(te):h(ue,!1)})}l(P),r(q,P)},$$slots:{default:!0}})});var V=u(T,2);y(V,()=>Lt,(j,Q)=>{Q(j,{class:"w-[80px] text-right",children:(q,ne)=>{var P=da();P.__click=()=>St("score");var E=u(i(P));{var te=h=>{var oe=G(),Oe=m(oe);{var Ne=B=>{Ht(B,{class:"h-3 w-3"})},De=B=>{Ct(B,{class:"h-3 w-3"})};S(Oe,B=>{e(U)==="asc"?B(Ne):B(De,!1)})}r(h,oe)},ue=h=>{Ft(h,{class:"h-3 w-3 opacity-40"})};S(E,h=>{e(v)==="score"?h(te):h(ue,!1)})}l(P),r(q,P)},$$slots:{default:!0}})}),r(_,z)},$$slots:{default:!0}})}),r(N,Z)},$$slots:{default:!0}})});var x=u(f,2);y(x,()=>Fr,(g,ee)=>{ee(g,{children:(N,D)=>{var Z=G(),H=m(Z);je(H,17,()=>e(re),Ye,(C,w)=>{var _=G(),d=m(_);y(d,()=>Kt,(z,ae)=>{ae(z,{role:"button",tabindex:0,class:"cursor-pointer border-white/[0.04] transition-colors hover:bg-white/[0.03]",onclick:()=>Pt(e(w).id),onkeydown:T=>T.key==="Enter"&&Pt(e(w).id),children:(T,V)=>{var j=ua(),Q=m(j);y(Q,()=>It,(P,E)=>{E(P,{class:"text-xs text-muted-foreground",children:(te,ue)=>{K();var h=ie();F(()=>Y(h,e(w).releaseDate??"TBA")),r(te,h)},$$slots:{default:!0}})});var q=u(Q,2);y(q,()=>It,(P,E)=>{E(P,{class:"min-w-0 overflow-hidden text-sm font-medium",children:(te,ue)=>{var h=va(),oe=i(h);{var Oe=B=>{Qt(B,{class:"h-3.5 w-3.5 shrink-0 text-yellow-400"})};S(oe,B=>{e(de).has(e(w).id)&&B(Oe)})}var Ne=u(oe,2),De=i(Ne,!0);l(Ne),l(h),F(()=>{mt(Ne,"title",e(w).name),Y(De,e(w).name)}),r(te,h)},$$slots:{default:!0}})});var ne=u(q,2);y(ne,()=>It,(P,E)=>{E(P,{class:"text-right font-mono text-xs text-muted-foreground",children:(te,ue)=>{K();var h=ie();F(oe=>Y(h,oe),[()=>e(w).score!=null?Math.round(e(w).score).toLocaleString():"—"]),r(te,h)},$$slots:{default:!0}})}),r(T,j)},$$slots:{default:!0}})}),r(C,_)}),r(N,Z)},$$slots:{default:!0}})}),r(Be,Ze)},$$slots:{default:!0}})}),l(ve),r(Se,ve)},At=Se=>{var ve=xa();je(ve,21,()=>e(re),Ye,(at,X,Ue)=>{var Be=ba();Be.__click=()=>Pt(e(X).id);var st=i(Be);{var Ze=_=>{var d=ga();F(()=>mt(d,"src",e(X).coverUrl)),r(_,d)},f=_=>{var d=ha(),z=i(d,!0);l(d),F(()=>Y(z,e(X).name)),r(_,d)};S(st,_=>{e(X).coverUrl?_(Ze):_(f,!1)})}var x=u(st,2);{var g=_=>{var d=_a(),z=i(d);Qt(z,{class:"h-4 w-4 text-yellow-400"}),l(d),r(_,d)};S(x,_=>{e(de).has(e(X).id)&&_(g)})}var ee=u(x,2),N=i(ee),D=i(N,!0);l(N);var Z=u(N,2),H=i(Z,!0);l(Z);var C=u(Z,2);{var w=_=>{var d=pa(),z=i(d);l(d),F(ae=>Y(z,`Score: ${ae??""}`),[()=>Math.round(e(X).score).toLocaleString()]),r(_,d)};S(C,_=>{e(X).score!=null&&_(w)})}l(ee),l(Be),F(_=>{Ut(Be,`animation-delay: ${_??""}s`),Y(D,e(X).name),Y(H,e(X).releaseDate??"TBA")},[()=>Math.min(Ue*.02,.3)]),r(at,Be)}),l(ve),r(Se,ve)};S(rt,Se=>{e(Xe)==="table"?Se(Tt):Se(At,!1)},!0)}r(he,Ce)};S(ft,he=>{e(re).length===0?he(Mt):he(Re,!1)},!0)}r(ge,He)};S(Le,ge=>{e(R)?ge(Gt,!1):ge(ut)},!0)}r(W,ce)};S(J,W=>{e(Ge).length===0?W(ke):W(Pe,!1)},!0)}r(M,L)};S(k,M=>{e(Ie)?M(O):M(se,!1)},!0)}r(t,s)};S(Yt,t=>{e(Ke)||e(Ae)?t(lr):t(nr,!1)})}var ir=u(Yt,2);{var dr=t=>{var s=ya(),k=m(s);pe(k,L=>a(yt,L),()=>e(yt));var O=u(k,2);{var se=L=>{var J=wa();r(L,J)},M=L=>{var J=G(),ke=m(J);{var Pe=W=>{var ce=$a(),Le=i(ce);l(ce),F(()=>Y(Le,`${e(re).length??""} of ${e(ye)??""} games`)),r(W,ce)};S(ke,W=>{e(re).length<e(ye)&&W(Pe)},!0)}r(L,J)};S(O,L=>{e(We)?L(se):L(M,!1)})}r(t,s)};S(ir,t=>{e(re).length>0&&t(dr)})}l(Bt);var cr=u(Bt,2);{let t=_e(()=>e(le)!=null&&!e(it)&&e(et)==null),s=_e(()=>e(le)!=null&&e(de).has(e(le)));yr(cr,{get open(){return e($t)},onOpenChange:k=>!k&&er(),get game(){return e(et)},get loading(){return e(it)},get showNotFound(){return e(t)},get isBookmarked(){return e(s)},onToggleBookmark:tr})}r(A,zt),me()}gr(["click"]);export{ja as component};
